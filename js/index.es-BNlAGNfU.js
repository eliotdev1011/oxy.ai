const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "js/index-gbInfnxq.js",
      "js/index-Dg322SbI.js",
      "asset/css/index-BbGFu2YA.css",
    ])
) => i.map((i) => d[i]);
import {
  d4 as hi,
  ag as nv,
  d5 as X5,
  d6 as Z5,
  d7 as e8,
  ck as Hi,
  d8 as t8,
  d9 as r8,
  da as Xl,
  db as sv,
  dc as av,
  dd as i8,
  ci as pt,
  aY as Ki,
  b0 as Wi,
  b1 as Zl,
  de as ed,
  aZ as n8,
} from "./index-Dg322SbI.js";
(function () {
  try {
    var r =
        typeof window < "u"
          ? window
          : typeof pt < "u"
          ? pt
          : typeof self < "u"
          ? self
          : {},
      e = new r.Error().stack;
    e &&
      ((r._sentryDebugIds = r._sentryDebugIds || {}),
      (r._sentryDebugIds[e] = "016e89a9-e482-45a8-ac88-95b20f6fec19"),
      (r._sentryDebugIdIdentifier =
        "sentry-dbid-016e89a9-e482-45a8-ac88-95b20f6fec19"));
  } catch {}
})();
var Pp = function (r, e, t) {
    if (t || arguments.length === 2)
      for (var i = 0, n = e.length, a; i < n; i++)
        (a || !(i in e)) &&
          (a || (a = Array.prototype.slice.call(e, 0, i)), (a[i] = e[i]));
    return r.concat(a || Array.prototype.slice.call(e));
  },
  s8 = (function () {
    function r(e, t, i) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.type = "browser");
    }
    return r;
  })(),
  a8 = (function () {
    function r(e) {
      (this.version = e),
        (this.type = "node"),
        (this.name = "node"),
        (this.os = hi.platform);
    }
    return r;
  })(),
  o8 = (function () {
    function r(e, t, i, n) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.bot = n),
        (this.type = "bot-device");
    }
    return r;
  })(),
  c8 = (function () {
    function r() {
      (this.type = "bot"),
        (this.bot = !0),
        (this.name = "bot"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  f8 = (function () {
    function r() {
      (this.type = "react-native"),
        (this.name = "react-native"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  u8 =
    /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,
  h8 =
    /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,
  Op = 3,
  l8 = [
    ["aol", /AOLShield\/([0-9\._]+)/],
    ["edge", /Edge\/([0-9\._]+)/],
    ["edge-ios", /EdgiOS\/([0-9\._]+)/],
    ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
    ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
    ["samsung", /SamsungBrowser\/([0-9\.]+)/],
    ["silk", /\bSilk\/([0-9._-]+)\b/],
    ["miui", /MiuiBrowser\/([0-9\.]+)$/],
    ["beaker", /BeakerBrowser\/([0-9\.]+)/],
    ["edge-chromium", /EdgA?\/([0-9\.]+)/],
    [
      "chromium-webview",
      /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,
    ],
    ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
    ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
    ["fxios", /FxiOS\/([0-9\.]+)/],
    ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
    ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
    ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
    ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
    [
      "pie",
      /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/,
    ],
    ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
    ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ["ie", /MSIE\s(7\.0)/],
    ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ["android", /Android\s([0-9\.]+)/],
    ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ["safari", /Version\/([0-9\._]+).*Safari/],
    ["facebook", /FB[AS]V\/([0-9\.]+)/],
    ["instagram", /Instagram\s([0-9\.]+)/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
    ["curl", /^curl\/([0-9\.]+)$/],
    ["searchbot", u8],
  ],
  Cp = [
    ["iOS", /iP(hone|od|ad)/],
    ["Android OS", /Android/],
    ["BlackBerry OS", /BlackBerry|BB10/],
    ["Windows Mobile", /IEMobile/],
    ["Amazon OS", /Kindle/],
    ["Windows 3.11", /Win16/],
    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
    ["Windows 98", /(Windows 98)|(Win98)/],
    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
    ["Windows Server 2003", /(Windows NT 5.2)/],
    ["Windows Vista", /(Windows NT 6.0)/],
    ["Windows 7", /(Windows NT 6.1)/],
    ["Windows 8", /(Windows NT 6.2)/],
    ["Windows 8.1", /(Windows NT 6.3)/],
    ["Windows 10", /(Windows NT 10.0)/],
    ["Windows ME", /Windows ME/],
    ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
    ["Open BSD", /OpenBSD/],
    ["Sun OS", /SunOS/],
    ["Chrome OS", /CrOS/],
    ["Linux", /(Linux)|(X11)/],
    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
    ["QNX", /QNX/],
    ["BeOS", /BeOS/],
    ["OS/2", /OS\/2/],
  ];
function d8(r) {
  return typeof document > "u" &&
    typeof navigator < "u" &&
    navigator.product === "ReactNative"
    ? new f8()
    : typeof navigator < "u"
    ? g8(navigator.userAgent)
    : b8();
}
function p8(r) {
  return (
    r !== "" &&
    l8.reduce(function (e, t) {
      var i = t[0],
        n = t[1];
      if (e) return e;
      var a = n.exec(r);
      return !!a && [i, a];
    }, !1)
  );
}
function g8(r) {
  var e = p8(r);
  if (!e) return null;
  var t = e[0],
    i = e[1];
  if (t === "searchbot") return new c8();
  var n = i[1] && i[1].split(".").join("_").split("_").slice(0, 3);
  n
    ? n.length < Op && (n = Pp(Pp([], n, !0), m8(Op - n.length), !0))
    : (n = []);
  var a = n.join("."),
    f = v8(r),
    h = h8.exec(r);
  return h && h[1] ? new o8(t, a, f, h[1]) : new s8(t, a, f);
}
function v8(r) {
  for (var e = 0, t = Cp.length; e < t; e++) {
    var i = Cp[e],
      n = i[0],
      a = i[1],
      f = a.exec(r);
    if (f) return n;
  }
  return null;
}
function b8() {
  var r = typeof hi < "u" && hi.version;
  return r ? new a8(hi.version.slice(1)) : null;
}
function m8(r) {
  for (var e = [], t = 0; t < r; t++) e.push("0");
  return e;
}
var Se = {};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var El =
  function (r, e) {
    return (
      (El =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (t, i) {
            t.__proto__ = i;
          }) ||
        function (t, i) {
          for (var n in i) i.hasOwnProperty(n) && (t[n] = i[n]);
        }),
      El(r, e)
    );
  };
function y8(r, e) {
  El(r, e);
  function t() {
    this.constructor = r;
  }
  r.prototype =
    e === null ? Object.create(e) : ((t.prototype = e.prototype), new t());
}
var Sl = function () {
  return (
    (Sl =
      Object.assign ||
      function (e) {
        for (var t, i = 1, n = arguments.length; i < n; i++) {
          t = arguments[i];
          for (var a in t)
            Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        }
        return e;
      }),
    Sl.apply(this, arguments)
  );
};
function w8(r, e) {
  var t = {};
  for (var i in r)
    Object.prototype.hasOwnProperty.call(r, i) &&
      e.indexOf(i) < 0 &&
      (t[i] = r[i]);
  if (r != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, i = Object.getOwnPropertySymbols(r); n < i.length; n++)
      e.indexOf(i[n]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(r, i[n]) &&
        (t[i[n]] = r[i[n]]);
  return t;
}
function _8(r, e, t, i) {
  var n = arguments.length,
    a =
      n < 3 ? e : i === null ? (i = Object.getOwnPropertyDescriptor(e, t)) : i,
    f;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    a = Reflect.decorate(r, e, t, i);
  else
    for (var h = r.length - 1; h >= 0; h--)
      (f = r[h]) && (a = (n < 3 ? f(a) : n > 3 ? f(e, t, a) : f(e, t)) || a);
  return n > 3 && a && Object.defineProperty(e, t, a), a;
}
function A8(r, e) {
  return function (t, i) {
    e(t, i, r);
  };
}
function E8(r, e) {
  if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
    return Reflect.metadata(r, e);
}
function S8(r, e, t, i) {
  function n(a) {
    return a instanceof t
      ? a
      : new t(function (f) {
          f(a);
        });
  }
  return new (t || (t = Promise))(function (a, f) {
    function h(y) {
      try {
        v(i.next(y));
      } catch (S) {
        f(S);
      }
    }
    function b(y) {
      try {
        v(i.throw(y));
      } catch (S) {
        f(S);
      }
    }
    function v(y) {
      y.done ? a(y.value) : n(y.value).then(h, b);
    }
    v((i = i.apply(r, e || [])).next());
  });
}
function M8(r, e) {
  var t = {
      label: 0,
      sent: function () {
        if (a[0] & 1) throw a[1];
        return a[1];
      },
      trys: [],
      ops: [],
    },
    i,
    n,
    a,
    f;
  return (
    (f = { next: h(0), throw: h(1), return: h(2) }),
    typeof Symbol == "function" &&
      (f[Symbol.iterator] = function () {
        return this;
      }),
    f
  );
  function h(v) {
    return function (y) {
      return b([v, y]);
    };
  }
  function b(v) {
    if (i) throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (
          ((i = 1),
          n &&
            (a =
              v[0] & 2
                ? n.return
                : v[0]
                ? n.throw || ((a = n.return) && a.call(n), 0)
                : n.next) &&
            !(a = a.call(n, v[1])).done)
        )
          return a;
        switch (((n = 0), a && (v = [v[0] & 2, a.value]), v[0])) {
          case 0:
          case 1:
            a = v;
            break;
          case 4:
            return t.label++, { value: v[1], done: !1 };
          case 5:
            t.label++, (n = v[1]), (v = [0]);
            continue;
          case 7:
            (v = t.ops.pop()), t.trys.pop();
            continue;
          default:
            if (
              ((a = t.trys),
              !(a = a.length > 0 && a[a.length - 1]) &&
                (v[0] === 6 || v[0] === 2))
            ) {
              t = 0;
              continue;
            }
            if (v[0] === 3 && (!a || (v[1] > a[0] && v[1] < a[3]))) {
              t.label = v[1];
              break;
            }
            if (v[0] === 6 && t.label < a[1]) {
              (t.label = a[1]), (a = v);
              break;
            }
            if (a && t.label < a[2]) {
              (t.label = a[2]), t.ops.push(v);
              break;
            }
            a[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        v = e.call(r, t);
      } catch (y) {
        (v = [6, y]), (n = 0);
      } finally {
        i = a = 0;
      }
    if (v[0] & 5) throw v[1];
    return { value: v[0] ? v[1] : void 0, done: !0 };
  }
}
function I8(r, e, t, i) {
  i === void 0 && (i = t), (r[i] = e[t]);
}
function x8(r, e) {
  for (var t in r) t !== "default" && !e.hasOwnProperty(t) && (e[t] = r[t]);
}
function Ml(r) {
  var e = typeof Symbol == "function" && Symbol.iterator,
    t = e && r[e],
    i = 0;
  if (t) return t.call(r);
  if (r && typeof r.length == "number")
    return {
      next: function () {
        return (
          r && i >= r.length && (r = void 0), { value: r && r[i++], done: !r }
        );
      },
    };
  throw new TypeError(
    e ? "Object is not iterable." : "Symbol.iterator is not defined."
  );
}
function ov(r, e) {
  var t = typeof Symbol == "function" && r[Symbol.iterator];
  if (!t) return r;
  var i = t.call(r),
    n,
    a = [],
    f;
  try {
    for (; (e === void 0 || e-- > 0) && !(n = i.next()).done; ) a.push(n.value);
  } catch (h) {
    f = { error: h };
  } finally {
    try {
      n && !n.done && (t = i.return) && t.call(i);
    } finally {
      if (f) throw f.error;
    }
  }
  return a;
}
function D8() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r = r.concat(ov(arguments[e]));
  return r;
}
function P8() {
  for (var r = 0, e = 0, t = arguments.length; e < t; e++)
    r += arguments[e].length;
  for (var i = Array(r), n = 0, e = 0; e < t; e++)
    for (var a = arguments[e], f = 0, h = a.length; f < h; f++, n++)
      i[n] = a[f];
  return i;
}
function Ko(r) {
  return this instanceof Ko ? ((this.v = r), this) : new Ko(r);
}
function O8(r, e, t) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var i = t.apply(r, e || []),
    n,
    a = [];
  return (
    (n = {}),
    f("next"),
    f("throw"),
    f("return"),
    (n[Symbol.asyncIterator] = function () {
      return this;
    }),
    n
  );
  function f(O) {
    i[O] &&
      (n[O] = function (P) {
        return new Promise(function (C, H) {
          a.push([O, P, C, H]) > 1 || h(O, P);
        });
      });
  }
  function h(O, P) {
    try {
      b(i[O](P));
    } catch (C) {
      S(a[0][3], C);
    }
  }
  function b(O) {
    O.value instanceof Ko
      ? Promise.resolve(O.value.v).then(v, y)
      : S(a[0][2], O);
  }
  function v(O) {
    h("next", O);
  }
  function y(O) {
    h("throw", O);
  }
  function S(O, P) {
    O(P), a.shift(), a.length && h(a[0][0], a[0][1]);
  }
}
function C8(r) {
  var e, t;
  return (
    (e = {}),
    i("next"),
    i("throw", function (n) {
      throw n;
    }),
    i("return"),
    (e[Symbol.iterator] = function () {
      return this;
    }),
    e
  );
  function i(n, a) {
    e[n] = r[n]
      ? function (f) {
          return (t = !t)
            ? { value: Ko(r[n](f)), done: n === "return" }
            : a
            ? a(f)
            : f;
        }
      : a;
  }
}
function R8(r) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var e = r[Symbol.asyncIterator],
    t;
  return e
    ? e.call(r)
    : ((r = typeof Ml == "function" ? Ml(r) : r[Symbol.iterator]()),
      (t = {}),
      i("next"),
      i("throw"),
      i("return"),
      (t[Symbol.asyncIterator] = function () {
        return this;
      }),
      t);
  function i(a) {
    t[a] =
      r[a] &&
      function (f) {
        return new Promise(function (h, b) {
          (f = r[a](f)), n(h, b, f.done, f.value);
        });
      };
  }
  function n(a, f, h, b) {
    Promise.resolve(b).then(function (v) {
      a({ value: v, done: h });
    }, f);
  }
}
function N8(r, e) {
  return (
    Object.defineProperty
      ? Object.defineProperty(r, "raw", { value: e })
      : (r.raw = e),
    r
  );
}
function T8(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null)
    for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return (e.default = r), e;
}
function F8(r) {
  return r && r.__esModule ? r : { default: r };
}
function B8(r, e) {
  if (!e.has(r))
    throw new TypeError("attempted to get private field on non-instance");
  return e.get(r);
}
function q8(r, e, t) {
  if (!e.has(r))
    throw new TypeError("attempted to set private field on non-instance");
  return e.set(r, t), t;
}
const L8 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        get __assign() {
          return Sl;
        },
        __asyncDelegator: C8,
        __asyncGenerator: O8,
        __asyncValues: R8,
        __await: Ko,
        __awaiter: S8,
        __classPrivateFieldGet: B8,
        __classPrivateFieldSet: q8,
        __createBinding: I8,
        __decorate: _8,
        __exportStar: x8,
        __extends: y8,
        __generator: M8,
        __importDefault: F8,
        __importStar: T8,
        __makeTemplateObject: N8,
        __metadata: E8,
        __param: A8,
        __read: ov,
        __rest: w8,
        __spread: D8,
        __spreadArrays: P8,
        __values: Ml,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  nu = nv(L8);
var Lh = {},
  Eo = {},
  Rp;
function U8() {
  if (Rp) return Eo;
  (Rp = 1),
    Object.defineProperty(Eo, "__esModule", { value: !0 }),
    (Eo.delay = void 0);
  function r(e) {
    return new Promise((t) => {
      setTimeout(() => {
        t(!0);
      }, e);
    });
  }
  return (Eo.delay = r), Eo;
}
var Ks = {},
  Uh = {},
  Vs = {},
  Np;
function $8() {
  return (
    Np ||
      ((Np = 1),
      Object.defineProperty(Vs, "__esModule", { value: !0 }),
      (Vs.ONE_THOUSAND = Vs.ONE_HUNDRED = void 0),
      (Vs.ONE_HUNDRED = 100),
      (Vs.ONE_THOUSAND = 1e3)),
    Vs
  );
}
var $h = {},
  Tp;
function j8() {
  return (
    Tp ||
      ((Tp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ONE_YEAR =
            r.FOUR_WEEKS =
            r.THREE_WEEKS =
            r.TWO_WEEKS =
            r.ONE_WEEK =
            r.THIRTY_DAYS =
            r.SEVEN_DAYS =
            r.FIVE_DAYS =
            r.THREE_DAYS =
            r.ONE_DAY =
            r.TWENTY_FOUR_HOURS =
            r.TWELVE_HOURS =
            r.SIX_HOURS =
            r.THREE_HOURS =
            r.ONE_HOUR =
            r.SIXTY_MINUTES =
            r.THIRTY_MINUTES =
            r.TEN_MINUTES =
            r.FIVE_MINUTES =
            r.ONE_MINUTE =
            r.SIXTY_SECONDS =
            r.THIRTY_SECONDS =
            r.TEN_SECONDS =
            r.FIVE_SECONDS =
            r.ONE_SECOND =
              void 0),
          (r.ONE_SECOND = 1),
          (r.FIVE_SECONDS = 5),
          (r.TEN_SECONDS = 10),
          (r.THIRTY_SECONDS = 30),
          (r.SIXTY_SECONDS = 60),
          (r.ONE_MINUTE = r.SIXTY_SECONDS),
          (r.FIVE_MINUTES = r.ONE_MINUTE * 5),
          (r.TEN_MINUTES = r.ONE_MINUTE * 10),
          (r.THIRTY_MINUTES = r.ONE_MINUTE * 30),
          (r.SIXTY_MINUTES = r.ONE_MINUTE * 60),
          (r.ONE_HOUR = r.SIXTY_MINUTES),
          (r.THREE_HOURS = r.ONE_HOUR * 3),
          (r.SIX_HOURS = r.ONE_HOUR * 6),
          (r.TWELVE_HOURS = r.ONE_HOUR * 12),
          (r.TWENTY_FOUR_HOURS = r.ONE_HOUR * 24),
          (r.ONE_DAY = r.TWENTY_FOUR_HOURS),
          (r.THREE_DAYS = r.ONE_DAY * 3),
          (r.FIVE_DAYS = r.ONE_DAY * 5),
          (r.SEVEN_DAYS = r.ONE_DAY * 7),
          (r.THIRTY_DAYS = r.ONE_DAY * 30),
          (r.ONE_WEEK = r.SEVEN_DAYS),
          (r.TWO_WEEKS = r.ONE_WEEK * 2),
          (r.THREE_WEEKS = r.ONE_WEEK * 3),
          (r.FOUR_WEEKS = r.ONE_WEEK * 4),
          (r.ONE_YEAR = r.ONE_DAY * 365);
      })($h)),
    $h
  );
}
var Fp;
function cv() {
  return (
    Fp ||
      ((Fp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = nu;
        e.__exportStar($8(), r), e.__exportStar(j8(), r);
      })(Uh)),
    Uh
  );
}
var Bp;
function z8() {
  if (Bp) return Ks;
  (Bp = 1),
    Object.defineProperty(Ks, "__esModule", { value: !0 }),
    (Ks.fromMiliseconds = Ks.toMiliseconds = void 0);
  const r = cv();
  function e(i) {
    return i * r.ONE_THOUSAND;
  }
  Ks.toMiliseconds = e;
  function t(i) {
    return Math.floor(i / r.ONE_THOUSAND);
  }
  return (Ks.fromMiliseconds = t), Ks;
}
var qp;
function k8() {
  return (
    qp ||
      ((qp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = nu;
        e.__exportStar(U8(), r), e.__exportStar(z8(), r);
      })(Lh)),
    Lh
  );
}
var Oa = {},
  Lp;
function H8() {
  if (Lp) return Oa;
  (Lp = 1),
    Object.defineProperty(Oa, "__esModule", { value: !0 }),
    (Oa.Watch = void 0);
  class r {
    constructor() {
      this.timestamps = new Map();
    }
    start(t) {
      if (this.timestamps.has(t))
        throw new Error(`Watch already started for label: ${t}`);
      this.timestamps.set(t, { started: Date.now() });
    }
    stop(t) {
      const i = this.get(t);
      if (typeof i.elapsed < "u")
        throw new Error(`Watch already stopped for label: ${t}`);
      const n = Date.now() - i.started;
      this.timestamps.set(t, { started: i.started, elapsed: n });
    }
    get(t) {
      const i = this.timestamps.get(t);
      if (typeof i > "u") throw new Error(`No timestamp found for label: ${t}`);
      return i;
    }
    elapsed(t) {
      const i = this.get(t);
      return i.elapsed || Date.now() - i.started;
    }
  }
  return (Oa.Watch = r), (Oa.default = r), Oa;
}
var jh = {},
  So = {},
  Up;
function K8() {
  if (Up) return So;
  (Up = 1),
    Object.defineProperty(So, "__esModule", { value: !0 }),
    (So.IWatch = void 0);
  class r {}
  return (So.IWatch = r), So;
}
var $p;
function V8() {
  return (
    $p ||
      (($p = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          nu.__exportStar(K8(), r);
      })(jh)),
    jh
  );
}
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  const e = nu;
  e.__exportStar(k8(), r),
    e.__exportStar(H8(), r),
    e.__exportStar(V8(), r),
    e.__exportStar(cv(), r);
})(Se);
var Vt = {};
Object.defineProperty(Vt, "__esModule", { value: !0 });
Vt.getLocalStorage =
  Vt.getLocalStorageOrThrow =
  Vt.getCrypto =
  Vt.getCryptoOrThrow =
  fv =
  Vt.getLocation =
  Vt.getLocationOrThrow =
  td =
  Vt.getNavigator =
  Vt.getNavigatorOrThrow =
  su =
  Vt.getDocument =
  Vt.getDocumentOrThrow =
  Vt.getFromWindowOrThrow =
  Vt.getFromWindow =
    void 0;
function sa(r) {
  let e;
  return typeof window < "u" && typeof window[r] < "u" && (e = window[r]), e;
}
Vt.getFromWindow = sa;
function Ka(r) {
  const e = sa(r);
  if (!e) throw new Error(`${r} is not defined in Window`);
  return e;
}
Vt.getFromWindowOrThrow = Ka;
function G8() {
  return Ka("document");
}
Vt.getDocumentOrThrow = G8;
function W8() {
  return sa("document");
}
var su = (Vt.getDocument = W8);
function J8() {
  return Ka("navigator");
}
Vt.getNavigatorOrThrow = J8;
function Y8() {
  return sa("navigator");
}
var td = (Vt.getNavigator = Y8);
function Q8() {
  return Ka("location");
}
Vt.getLocationOrThrow = Q8;
function X8() {
  return sa("location");
}
var fv = (Vt.getLocation = X8);
function Z8() {
  return Ka("crypto");
}
Vt.getCryptoOrThrow = Z8;
function e4() {
  return sa("crypto");
}
Vt.getCrypto = e4;
function t4() {
  return Ka("localStorage");
}
Vt.getLocalStorageOrThrow = t4;
function r4() {
  return sa("localStorage");
}
Vt.getLocalStorage = r4;
var rd = {};
Object.defineProperty(rd, "__esModule", { value: !0 });
var uv = (rd.getWindowMetadata = void 0);
const jp = Vt;
function i4() {
  let r, e;
  try {
    (r = jp.getDocumentOrThrow()), (e = jp.getLocationOrThrow());
  } catch {
    return null;
  }
  function t() {
    const S = r.getElementsByTagName("link"),
      O = [];
    for (let P = 0; P < S.length; P++) {
      const C = S[P],
        H = C.getAttribute("rel");
      if (H && H.toLowerCase().indexOf("icon") > -1) {
        const V = C.getAttribute("href");
        if (V)
          if (
            V.toLowerCase().indexOf("https:") === -1 &&
            V.toLowerCase().indexOf("http:") === -1 &&
            V.indexOf("//") !== 0
          ) {
            let Q = e.protocol + "//" + e.host;
            if (V.indexOf("/") === 0) Q += V;
            else {
              const j = e.pathname.split("/");
              j.pop();
              const Y = j.join("/");
              Q += Y + "/" + V;
            }
            O.push(Q);
          } else if (V.indexOf("//") === 0) {
            const Q = e.protocol + V;
            O.push(Q);
          } else O.push(V);
      }
    }
    return O;
  }
  function i(...S) {
    const O = r.getElementsByTagName("meta");
    for (let P = 0; P < O.length; P++) {
      const C = O[P],
        H = ["itemprop", "property", "name"]
          .map((V) => C.getAttribute(V))
          .filter((V) => (V ? S.includes(V) : !1));
      if (H.length && H) {
        const V = C.getAttribute("content");
        if (V) return V;
      }
    }
    return "";
  }
  function n() {
    let S = i("name", "og:site_name", "og:title", "twitter:title");
    return S || (S = r.title), S;
  }
  function a() {
    return i(
      "description",
      "og:description",
      "twitter:description",
      "keywords"
    );
  }
  const f = n(),
    h = a(),
    b = e.origin,
    v = t();
  return { description: h, url: b, icons: v, name: f };
}
uv = rd.getWindowMetadata = i4;
var Vo = {},
  n4 = (r) =>
    encodeURIComponent(r).replace(
      /[!'()*]/g,
      (e) => `%${e.charCodeAt(0).toString(16).toUpperCase()}`
    ),
  hv = "%[a-f0-9]{2}",
  zp = new RegExp("(" + hv + ")|([^%]+?)", "gi"),
  kp = new RegExp("(" + hv + ")+", "gi");
function Il(r, e) {
  try {
    return [decodeURIComponent(r.join(""))];
  } catch {}
  if (r.length === 1) return r;
  e = e || 1;
  var t = r.slice(0, e),
    i = r.slice(e);
  return Array.prototype.concat.call([], Il(t), Il(i));
}
function s4(r) {
  try {
    return decodeURIComponent(r);
  } catch {
    for (var e = r.match(zp) || [], t = 1; t < e.length; t++)
      (r = Il(e, t).join("")), (e = r.match(zp) || []);
    return r;
  }
}
function a4(r) {
  for (var e = { "%FE%FF": "��", "%FF%FE": "��" }, t = kp.exec(r); t; ) {
    try {
      e[t[0]] = decodeURIComponent(t[0]);
    } catch {
      var i = s4(t[0]);
      i !== t[0] && (e[t[0]] = i);
    }
    t = kp.exec(r);
  }
  e["%C2"] = "�";
  for (var n = Object.keys(e), a = 0; a < n.length; a++) {
    var f = n[a];
    r = r.replace(new RegExp(f, "g"), e[f]);
  }
  return r;
}
var o4 = function (r) {
    if (typeof r != "string")
      throw new TypeError(
        "Expected `encodedURI` to be of type `string`, got `" + typeof r + "`"
      );
    try {
      return (r = r.replace(/\+/g, " ")), decodeURIComponent(r);
    } catch {
      return a4(r);
    }
  },
  c4 = (r, e) => {
    if (!(typeof r == "string" && typeof e == "string"))
      throw new TypeError("Expected the arguments to be of type `string`");
    if (e === "") return [r];
    const t = r.indexOf(e);
    return t === -1 ? [r] : [r.slice(0, t), r.slice(t + e.length)];
  },
  f4 = function (r, e) {
    for (
      var t = {}, i = Object.keys(r), n = Array.isArray(e), a = 0;
      a < i.length;
      a++
    ) {
      var f = i[a],
        h = r[f];
      (n ? e.indexOf(f) !== -1 : e(f, h, r)) && (t[f] = h);
    }
    return t;
  };
(function (r) {
  const e = n4,
    t = o4,
    i = c4,
    n = f4,
    a = (j) => j == null,
    f = Symbol("encodeFragmentIdentifier");
  function h(j) {
    switch (j.arrayFormat) {
      case "index":
        return (Y) => (U, z) => {
          const G = U.length;
          return z === void 0 ||
            (j.skipNull && z === null) ||
            (j.skipEmptyString && z === "")
            ? U
            : z === null
            ? [...U, [y(Y, j), "[", G, "]"].join("")]
            : [...U, [y(Y, j), "[", y(G, j), "]=", y(z, j)].join("")];
        };
      case "bracket":
        return (Y) => (U, z) =>
          z === void 0 ||
          (j.skipNull && z === null) ||
          (j.skipEmptyString && z === "")
            ? U
            : z === null
            ? [...U, [y(Y, j), "[]"].join("")]
            : [...U, [y(Y, j), "[]=", y(z, j)].join("")];
      case "colon-list-separator":
        return (Y) => (U, z) =>
          z === void 0 ||
          (j.skipNull && z === null) ||
          (j.skipEmptyString && z === "")
            ? U
            : z === null
            ? [...U, [y(Y, j), ":list="].join("")]
            : [...U, [y(Y, j), ":list=", y(z, j)].join("")];
      case "comma":
      case "separator":
      case "bracket-separator": {
        const Y = j.arrayFormat === "bracket-separator" ? "[]=" : "=";
        return (U) => (z, G) =>
          G === void 0 ||
          (j.skipNull && G === null) ||
          (j.skipEmptyString && G === "")
            ? z
            : ((G = G === null ? "" : G),
              z.length === 0
                ? [[y(U, j), Y, y(G, j)].join("")]
                : [[z, y(G, j)].join(j.arrayFormatSeparator)]);
      }
      default:
        return (Y) => (U, z) =>
          z === void 0 ||
          (j.skipNull && z === null) ||
          (j.skipEmptyString && z === "")
            ? U
            : z === null
            ? [...U, y(Y, j)]
            : [...U, [y(Y, j), "=", y(z, j)].join("")];
    }
  }
  function b(j) {
    let Y;
    switch (j.arrayFormat) {
      case "index":
        return (U, z, G) => {
          if (
            ((Y = /\[(\d*)\]$/.exec(U)), (U = U.replace(/\[\d*\]$/, "")), !Y)
          ) {
            G[U] = z;
            return;
          }
          G[U] === void 0 && (G[U] = {}), (G[U][Y[1]] = z);
        };
      case "bracket":
        return (U, z, G) => {
          if (((Y = /(\[\])$/.exec(U)), (U = U.replace(/\[\]$/, "")), !Y)) {
            G[U] = z;
            return;
          }
          if (G[U] === void 0) {
            G[U] = [z];
            return;
          }
          G[U] = [].concat(G[U], z);
        };
      case "colon-list-separator":
        return (U, z, G) => {
          if (((Y = /(:list)$/.exec(U)), (U = U.replace(/:list$/, "")), !Y)) {
            G[U] = z;
            return;
          }
          if (G[U] === void 0) {
            G[U] = [z];
            return;
          }
          G[U] = [].concat(G[U], z);
        };
      case "comma":
      case "separator":
        return (U, z, G) => {
          const A = typeof z == "string" && z.includes(j.arrayFormatSeparator),
            F =
              typeof z == "string" &&
              !A &&
              S(z, j).includes(j.arrayFormatSeparator);
          z = F ? S(z, j) : z;
          const ae =
            A || F
              ? z.split(j.arrayFormatSeparator).map((de) => S(de, j))
              : z === null
              ? z
              : S(z, j);
          G[U] = ae;
        };
      case "bracket-separator":
        return (U, z, G) => {
          const A = /(\[\])$/.test(U);
          if (((U = U.replace(/\[\]$/, "")), !A)) {
            G[U] = z && S(z, j);
            return;
          }
          const F =
            z === null
              ? []
              : z.split(j.arrayFormatSeparator).map((ae) => S(ae, j));
          if (G[U] === void 0) {
            G[U] = F;
            return;
          }
          G[U] = [].concat(G[U], F);
        };
      default:
        return (U, z, G) => {
          if (G[U] === void 0) {
            G[U] = z;
            return;
          }
          G[U] = [].concat(G[U], z);
        };
    }
  }
  function v(j) {
    if (typeof j != "string" || j.length !== 1)
      throw new TypeError(
        "arrayFormatSeparator must be single character string"
      );
  }
  function y(j, Y) {
    return Y.encode ? (Y.strict ? e(j) : encodeURIComponent(j)) : j;
  }
  function S(j, Y) {
    return Y.decode ? t(j) : j;
  }
  function O(j) {
    return Array.isArray(j)
      ? j.sort()
      : typeof j == "object"
      ? O(Object.keys(j))
          .sort((Y, U) => Number(Y) - Number(U))
          .map((Y) => j[Y])
      : j;
  }
  function P(j) {
    const Y = j.indexOf("#");
    return Y !== -1 && (j = j.slice(0, Y)), j;
  }
  function C(j) {
    let Y = "";
    const U = j.indexOf("#");
    return U !== -1 && (Y = j.slice(U)), Y;
  }
  function H(j) {
    j = P(j);
    const Y = j.indexOf("?");
    return Y === -1 ? "" : j.slice(Y + 1);
  }
  function V(j, Y) {
    return (
      Y.parseNumbers &&
      !Number.isNaN(Number(j)) &&
      typeof j == "string" &&
      j.trim() !== ""
        ? (j = Number(j))
        : Y.parseBooleans &&
          j !== null &&
          (j.toLowerCase() === "true" || j.toLowerCase() === "false") &&
          (j = j.toLowerCase() === "true"),
      j
    );
  }
  function Q(j, Y) {
    (Y = Object.assign(
      {
        decode: !0,
        sort: !0,
        arrayFormat: "none",
        arrayFormatSeparator: ",",
        parseNumbers: !1,
        parseBooleans: !1,
      },
      Y
    )),
      v(Y.arrayFormatSeparator);
    const U = b(Y),
      z = Object.create(null);
    if (typeof j != "string" || ((j = j.trim().replace(/^[?#&]/, "")), !j))
      return z;
    for (const G of j.split("&")) {
      if (G === "") continue;
      let [A, F] = i(Y.decode ? G.replace(/\+/g, " ") : G, "=");
      (F =
        F === void 0
          ? null
          : ["comma", "separator", "bracket-separator"].includes(Y.arrayFormat)
          ? F
          : S(F, Y)),
        U(S(A, Y), F, z);
    }
    for (const G of Object.keys(z)) {
      const A = z[G];
      if (typeof A == "object" && A !== null)
        for (const F of Object.keys(A)) A[F] = V(A[F], Y);
      else z[G] = V(A, Y);
    }
    return Y.sort === !1
      ? z
      : (Y.sort === !0
          ? Object.keys(z).sort()
          : Object.keys(z).sort(Y.sort)
        ).reduce((G, A) => {
          const F = z[A];
          return (
            F && typeof F == "object" && !Array.isArray(F)
              ? (G[A] = O(F))
              : (G[A] = F),
            G
          );
        }, Object.create(null));
  }
  (r.extract = H),
    (r.parse = Q),
    (r.stringify = (j, Y) => {
      if (!j) return "";
      (Y = Object.assign(
        {
          encode: !0,
          strict: !0,
          arrayFormat: "none",
          arrayFormatSeparator: ",",
        },
        Y
      )),
        v(Y.arrayFormatSeparator);
      const U = (F) =>
          (Y.skipNull && a(j[F])) || (Y.skipEmptyString && j[F] === ""),
        z = h(Y),
        G = {};
      for (const F of Object.keys(j)) U(F) || (G[F] = j[F]);
      const A = Object.keys(G);
      return (
        Y.sort !== !1 && A.sort(Y.sort),
        A.map((F) => {
          const ae = j[F];
          return ae === void 0
            ? ""
            : ae === null
            ? y(F, Y)
            : Array.isArray(ae)
            ? ae.length === 0 && Y.arrayFormat === "bracket-separator"
              ? y(F, Y) + "[]"
              : ae.reduce(z(F), []).join("&")
            : y(F, Y) + "=" + y(ae, Y);
        })
          .filter((F) => F.length > 0)
          .join("&")
      );
    }),
    (r.parseUrl = (j, Y) => {
      Y = Object.assign({ decode: !0 }, Y);
      const [U, z] = i(j, "#");
      return Object.assign(
        { url: U.split("?")[0] || "", query: Q(H(j), Y) },
        Y && Y.parseFragmentIdentifier && z
          ? { fragmentIdentifier: S(z, Y) }
          : {}
      );
    }),
    (r.stringifyUrl = (j, Y) => {
      Y = Object.assign({ encode: !0, strict: !0, [f]: !0 }, Y);
      const U = P(j.url).split("?")[0] || "",
        z = r.extract(j.url),
        G = r.parse(z, { sort: !1 }),
        A = Object.assign(G, j.query);
      let F = r.stringify(A, Y);
      F && (F = `?${F}`);
      let ae = C(j.url);
      return (
        j.fragmentIdentifier &&
          (ae = `#${Y[f] ? y(j.fragmentIdentifier, Y) : j.fragmentIdentifier}`),
        `${U}${F}${ae}`
      );
    }),
    (r.pick = (j, Y, U) => {
      U = Object.assign({ parseFragmentIdentifier: !0, [f]: !1 }, U);
      const { url: z, query: G, fragmentIdentifier: A } = r.parseUrl(j, U);
      return r.stringifyUrl(
        { url: z, query: n(G, Y), fragmentIdentifier: A },
        U
      );
    }),
    (r.exclude = (j, Y, U) => {
      const z = Array.isArray(Y) ? (G) => !Y.includes(G) : (G, A) => !Y(G, A);
      return r.pick(j, z, U);
    });
})(Vo);
var id = {},
  au = {},
  yt = {},
  lv = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  function e(h, b) {
    var v = (h >>> 16) & 65535,
      y = h & 65535,
      S = (b >>> 16) & 65535,
      O = b & 65535;
    return (y * O + (((v * O + y * S) << 16) >>> 0)) | 0;
  }
  r.mul = Math.imul || e;
  function t(h, b) {
    return (h + b) | 0;
  }
  r.add = t;
  function i(h, b) {
    return (h - b) | 0;
  }
  r.sub = i;
  function n(h, b) {
    return (h << b) | (h >>> (32 - b));
  }
  r.rotl = n;
  function a(h, b) {
    return (h << (32 - b)) | (h >>> b);
  }
  r.rotr = a;
  function f(h) {
    return typeof h == "number" && isFinite(h) && Math.floor(h) === h;
  }
  (r.isInteger = Number.isInteger || f),
    (r.MAX_SAFE_INTEGER = 9007199254740991),
    (r.isSafeInteger = function (h) {
      return (
        r.isInteger(h) && h >= -r.MAX_SAFE_INTEGER && h <= r.MAX_SAFE_INTEGER
      );
    });
})(lv);
Object.defineProperty(yt, "__esModule", { value: !0 });
var dv = lv;
function u4(r, e) {
  return e === void 0 && (e = 0), (((r[e + 0] << 8) | r[e + 1]) << 16) >> 16;
}
yt.readInt16BE = u4;
function h4(r, e) {
  return e === void 0 && (e = 0), ((r[e + 0] << 8) | r[e + 1]) >>> 0;
}
yt.readUint16BE = h4;
function l4(r, e) {
  return e === void 0 && (e = 0), (((r[e + 1] << 8) | r[e]) << 16) >> 16;
}
yt.readInt16LE = l4;
function d4(r, e) {
  return e === void 0 && (e = 0), ((r[e + 1] << 8) | r[e]) >>> 0;
}
yt.readUint16LE = d4;
function pv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(2)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 8),
    (e[t + 1] = r >>> 0),
    e
  );
}
yt.writeUint16BE = pv;
yt.writeInt16BE = pv;
function gv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(2)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 0),
    (e[t + 1] = r >>> 8),
    e
  );
}
yt.writeUint16LE = gv;
yt.writeInt16LE = gv;
function xl(r, e) {
  return (
    e === void 0 && (e = 0),
    (r[e] << 24) | (r[e + 1] << 16) | (r[e + 2] << 8) | r[e + 3]
  );
}
yt.readInt32BE = xl;
function Dl(r, e) {
  return (
    e === void 0 && (e = 0),
    ((r[e] << 24) | (r[e + 1] << 16) | (r[e + 2] << 8) | r[e + 3]) >>> 0
  );
}
yt.readUint32BE = Dl;
function Pl(r, e) {
  return (
    e === void 0 && (e = 0),
    (r[e + 3] << 24) | (r[e + 2] << 16) | (r[e + 1] << 8) | r[e]
  );
}
yt.readInt32LE = Pl;
function Ol(r, e) {
  return (
    e === void 0 && (e = 0),
    ((r[e + 3] << 24) | (r[e + 2] << 16) | (r[e + 1] << 8) | r[e]) >>> 0
  );
}
yt.readUint32LE = Ol;
function Lf(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(4)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 24),
    (e[t + 1] = r >>> 16),
    (e[t + 2] = r >>> 8),
    (e[t + 3] = r >>> 0),
    e
  );
}
yt.writeUint32BE = Lf;
yt.writeInt32BE = Lf;
function Uf(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(4)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 0),
    (e[t + 1] = r >>> 8),
    (e[t + 2] = r >>> 16),
    (e[t + 3] = r >>> 24),
    e
  );
}
yt.writeUint32LE = Uf;
yt.writeInt32LE = Uf;
function p4(r, e) {
  e === void 0 && (e = 0);
  var t = xl(r, e),
    i = xl(r, e + 4);
  return t * 4294967296 + i - (i >> 31) * 4294967296;
}
yt.readInt64BE = p4;
function g4(r, e) {
  e === void 0 && (e = 0);
  var t = Dl(r, e),
    i = Dl(r, e + 4);
  return t * 4294967296 + i;
}
yt.readUint64BE = g4;
function v4(r, e) {
  e === void 0 && (e = 0);
  var t = Pl(r, e),
    i = Pl(r, e + 4);
  return i * 4294967296 + t - (t >> 31) * 4294967296;
}
yt.readInt64LE = v4;
function b4(r, e) {
  e === void 0 && (e = 0);
  var t = Ol(r, e),
    i = Ol(r, e + 4);
  return i * 4294967296 + t;
}
yt.readUint64LE = b4;
function vv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(8)),
    t === void 0 && (t = 0),
    Lf((r / 4294967296) >>> 0, e, t),
    Lf(r >>> 0, e, t + 4),
    e
  );
}
yt.writeUint64BE = vv;
yt.writeInt64BE = vv;
function bv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(8)),
    t === void 0 && (t = 0),
    Uf(r >>> 0, e, t),
    Uf((r / 4294967296) >>> 0, e, t + 4),
    e
  );
}
yt.writeUint64LE = bv;
yt.writeInt64LE = bv;
function m4(r, e, t) {
  if ((t === void 0 && (t = 0), r % 8 !== 0))
    throw new Error("readUintBE supports only bitLengths divisible by 8");
  if (r / 8 > e.length - t)
    throw new Error("readUintBE: array is too short for the given bitLength");
  for (var i = 0, n = 1, a = r / 8 + t - 1; a >= t; a--)
    (i += e[a] * n), (n *= 256);
  return i;
}
yt.readUintBE = m4;
function y4(r, e, t) {
  if ((t === void 0 && (t = 0), r % 8 !== 0))
    throw new Error("readUintLE supports only bitLengths divisible by 8");
  if (r / 8 > e.length - t)
    throw new Error("readUintLE: array is too short for the given bitLength");
  for (var i = 0, n = 1, a = t; a < t + r / 8; a++) (i += e[a] * n), (n *= 256);
  return i;
}
yt.readUintLE = y4;
function w4(r, e, t, i) {
  if (
    (t === void 0 && (t = new Uint8Array(r / 8)),
    i === void 0 && (i = 0),
    r % 8 !== 0)
  )
    throw new Error("writeUintBE supports only bitLengths divisible by 8");
  if (!dv.isSafeInteger(e))
    throw new Error("writeUintBE value must be an integer");
  for (var n = 1, a = r / 8 + i - 1; a >= i; a--)
    (t[a] = (e / n) & 255), (n *= 256);
  return t;
}
yt.writeUintBE = w4;
function _4(r, e, t, i) {
  if (
    (t === void 0 && (t = new Uint8Array(r / 8)),
    i === void 0 && (i = 0),
    r % 8 !== 0)
  )
    throw new Error("writeUintLE supports only bitLengths divisible by 8");
  if (!dv.isSafeInteger(e))
    throw new Error("writeUintLE value must be an integer");
  for (var n = 1, a = i; a < i + r / 8; a++) (t[a] = (e / n) & 255), (n *= 256);
  return t;
}
yt.writeUintLE = _4;
function A4(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat32(e);
}
yt.readFloat32BE = A4;
function E4(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat32(e, !0);
}
yt.readFloat32LE = E4;
function S4(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat64(e);
}
yt.readFloat64BE = S4;
function M4(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat64(e, !0);
}
yt.readFloat64LE = M4;
function I4(r, e, t) {
  e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat32(t, r), e;
}
yt.writeFloat32BE = I4;
function x4(r, e, t) {
  e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat32(t, r, !0), e;
}
yt.writeFloat32LE = x4;
function D4(r, e, t) {
  e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat64(t, r), e;
}
yt.writeFloat64BE = D4;
function P4(r, e, t) {
  e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat64(t, r, !0), e;
}
yt.writeFloat64LE = P4;
var Mi = {};
Object.defineProperty(Mi, "__esModule", { value: !0 });
function O4(r) {
  for (var e = 0; e < r.length; e++) r[e] = 0;
  return r;
}
Mi.wipe = O4;
Object.defineProperty(au, "__esModule", { value: !0 });
var $r = yt,
  Cl = Mi,
  C4 = 20;
function R4(r, e, t) {
  for (
    var i = 1634760805,
      n = 857760878,
      a = 2036477234,
      f = 1797285236,
      h = (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0],
      b = (t[7] << 24) | (t[6] << 16) | (t[5] << 8) | t[4],
      v = (t[11] << 24) | (t[10] << 16) | (t[9] << 8) | t[8],
      y = (t[15] << 24) | (t[14] << 16) | (t[13] << 8) | t[12],
      S = (t[19] << 24) | (t[18] << 16) | (t[17] << 8) | t[16],
      O = (t[23] << 24) | (t[22] << 16) | (t[21] << 8) | t[20],
      P = (t[27] << 24) | (t[26] << 16) | (t[25] << 8) | t[24],
      C = (t[31] << 24) | (t[30] << 16) | (t[29] << 8) | t[28],
      H = (e[3] << 24) | (e[2] << 16) | (e[1] << 8) | e[0],
      V = (e[7] << 24) | (e[6] << 16) | (e[5] << 8) | e[4],
      Q = (e[11] << 24) | (e[10] << 16) | (e[9] << 8) | e[8],
      j = (e[15] << 24) | (e[14] << 16) | (e[13] << 8) | e[12],
      Y = i,
      U = n,
      z = a,
      G = f,
      A = h,
      F = b,
      ae = v,
      de = y,
      B = S,
      m = O,
      c = P,
      u = C,
      g = H,
      _ = V,
      I = Q,
      x = j,
      M = 0;
    M < C4;
    M += 2
  )
    (Y = (Y + A) | 0),
      (g ^= Y),
      (g = (g >>> 16) | (g << 16)),
      (B = (B + g) | 0),
      (A ^= B),
      (A = (A >>> 20) | (A << 12)),
      (U = (U + F) | 0),
      (_ ^= U),
      (_ = (_ >>> 16) | (_ << 16)),
      (m = (m + _) | 0),
      (F ^= m),
      (F = (F >>> 20) | (F << 12)),
      (z = (z + ae) | 0),
      (I ^= z),
      (I = (I >>> 16) | (I << 16)),
      (c = (c + I) | 0),
      (ae ^= c),
      (ae = (ae >>> 20) | (ae << 12)),
      (G = (G + de) | 0),
      (x ^= G),
      (x = (x >>> 16) | (x << 16)),
      (u = (u + x) | 0),
      (de ^= u),
      (de = (de >>> 20) | (de << 12)),
      (z = (z + ae) | 0),
      (I ^= z),
      (I = (I >>> 24) | (I << 8)),
      (c = (c + I) | 0),
      (ae ^= c),
      (ae = (ae >>> 25) | (ae << 7)),
      (G = (G + de) | 0),
      (x ^= G),
      (x = (x >>> 24) | (x << 8)),
      (u = (u + x) | 0),
      (de ^= u),
      (de = (de >>> 25) | (de << 7)),
      (U = (U + F) | 0),
      (_ ^= U),
      (_ = (_ >>> 24) | (_ << 8)),
      (m = (m + _) | 0),
      (F ^= m),
      (F = (F >>> 25) | (F << 7)),
      (Y = (Y + A) | 0),
      (g ^= Y),
      (g = (g >>> 24) | (g << 8)),
      (B = (B + g) | 0),
      (A ^= B),
      (A = (A >>> 25) | (A << 7)),
      (Y = (Y + F) | 0),
      (x ^= Y),
      (x = (x >>> 16) | (x << 16)),
      (c = (c + x) | 0),
      (F ^= c),
      (F = (F >>> 20) | (F << 12)),
      (U = (U + ae) | 0),
      (g ^= U),
      (g = (g >>> 16) | (g << 16)),
      (u = (u + g) | 0),
      (ae ^= u),
      (ae = (ae >>> 20) | (ae << 12)),
      (z = (z + de) | 0),
      (_ ^= z),
      (_ = (_ >>> 16) | (_ << 16)),
      (B = (B + _) | 0),
      (de ^= B),
      (de = (de >>> 20) | (de << 12)),
      (G = (G + A) | 0),
      (I ^= G),
      (I = (I >>> 16) | (I << 16)),
      (m = (m + I) | 0),
      (A ^= m),
      (A = (A >>> 20) | (A << 12)),
      (z = (z + de) | 0),
      (_ ^= z),
      (_ = (_ >>> 24) | (_ << 8)),
      (B = (B + _) | 0),
      (de ^= B),
      (de = (de >>> 25) | (de << 7)),
      (G = (G + A) | 0),
      (I ^= G),
      (I = (I >>> 24) | (I << 8)),
      (m = (m + I) | 0),
      (A ^= m),
      (A = (A >>> 25) | (A << 7)),
      (U = (U + ae) | 0),
      (g ^= U),
      (g = (g >>> 24) | (g << 8)),
      (u = (u + g) | 0),
      (ae ^= u),
      (ae = (ae >>> 25) | (ae << 7)),
      (Y = (Y + F) | 0),
      (x ^= Y),
      (x = (x >>> 24) | (x << 8)),
      (c = (c + x) | 0),
      (F ^= c),
      (F = (F >>> 25) | (F << 7));
  $r.writeUint32LE((Y + i) | 0, r, 0),
    $r.writeUint32LE((U + n) | 0, r, 4),
    $r.writeUint32LE((z + a) | 0, r, 8),
    $r.writeUint32LE((G + f) | 0, r, 12),
    $r.writeUint32LE((A + h) | 0, r, 16),
    $r.writeUint32LE((F + b) | 0, r, 20),
    $r.writeUint32LE((ae + v) | 0, r, 24),
    $r.writeUint32LE((de + y) | 0, r, 28),
    $r.writeUint32LE((B + S) | 0, r, 32),
    $r.writeUint32LE((m + O) | 0, r, 36),
    $r.writeUint32LE((c + P) | 0, r, 40),
    $r.writeUint32LE((u + C) | 0, r, 44),
    $r.writeUint32LE((g + H) | 0, r, 48),
    $r.writeUint32LE((_ + V) | 0, r, 52),
    $r.writeUint32LE((I + Q) | 0, r, 56),
    $r.writeUint32LE((x + j) | 0, r, 60);
}
function mv(r, e, t, i, n) {
  if ((n === void 0 && (n = 0), r.length !== 32))
    throw new Error("ChaCha: key size must be 32 bytes");
  if (i.length < t.length)
    throw new Error("ChaCha: destination is shorter than source");
  var a, f;
  if (n === 0) {
    if (e.length !== 8 && e.length !== 12)
      throw new Error("ChaCha nonce must be 8 or 12 bytes");
    (a = new Uint8Array(16)), (f = a.length - e.length), a.set(e, f);
  } else {
    if (e.length !== 16)
      throw new Error("ChaCha nonce with counter must be 16 bytes");
    (a = e), (f = n);
  }
  for (var h = new Uint8Array(64), b = 0; b < t.length; b += 64) {
    R4(h, a, r);
    for (var v = b; v < b + 64 && v < t.length; v++) i[v] = t[v] ^ h[v - b];
    T4(a, 0, f);
  }
  return Cl.wipe(h), n === 0 && Cl.wipe(a), i;
}
au.streamXOR = mv;
function N4(r, e, t, i) {
  return i === void 0 && (i = 0), Cl.wipe(t), mv(r, e, t, t, i);
}
au.stream = N4;
function T4(r, e, t) {
  for (var i = 1; t--; )
    (i = (i + (r[e] & 255)) | 0), (r[e] = i & 255), (i >>>= 8), e++;
  if (i > 0) throw new Error("ChaCha: counter overflow");
}
var yv = {},
  Ds = {};
Object.defineProperty(Ds, "__esModule", { value: !0 });
function F4(r, e, t) {
  return (~(r - 1) & e) | ((r - 1) & t);
}
Ds.select = F4;
function B4(r, e) {
  return (((r | 0) - (e | 0) - 1) >>> 31) & 1;
}
Ds.lessOrEqual = B4;
function wv(r, e) {
  if (r.length !== e.length) return 0;
  for (var t = 0, i = 0; i < r.length; i++) t |= r[i] ^ e[i];
  return 1 & ((t - 1) >>> 8);
}
Ds.compare = wv;
function q4(r, e) {
  return r.length === 0 || e.length === 0 ? !1 : wv(r, e) !== 0;
}
Ds.equal = q4;
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = Ds,
    t = Mi;
  r.DIGEST_LENGTH = 16;
  var i = (function () {
    function f(h) {
      (this.digestLength = r.DIGEST_LENGTH),
        (this._buffer = new Uint8Array(16)),
        (this._r = new Uint16Array(10)),
        (this._h = new Uint16Array(10)),
        (this._pad = new Uint16Array(8)),
        (this._leftover = 0),
        (this._fin = 0),
        (this._finished = !1);
      var b = h[0] | (h[1] << 8);
      this._r[0] = b & 8191;
      var v = h[2] | (h[3] << 8);
      this._r[1] = ((b >>> 13) | (v << 3)) & 8191;
      var y = h[4] | (h[5] << 8);
      this._r[2] = ((v >>> 10) | (y << 6)) & 7939;
      var S = h[6] | (h[7] << 8);
      this._r[3] = ((y >>> 7) | (S << 9)) & 8191;
      var O = h[8] | (h[9] << 8);
      (this._r[4] = ((S >>> 4) | (O << 12)) & 255),
        (this._r[5] = (O >>> 1) & 8190);
      var P = h[10] | (h[11] << 8);
      this._r[6] = ((O >>> 14) | (P << 2)) & 8191;
      var C = h[12] | (h[13] << 8);
      this._r[7] = ((P >>> 11) | (C << 5)) & 8065;
      var H = h[14] | (h[15] << 8);
      (this._r[8] = ((C >>> 8) | (H << 8)) & 8191),
        (this._r[9] = (H >>> 5) & 127),
        (this._pad[0] = h[16] | (h[17] << 8)),
        (this._pad[1] = h[18] | (h[19] << 8)),
        (this._pad[2] = h[20] | (h[21] << 8)),
        (this._pad[3] = h[22] | (h[23] << 8)),
        (this._pad[4] = h[24] | (h[25] << 8)),
        (this._pad[5] = h[26] | (h[27] << 8)),
        (this._pad[6] = h[28] | (h[29] << 8)),
        (this._pad[7] = h[30] | (h[31] << 8));
    }
    return (
      (f.prototype._blocks = function (h, b, v) {
        for (
          var y = this._fin ? 0 : 2048,
            S = this._h[0],
            O = this._h[1],
            P = this._h[2],
            C = this._h[3],
            H = this._h[4],
            V = this._h[5],
            Q = this._h[6],
            j = this._h[7],
            Y = this._h[8],
            U = this._h[9],
            z = this._r[0],
            G = this._r[1],
            A = this._r[2],
            F = this._r[3],
            ae = this._r[4],
            de = this._r[5],
            B = this._r[6],
            m = this._r[7],
            c = this._r[8],
            u = this._r[9];
          v >= 16;

        ) {
          var g = h[b + 0] | (h[b + 1] << 8);
          S += g & 8191;
          var _ = h[b + 2] | (h[b + 3] << 8);
          O += ((g >>> 13) | (_ << 3)) & 8191;
          var I = h[b + 4] | (h[b + 5] << 8);
          P += ((_ >>> 10) | (I << 6)) & 8191;
          var x = h[b + 6] | (h[b + 7] << 8);
          C += ((I >>> 7) | (x << 9)) & 8191;
          var M = h[b + 8] | (h[b + 9] << 8);
          (H += ((x >>> 4) | (M << 12)) & 8191), (V += (M >>> 1) & 8191);
          var d = h[b + 10] | (h[b + 11] << 8);
          Q += ((M >>> 14) | (d << 2)) & 8191;
          var p = h[b + 12] | (h[b + 13] << 8);
          j += ((d >>> 11) | (p << 5)) & 8191;
          var N = h[b + 14] | (h[b + 15] << 8);
          (Y += ((p >>> 8) | (N << 8)) & 8191), (U += (N >>> 5) | y);
          var Z = 0,
            se = Z;
          (se += S * z),
            (se += O * (5 * u)),
            (se += P * (5 * c)),
            (se += C * (5 * m)),
            (se += H * (5 * B)),
            (Z = se >>> 13),
            (se &= 8191),
            (se += V * (5 * de)),
            (se += Q * (5 * ae)),
            (se += j * (5 * F)),
            (se += Y * (5 * A)),
            (se += U * (5 * G)),
            (Z += se >>> 13),
            (se &= 8191);
          var D = Z;
          (D += S * G),
            (D += O * z),
            (D += P * (5 * u)),
            (D += C * (5 * c)),
            (D += H * (5 * m)),
            (Z = D >>> 13),
            (D &= 8191),
            (D += V * (5 * B)),
            (D += Q * (5 * de)),
            (D += j * (5 * ae)),
            (D += Y * (5 * F)),
            (D += U * (5 * A)),
            (Z += D >>> 13),
            (D &= 8191);
          var ee = Z;
          (ee += S * A),
            (ee += O * G),
            (ee += P * z),
            (ee += C * (5 * u)),
            (ee += H * (5 * c)),
            (Z = ee >>> 13),
            (ee &= 8191),
            (ee += V * (5 * m)),
            (ee += Q * (5 * B)),
            (ee += j * (5 * de)),
            (ee += Y * (5 * ae)),
            (ee += U * (5 * F)),
            (Z += ee >>> 13),
            (ee &= 8191);
          var q = Z;
          (q += S * F),
            (q += O * A),
            (q += P * G),
            (q += C * z),
            (q += H * (5 * u)),
            (Z = q >>> 13),
            (q &= 8191),
            (q += V * (5 * c)),
            (q += Q * (5 * m)),
            (q += j * (5 * B)),
            (q += Y * (5 * de)),
            (q += U * (5 * ae)),
            (Z += q >>> 13),
            (q &= 8191);
          var k = Z;
          (k += S * ae),
            (k += O * F),
            (k += P * A),
            (k += C * G),
            (k += H * z),
            (Z = k >>> 13),
            (k &= 8191),
            (k += V * (5 * u)),
            (k += Q * (5 * c)),
            (k += j * (5 * m)),
            (k += Y * (5 * B)),
            (k += U * (5 * de)),
            (Z += k >>> 13),
            (k &= 8191);
          var K = Z;
          (K += S * de),
            (K += O * ae),
            (K += P * F),
            (K += C * A),
            (K += H * G),
            (Z = K >>> 13),
            (K &= 8191),
            (K += V * z),
            (K += Q * (5 * u)),
            (K += j * (5 * c)),
            (K += Y * (5 * m)),
            (K += U * (5 * B)),
            (Z += K >>> 13),
            (K &= 8191);
          var w = Z;
          (w += S * B),
            (w += O * de),
            (w += P * ae),
            (w += C * F),
            (w += H * A),
            (Z = w >>> 13),
            (w &= 8191),
            (w += V * G),
            (w += Q * z),
            (w += j * (5 * u)),
            (w += Y * (5 * c)),
            (w += U * (5 * m)),
            (Z += w >>> 13),
            (w &= 8191);
          var $ = Z;
          ($ += S * m),
            ($ += O * B),
            ($ += P * de),
            ($ += C * ae),
            ($ += H * F),
            (Z = $ >>> 13),
            ($ &= 8191),
            ($ += V * A),
            ($ += Q * G),
            ($ += j * z),
            ($ += Y * (5 * u)),
            ($ += U * (5 * c)),
            (Z += $ >>> 13),
            ($ &= 8191);
          var ne = Z;
          (ne += S * c),
            (ne += O * m),
            (ne += P * B),
            (ne += C * de),
            (ne += H * ae),
            (Z = ne >>> 13),
            (ne &= 8191),
            (ne += V * F),
            (ne += Q * A),
            (ne += j * G),
            (ne += Y * z),
            (ne += U * (5 * u)),
            (Z += ne >>> 13),
            (ne &= 8191);
          var ce = Z;
          (ce += S * u),
            (ce += O * c),
            (ce += P * m),
            (ce += C * B),
            (ce += H * de),
            (Z = ce >>> 13),
            (ce &= 8191),
            (ce += V * ae),
            (ce += Q * F),
            (ce += j * A),
            (ce += Y * G),
            (ce += U * z),
            (Z += ce >>> 13),
            (ce &= 8191),
            (Z = ((Z << 2) + Z) | 0),
            (Z = (Z + se) | 0),
            (se = Z & 8191),
            (Z = Z >>> 13),
            (D += Z),
            (S = se),
            (O = D),
            (P = ee),
            (C = q),
            (H = k),
            (V = K),
            (Q = w),
            (j = $),
            (Y = ne),
            (U = ce),
            (b += 16),
            (v -= 16);
        }
        (this._h[0] = S),
          (this._h[1] = O),
          (this._h[2] = P),
          (this._h[3] = C),
          (this._h[4] = H),
          (this._h[5] = V),
          (this._h[6] = Q),
          (this._h[7] = j),
          (this._h[8] = Y),
          (this._h[9] = U);
      }),
      (f.prototype.finish = function (h, b) {
        b === void 0 && (b = 0);
        var v = new Uint16Array(10),
          y,
          S,
          O,
          P;
        if (this._leftover) {
          for (P = this._leftover, this._buffer[P++] = 1; P < 16; P++)
            this._buffer[P] = 0;
          (this._fin = 1), this._blocks(this._buffer, 0, 16);
        }
        for (y = this._h[1] >>> 13, this._h[1] &= 8191, P = 2; P < 10; P++)
          (this._h[P] += y), (y = this._h[P] >>> 13), (this._h[P] &= 8191);
        for (
          this._h[0] += y * 5,
            y = this._h[0] >>> 13,
            this._h[0] &= 8191,
            this._h[1] += y,
            y = this._h[1] >>> 13,
            this._h[1] &= 8191,
            this._h[2] += y,
            v[0] = this._h[0] + 5,
            y = v[0] >>> 13,
            v[0] &= 8191,
            P = 1;
          P < 10;
          P++
        )
          (v[P] = this._h[P] + y), (y = v[P] >>> 13), (v[P] &= 8191);
        for (v[9] -= 8192, S = (y ^ 1) - 1, P = 0; P < 10; P++) v[P] &= S;
        for (S = ~S, P = 0; P < 10; P++) this._h[P] = (this._h[P] & S) | v[P];
        for (
          this._h[0] = (this._h[0] | (this._h[1] << 13)) & 65535,
            this._h[1] = ((this._h[1] >>> 3) | (this._h[2] << 10)) & 65535,
            this._h[2] = ((this._h[2] >>> 6) | (this._h[3] << 7)) & 65535,
            this._h[3] = ((this._h[3] >>> 9) | (this._h[4] << 4)) & 65535,
            this._h[4] =
              ((this._h[4] >>> 12) | (this._h[5] << 1) | (this._h[6] << 14)) &
              65535,
            this._h[5] = ((this._h[6] >>> 2) | (this._h[7] << 11)) & 65535,
            this._h[6] = ((this._h[7] >>> 5) | (this._h[8] << 8)) & 65535,
            this._h[7] = ((this._h[8] >>> 8) | (this._h[9] << 5)) & 65535,
            O = this._h[0] + this._pad[0],
            this._h[0] = O & 65535,
            P = 1;
          P < 8;
          P++
        )
          (O = (((this._h[P] + this._pad[P]) | 0) + (O >>> 16)) | 0),
            (this._h[P] = O & 65535);
        return (
          (h[b + 0] = this._h[0] >>> 0),
          (h[b + 1] = this._h[0] >>> 8),
          (h[b + 2] = this._h[1] >>> 0),
          (h[b + 3] = this._h[1] >>> 8),
          (h[b + 4] = this._h[2] >>> 0),
          (h[b + 5] = this._h[2] >>> 8),
          (h[b + 6] = this._h[3] >>> 0),
          (h[b + 7] = this._h[3] >>> 8),
          (h[b + 8] = this._h[4] >>> 0),
          (h[b + 9] = this._h[4] >>> 8),
          (h[b + 10] = this._h[5] >>> 0),
          (h[b + 11] = this._h[5] >>> 8),
          (h[b + 12] = this._h[6] >>> 0),
          (h[b + 13] = this._h[6] >>> 8),
          (h[b + 14] = this._h[7] >>> 0),
          (h[b + 15] = this._h[7] >>> 8),
          (this._finished = !0),
          this
        );
      }),
      (f.prototype.update = function (h) {
        var b = 0,
          v = h.length,
          y;
        if (this._leftover) {
          (y = 16 - this._leftover), y > v && (y = v);
          for (var S = 0; S < y; S++)
            this._buffer[this._leftover + S] = h[b + S];
          if (((v -= y), (b += y), (this._leftover += y), this._leftover < 16))
            return this;
          this._blocks(this._buffer, 0, 16), (this._leftover = 0);
        }
        if (
          (v >= 16 &&
            ((y = v - (v % 16)), this._blocks(h, b, y), (b += y), (v -= y)),
          v)
        ) {
          for (var S = 0; S < v; S++)
            this._buffer[this._leftover + S] = h[b + S];
          this._leftover += v;
        }
        return this;
      }),
      (f.prototype.digest = function () {
        if (this._finished) throw new Error("Poly1305 was finished");
        var h = new Uint8Array(16);
        return this.finish(h), h;
      }),
      (f.prototype.clean = function () {
        return (
          t.wipe(this._buffer),
          t.wipe(this._r),
          t.wipe(this._h),
          t.wipe(this._pad),
          (this._leftover = 0),
          (this._fin = 0),
          (this._finished = !0),
          this
        );
      }),
      f
    );
  })();
  r.Poly1305 = i;
  function n(f, h) {
    var b = new i(f);
    b.update(h);
    var v = b.digest();
    return b.clean(), v;
  }
  r.oneTimeAuth = n;
  function a(f, h) {
    return f.length !== r.DIGEST_LENGTH || h.length !== r.DIGEST_LENGTH
      ? !1
      : e.equal(f, h);
  }
  r.equal = a;
})(yv);
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = au,
    t = yv,
    i = Mi,
    n = yt,
    a = Ds;
  (r.KEY_LENGTH = 32), (r.NONCE_LENGTH = 12), (r.TAG_LENGTH = 16);
  var f = new Uint8Array(16),
    h = (function () {
      function b(v) {
        if (
          ((this.nonceLength = r.NONCE_LENGTH),
          (this.tagLength = r.TAG_LENGTH),
          v.length !== r.KEY_LENGTH)
        )
          throw new Error("ChaCha20Poly1305 needs 32-byte key");
        this._key = new Uint8Array(v);
      }
      return (
        (b.prototype.seal = function (v, y, S, O) {
          if (v.length > 16)
            throw new Error("ChaCha20Poly1305: incorrect nonce length");
          var P = new Uint8Array(16);
          P.set(v, P.length - v.length);
          var C = new Uint8Array(32);
          e.stream(this._key, P, C, 4);
          var H = y.length + this.tagLength,
            V;
          if (O) {
            if (O.length !== H)
              throw new Error("ChaCha20Poly1305: incorrect destination length");
            V = O;
          } else V = new Uint8Array(H);
          return (
            e.streamXOR(this._key, P, y, V, 4),
            this._authenticate(
              V.subarray(V.length - this.tagLength, V.length),
              C,
              V.subarray(0, V.length - this.tagLength),
              S
            ),
            i.wipe(P),
            V
          );
        }),
        (b.prototype.open = function (v, y, S, O) {
          if (v.length > 16)
            throw new Error("ChaCha20Poly1305: incorrect nonce length");
          if (y.length < this.tagLength) return null;
          var P = new Uint8Array(16);
          P.set(v, P.length - v.length);
          var C = new Uint8Array(32);
          e.stream(this._key, P, C, 4);
          var H = new Uint8Array(this.tagLength);
          if (
            (this._authenticate(
              H,
              C,
              y.subarray(0, y.length - this.tagLength),
              S
            ),
            !a.equal(H, y.subarray(y.length - this.tagLength, y.length)))
          )
            return null;
          var V = y.length - this.tagLength,
            Q;
          if (O) {
            if (O.length !== V)
              throw new Error("ChaCha20Poly1305: incorrect destination length");
            Q = O;
          } else Q = new Uint8Array(V);
          return (
            e.streamXOR(
              this._key,
              P,
              y.subarray(0, y.length - this.tagLength),
              Q,
              4
            ),
            i.wipe(P),
            Q
          );
        }),
        (b.prototype.clean = function () {
          return i.wipe(this._key), this;
        }),
        (b.prototype._authenticate = function (v, y, S, O) {
          var P = new t.Poly1305(y);
          O &&
            (P.update(O),
            O.length % 16 > 0 && P.update(f.subarray(O.length % 16))),
            P.update(S),
            S.length % 16 > 0 && P.update(f.subarray(S.length % 16));
          var C = new Uint8Array(8);
          O && n.writeUint64LE(O.length, C),
            P.update(C),
            n.writeUint64LE(S.length, C),
            P.update(C);
          for (var H = P.digest(), V = 0; V < H.length; V++) v[V] = H[V];
          P.clean(), i.wipe(H), i.wipe(C);
        }),
        b
      );
    })();
  r.ChaCha20Poly1305 = h;
})(id);
var _v = {},
  ec = {},
  nd = {};
Object.defineProperty(nd, "__esModule", { value: !0 });
function L4(r) {
  return (
    typeof r.saveState < "u" &&
    typeof r.restoreState < "u" &&
    typeof r.cleanSavedState < "u"
  );
}
nd.isSerializableHash = L4;
Object.defineProperty(ec, "__esModule", { value: !0 });
var Sn = nd,
  U4 = Ds,
  $4 = Mi,
  Av = (function () {
    function r(e, t) {
      (this._finished = !1),
        (this._inner = new e()),
        (this._outer = new e()),
        (this.blockSize = this._outer.blockSize),
        (this.digestLength = this._outer.digestLength);
      var i = new Uint8Array(this.blockSize);
      t.length > this.blockSize
        ? this._inner.update(t).finish(i).clean()
        : i.set(t);
      for (var n = 0; n < i.length; n++) i[n] ^= 54;
      this._inner.update(i);
      for (var n = 0; n < i.length; n++) i[n] ^= 106;
      this._outer.update(i),
        Sn.isSerializableHash(this._inner) &&
          Sn.isSerializableHash(this._outer) &&
          ((this._innerKeyedState = this._inner.saveState()),
          (this._outerKeyedState = this._outer.saveState())),
        $4.wipe(i);
    }
    return (
      (r.prototype.reset = function () {
        if (
          !Sn.isSerializableHash(this._inner) ||
          !Sn.isSerializableHash(this._outer)
        )
          throw new Error(
            "hmac: can't reset() because hash doesn't implement restoreState()"
          );
        return (
          this._inner.restoreState(this._innerKeyedState),
          this._outer.restoreState(this._outerKeyedState),
          (this._finished = !1),
          this
        );
      }),
      (r.prototype.clean = function () {
        Sn.isSerializableHash(this._inner) &&
          this._inner.cleanSavedState(this._innerKeyedState),
          Sn.isSerializableHash(this._outer) &&
            this._outer.cleanSavedState(this._outerKeyedState),
          this._inner.clean(),
          this._outer.clean();
      }),
      (r.prototype.update = function (e) {
        return this._inner.update(e), this;
      }),
      (r.prototype.finish = function (e) {
        return this._finished
          ? (this._outer.finish(e), this)
          : (this._inner.finish(e),
            this._outer.update(e.subarray(0, this.digestLength)).finish(e),
            (this._finished = !0),
            this);
      }),
      (r.prototype.digest = function () {
        var e = new Uint8Array(this.digestLength);
        return this.finish(e), e;
      }),
      (r.prototype.saveState = function () {
        if (!Sn.isSerializableHash(this._inner))
          throw new Error(
            "hmac: can't saveState() because hash doesn't implement it"
          );
        return this._inner.saveState();
      }),
      (r.prototype.restoreState = function (e) {
        if (
          !Sn.isSerializableHash(this._inner) ||
          !Sn.isSerializableHash(this._outer)
        )
          throw new Error(
            "hmac: can't restoreState() because hash doesn't implement it"
          );
        return (
          this._inner.restoreState(e),
          this._outer.restoreState(this._outerKeyedState),
          (this._finished = !1),
          this
        );
      }),
      (r.prototype.cleanSavedState = function (e) {
        if (!Sn.isSerializableHash(this._inner))
          throw new Error(
            "hmac: can't cleanSavedState() because hash doesn't implement it"
          );
        this._inner.cleanSavedState(e);
      }),
      r
    );
  })();
ec.HMAC = Av;
function j4(r, e, t) {
  var i = new Av(r, e);
  i.update(t);
  var n = i.digest();
  return i.clean(), n;
}
ec.hmac = j4;
ec.equal = U4.equal;
Object.defineProperty(_v, "__esModule", { value: !0 });
var Hp = ec,
  Kp = Mi,
  z4 = (function () {
    function r(e, t, i, n) {
      i === void 0 && (i = new Uint8Array(0)),
        (this._counter = new Uint8Array(1)),
        (this._hash = e),
        (this._info = n);
      var a = Hp.hmac(this._hash, i, t);
      (this._hmac = new Hp.HMAC(e, a)),
        (this._buffer = new Uint8Array(this._hmac.digestLength)),
        (this._bufpos = this._buffer.length);
    }
    return (
      (r.prototype._fillBuffer = function () {
        this._counter[0]++;
        var e = this._counter[0];
        if (e === 0) throw new Error("hkdf: cannot expand more");
        this._hmac.reset(),
          e > 1 && this._hmac.update(this._buffer),
          this._info && this._hmac.update(this._info),
          this._hmac.update(this._counter),
          this._hmac.finish(this._buffer),
          (this._bufpos = 0);
      }),
      (r.prototype.expand = function (e) {
        for (var t = new Uint8Array(e), i = 0; i < t.length; i++)
          this._bufpos === this._buffer.length && this._fillBuffer(),
            (t[i] = this._buffer[this._bufpos++]);
        return t;
      }),
      (r.prototype.clean = function () {
        this._hmac.clean(),
          Kp.wipe(this._buffer),
          Kp.wipe(this._counter),
          (this._bufpos = 0);
      }),
      r
    );
  })(),
  k4 = (_v.HKDF = z4),
  Ps = {},
  ou = {},
  cu = {};
Object.defineProperty(cu, "__esModule", { value: !0 });
cu.BrowserRandomSource = void 0;
const Vp = 65536;
class H4 {
  constructor() {
    (this.isAvailable = !1), (this.isInstantiated = !1);
    const e = typeof self < "u" ? self.crypto || self.msCrypto : null;
    e &&
      e.getRandomValues !== void 0 &&
      ((this._crypto = e), (this.isAvailable = !0), (this.isInstantiated = !0));
  }
  randomBytes(e) {
    if (!this.isAvailable || !this._crypto)
      throw new Error("Browser random byte generator is not available.");
    const t = new Uint8Array(e);
    for (let i = 0; i < t.length; i += Vp)
      this._crypto.getRandomValues(
        t.subarray(i, i + Math.min(t.length - i, Vp))
      );
    return t;
  }
}
cu.BrowserRandomSource = H4;
var fu = {};
Object.defineProperty(fu, "__esModule", { value: !0 });
fu.NodeRandomSource = void 0;
const K4 = Mi;
class V4 {
  constructor() {
    if (
      ((this.isAvailable = !1), (this.isInstantiated = !1), typeof X5 < "u")
    ) {
      const e = Z5();
      e &&
        e.randomBytes &&
        ((this._crypto = e),
        (this.isAvailable = !0),
        (this.isInstantiated = !0));
    }
  }
  randomBytes(e) {
    if (!this.isAvailable || !this._crypto)
      throw new Error("Node.js random byte generator is not available.");
    let t = this._crypto.randomBytes(e);
    if (t.length !== e)
      throw new Error("NodeRandomSource: got fewer bytes than requested");
    const i = new Uint8Array(e);
    for (let n = 0; n < i.length; n++) i[n] = t[n];
    return (0, K4.wipe)(t), i;
  }
}
fu.NodeRandomSource = V4;
Object.defineProperty(ou, "__esModule", { value: !0 });
ou.SystemRandomSource = void 0;
const G4 = cu,
  W4 = fu;
class J4 {
  constructor() {
    if (
      ((this.isAvailable = !1),
      (this.name = ""),
      (this._source = new G4.BrowserRandomSource()),
      this._source.isAvailable)
    ) {
      (this.isAvailable = !0), (this.name = "Browser");
      return;
    }
    if (
      ((this._source = new W4.NodeRandomSource()), this._source.isAvailable)
    ) {
      (this.isAvailable = !0), (this.name = "Node");
      return;
    }
  }
  randomBytes(e) {
    if (!this.isAvailable)
      throw new Error("System random byte generator is not available.");
    return this._source.randomBytes(e);
  }
}
ou.SystemRandomSource = J4;
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 }),
    (r.randomStringForEntropy =
      r.randomString =
      r.randomUint32 =
      r.randomBytes =
      r.defaultRandomSource =
        void 0);
  const e = ou,
    t = yt,
    i = Mi;
  r.defaultRandomSource = new e.SystemRandomSource();
  function n(v, y = r.defaultRandomSource) {
    return y.randomBytes(v);
  }
  r.randomBytes = n;
  function a(v = r.defaultRandomSource) {
    const y = n(4, v),
      S = (0, t.readUint32LE)(y);
    return (0, i.wipe)(y), S;
  }
  r.randomUint32 = a;
  const f = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
  function h(v, y = f, S = r.defaultRandomSource) {
    if (y.length < 2) throw new Error("randomString charset is too short");
    if (y.length > 256) throw new Error("randomString charset is too long");
    let O = "";
    const P = y.length,
      C = 256 - (256 % P);
    for (; v > 0; ) {
      const H = n(Math.ceil((v * 256) / C), S);
      for (let V = 0; V < H.length && v > 0; V++) {
        const Q = H[V];
        Q < C && ((O += y.charAt(Q % P)), v--);
      }
      (0, i.wipe)(H);
    }
    return O;
  }
  r.randomString = h;
  function b(v, y = f, S = r.defaultRandomSource) {
    const O = Math.ceil(v / (Math.log(y.length) / Math.LN2));
    return h(O, y, S);
  }
  r.randomStringForEntropy = b;
})(Ps);
var tc = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = yt,
    t = Mi;
  (r.DIGEST_LENGTH = 32), (r.BLOCK_SIZE = 64);
  var i = (function () {
    function h() {
      (this.digestLength = r.DIGEST_LENGTH),
        (this.blockSize = r.BLOCK_SIZE),
        (this._state = new Int32Array(8)),
        (this._temp = new Int32Array(64)),
        (this._buffer = new Uint8Array(128)),
        (this._bufferLength = 0),
        (this._bytesHashed = 0),
        (this._finished = !1),
        this.reset();
    }
    return (
      (h.prototype._initState = function () {
        (this._state[0] = 1779033703),
          (this._state[1] = 3144134277),
          (this._state[2] = 1013904242),
          (this._state[3] = 2773480762),
          (this._state[4] = 1359893119),
          (this._state[5] = 2600822924),
          (this._state[6] = 528734635),
          (this._state[7] = 1541459225);
      }),
      (h.prototype.reset = function () {
        return (
          this._initState(),
          (this._bufferLength = 0),
          (this._bytesHashed = 0),
          (this._finished = !1),
          this
        );
      }),
      (h.prototype.clean = function () {
        t.wipe(this._buffer), t.wipe(this._temp), this.reset();
      }),
      (h.prototype.update = function (b, v) {
        if ((v === void 0 && (v = b.length), this._finished))
          throw new Error("SHA256: can't update because hash was finished.");
        var y = 0;
        if (((this._bytesHashed += v), this._bufferLength > 0)) {
          for (; this._bufferLength < this.blockSize && v > 0; )
            (this._buffer[this._bufferLength++] = b[y++]), v--;
          this._bufferLength === this.blockSize &&
            (a(this._temp, this._state, this._buffer, 0, this.blockSize),
            (this._bufferLength = 0));
        }
        for (
          v >= this.blockSize &&
          ((y = a(this._temp, this._state, b, y, v)), (v %= this.blockSize));
          v > 0;

        )
          (this._buffer[this._bufferLength++] = b[y++]), v--;
        return this;
      }),
      (h.prototype.finish = function (b) {
        if (!this._finished) {
          var v = this._bytesHashed,
            y = this._bufferLength,
            S = (v / 536870912) | 0,
            O = v << 3,
            P = v % 64 < 56 ? 64 : 128;
          this._buffer[y] = 128;
          for (var C = y + 1; C < P - 8; C++) this._buffer[C] = 0;
          e.writeUint32BE(S, this._buffer, P - 8),
            e.writeUint32BE(O, this._buffer, P - 4),
            a(this._temp, this._state, this._buffer, 0, P),
            (this._finished = !0);
        }
        for (var C = 0; C < this.digestLength / 4; C++)
          e.writeUint32BE(this._state[C], b, C * 4);
        return this;
      }),
      (h.prototype.digest = function () {
        var b = new Uint8Array(this.digestLength);
        return this.finish(b), b;
      }),
      (h.prototype.saveState = function () {
        if (this._finished)
          throw new Error("SHA256: cannot save finished state");
        return {
          state: new Int32Array(this._state),
          buffer:
            this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
          bufferLength: this._bufferLength,
          bytesHashed: this._bytesHashed,
        };
      }),
      (h.prototype.restoreState = function (b) {
        return (
          this._state.set(b.state),
          (this._bufferLength = b.bufferLength),
          b.buffer && this._buffer.set(b.buffer),
          (this._bytesHashed = b.bytesHashed),
          (this._finished = !1),
          this
        );
      }),
      (h.prototype.cleanSavedState = function (b) {
        t.wipe(b.state),
          b.buffer && t.wipe(b.buffer),
          (b.bufferLength = 0),
          (b.bytesHashed = 0);
      }),
      h
    );
  })();
  r.SHA256 = i;
  var n = new Int32Array([
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ]);
  function a(h, b, v, y, S) {
    for (; S >= 64; ) {
      for (
        var O = b[0],
          P = b[1],
          C = b[2],
          H = b[3],
          V = b[4],
          Q = b[5],
          j = b[6],
          Y = b[7],
          U = 0;
        U < 16;
        U++
      ) {
        var z = y + U * 4;
        h[U] = e.readUint32BE(v, z);
      }
      for (var U = 16; U < 64; U++) {
        var G = h[U - 2],
          A = ((G >>> 17) | (G << 15)) ^ ((G >>> 19) | (G << 13)) ^ (G >>> 10);
        G = h[U - 15];
        var F = ((G >>> 7) | (G << 25)) ^ ((G >>> 18) | (G << 14)) ^ (G >>> 3);
        h[U] = ((A + h[U - 7]) | 0) + ((F + h[U - 16]) | 0);
      }
      for (var U = 0; U < 64; U++) {
        var A =
            ((((((V >>> 6) | (V << 26)) ^
              ((V >>> 11) | (V << 21)) ^
              ((V >>> 25) | (V << 7))) +
              ((V & Q) ^ (~V & j))) |
              0) +
              ((Y + ((n[U] + h[U]) | 0)) | 0)) |
            0,
          F =
            ((((O >>> 2) | (O << 30)) ^
              ((O >>> 13) | (O << 19)) ^
              ((O >>> 22) | (O << 10))) +
              ((O & P) ^ (O & C) ^ (P & C))) |
            0;
        (Y = j),
          (j = Q),
          (Q = V),
          (V = (H + A) | 0),
          (H = C),
          (C = P),
          (P = O),
          (O = (A + F) | 0);
      }
      (b[0] += O),
        (b[1] += P),
        (b[2] += C),
        (b[3] += H),
        (b[4] += V),
        (b[5] += Q),
        (b[6] += j),
        (b[7] += Y),
        (y += 64),
        (S -= 64);
    }
    return y;
  }
  function f(h) {
    var b = new i();
    b.update(h);
    var v = b.digest();
    return b.clean(), v;
  }
  r.hash = f;
})(tc);
var sd = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 }),
    (r.sharedKey =
      r.generateKeyPair =
      r.generateKeyPairFromSeed =
      r.scalarMultBase =
      r.scalarMult =
      r.SHARED_KEY_LENGTH =
      r.SECRET_KEY_LENGTH =
      r.PUBLIC_KEY_LENGTH =
        void 0);
  const e = Ps,
    t = Mi;
  (r.PUBLIC_KEY_LENGTH = 32),
    (r.SECRET_KEY_LENGTH = 32),
    (r.SHARED_KEY_LENGTH = 32);
  function i(U) {
    const z = new Float64Array(16);
    if (U) for (let G = 0; G < U.length; G++) z[G] = U[G];
    return z;
  }
  const n = new Uint8Array(32);
  n[0] = 9;
  const a = i([56129, 1]);
  function f(U) {
    let z = 1;
    for (let G = 0; G < 16; G++) {
      let A = U[G] + z + 65535;
      (z = Math.floor(A / 65536)), (U[G] = A - z * 65536);
    }
    U[0] += z - 1 + 37 * (z - 1);
  }
  function h(U, z, G) {
    const A = ~(G - 1);
    for (let F = 0; F < 16; F++) {
      const ae = A & (U[F] ^ z[F]);
      (U[F] ^= ae), (z[F] ^= ae);
    }
  }
  function b(U, z) {
    const G = i(),
      A = i();
    for (let F = 0; F < 16; F++) A[F] = z[F];
    f(A), f(A), f(A);
    for (let F = 0; F < 2; F++) {
      G[0] = A[0] - 65517;
      for (let de = 1; de < 15; de++)
        (G[de] = A[de] - 65535 - ((G[de - 1] >> 16) & 1)), (G[de - 1] &= 65535);
      G[15] = A[15] - 32767 - ((G[14] >> 16) & 1);
      const ae = (G[15] >> 16) & 1;
      (G[14] &= 65535), h(A, G, 1 - ae);
    }
    for (let F = 0; F < 16; F++)
      (U[2 * F] = A[F] & 255), (U[2 * F + 1] = A[F] >> 8);
  }
  function v(U, z) {
    for (let G = 0; G < 16; G++) U[G] = z[2 * G] + (z[2 * G + 1] << 8);
    U[15] &= 32767;
  }
  function y(U, z, G) {
    for (let A = 0; A < 16; A++) U[A] = z[A] + G[A];
  }
  function S(U, z, G) {
    for (let A = 0; A < 16; A++) U[A] = z[A] - G[A];
  }
  function O(U, z, G) {
    let A,
      F,
      ae = 0,
      de = 0,
      B = 0,
      m = 0,
      c = 0,
      u = 0,
      g = 0,
      _ = 0,
      I = 0,
      x = 0,
      M = 0,
      d = 0,
      p = 0,
      N = 0,
      Z = 0,
      se = 0,
      D = 0,
      ee = 0,
      q = 0,
      k = 0,
      K = 0,
      w = 0,
      $ = 0,
      ne = 0,
      ce = 0,
      ue = 0,
      ye = 0,
      we = 0,
      Re = 0,
      Qe = 0,
      Pe = 0,
      Ne = G[0],
      Ie = G[1],
      me = G[2],
      Oe = G[3],
      Te = G[4],
      ve = G[5],
      Ce = G[6],
      Me = G[7],
      be = G[8],
      Le = G[9],
      xe = G[10],
      _e = G[11],
      He = G[12],
      Ve = G[13],
      Ee = G[14],
      Ke = G[15];
    (A = z[0]),
      (ae += A * Ne),
      (de += A * Ie),
      (B += A * me),
      (m += A * Oe),
      (c += A * Te),
      (u += A * ve),
      (g += A * Ce),
      (_ += A * Me),
      (I += A * be),
      (x += A * Le),
      (M += A * xe),
      (d += A * _e),
      (p += A * He),
      (N += A * Ve),
      (Z += A * Ee),
      (se += A * Ke),
      (A = z[1]),
      (de += A * Ne),
      (B += A * Ie),
      (m += A * me),
      (c += A * Oe),
      (u += A * Te),
      (g += A * ve),
      (_ += A * Ce),
      (I += A * Me),
      (x += A * be),
      (M += A * Le),
      (d += A * xe),
      (p += A * _e),
      (N += A * He),
      (Z += A * Ve),
      (se += A * Ee),
      (D += A * Ke),
      (A = z[2]),
      (B += A * Ne),
      (m += A * Ie),
      (c += A * me),
      (u += A * Oe),
      (g += A * Te),
      (_ += A * ve),
      (I += A * Ce),
      (x += A * Me),
      (M += A * be),
      (d += A * Le),
      (p += A * xe),
      (N += A * _e),
      (Z += A * He),
      (se += A * Ve),
      (D += A * Ee),
      (ee += A * Ke),
      (A = z[3]),
      (m += A * Ne),
      (c += A * Ie),
      (u += A * me),
      (g += A * Oe),
      (_ += A * Te),
      (I += A * ve),
      (x += A * Ce),
      (M += A * Me),
      (d += A * be),
      (p += A * Le),
      (N += A * xe),
      (Z += A * _e),
      (se += A * He),
      (D += A * Ve),
      (ee += A * Ee),
      (q += A * Ke),
      (A = z[4]),
      (c += A * Ne),
      (u += A * Ie),
      (g += A * me),
      (_ += A * Oe),
      (I += A * Te),
      (x += A * ve),
      (M += A * Ce),
      (d += A * Me),
      (p += A * be),
      (N += A * Le),
      (Z += A * xe),
      (se += A * _e),
      (D += A * He),
      (ee += A * Ve),
      (q += A * Ee),
      (k += A * Ke),
      (A = z[5]),
      (u += A * Ne),
      (g += A * Ie),
      (_ += A * me),
      (I += A * Oe),
      (x += A * Te),
      (M += A * ve),
      (d += A * Ce),
      (p += A * Me),
      (N += A * be),
      (Z += A * Le),
      (se += A * xe),
      (D += A * _e),
      (ee += A * He),
      (q += A * Ve),
      (k += A * Ee),
      (K += A * Ke),
      (A = z[6]),
      (g += A * Ne),
      (_ += A * Ie),
      (I += A * me),
      (x += A * Oe),
      (M += A * Te),
      (d += A * ve),
      (p += A * Ce),
      (N += A * Me),
      (Z += A * be),
      (se += A * Le),
      (D += A * xe),
      (ee += A * _e),
      (q += A * He),
      (k += A * Ve),
      (K += A * Ee),
      (w += A * Ke),
      (A = z[7]),
      (_ += A * Ne),
      (I += A * Ie),
      (x += A * me),
      (M += A * Oe),
      (d += A * Te),
      (p += A * ve),
      (N += A * Ce),
      (Z += A * Me),
      (se += A * be),
      (D += A * Le),
      (ee += A * xe),
      (q += A * _e),
      (k += A * He),
      (K += A * Ve),
      (w += A * Ee),
      ($ += A * Ke),
      (A = z[8]),
      (I += A * Ne),
      (x += A * Ie),
      (M += A * me),
      (d += A * Oe),
      (p += A * Te),
      (N += A * ve),
      (Z += A * Ce),
      (se += A * Me),
      (D += A * be),
      (ee += A * Le),
      (q += A * xe),
      (k += A * _e),
      (K += A * He),
      (w += A * Ve),
      ($ += A * Ee),
      (ne += A * Ke),
      (A = z[9]),
      (x += A * Ne),
      (M += A * Ie),
      (d += A * me),
      (p += A * Oe),
      (N += A * Te),
      (Z += A * ve),
      (se += A * Ce),
      (D += A * Me),
      (ee += A * be),
      (q += A * Le),
      (k += A * xe),
      (K += A * _e),
      (w += A * He),
      ($ += A * Ve),
      (ne += A * Ee),
      (ce += A * Ke),
      (A = z[10]),
      (M += A * Ne),
      (d += A * Ie),
      (p += A * me),
      (N += A * Oe),
      (Z += A * Te),
      (se += A * ve),
      (D += A * Ce),
      (ee += A * Me),
      (q += A * be),
      (k += A * Le),
      (K += A * xe),
      (w += A * _e),
      ($ += A * He),
      (ne += A * Ve),
      (ce += A * Ee),
      (ue += A * Ke),
      (A = z[11]),
      (d += A * Ne),
      (p += A * Ie),
      (N += A * me),
      (Z += A * Oe),
      (se += A * Te),
      (D += A * ve),
      (ee += A * Ce),
      (q += A * Me),
      (k += A * be),
      (K += A * Le),
      (w += A * xe),
      ($ += A * _e),
      (ne += A * He),
      (ce += A * Ve),
      (ue += A * Ee),
      (ye += A * Ke),
      (A = z[12]),
      (p += A * Ne),
      (N += A * Ie),
      (Z += A * me),
      (se += A * Oe),
      (D += A * Te),
      (ee += A * ve),
      (q += A * Ce),
      (k += A * Me),
      (K += A * be),
      (w += A * Le),
      ($ += A * xe),
      (ne += A * _e),
      (ce += A * He),
      (ue += A * Ve),
      (ye += A * Ee),
      (we += A * Ke),
      (A = z[13]),
      (N += A * Ne),
      (Z += A * Ie),
      (se += A * me),
      (D += A * Oe),
      (ee += A * Te),
      (q += A * ve),
      (k += A * Ce),
      (K += A * Me),
      (w += A * be),
      ($ += A * Le),
      (ne += A * xe),
      (ce += A * _e),
      (ue += A * He),
      (ye += A * Ve),
      (we += A * Ee),
      (Re += A * Ke),
      (A = z[14]),
      (Z += A * Ne),
      (se += A * Ie),
      (D += A * me),
      (ee += A * Oe),
      (q += A * Te),
      (k += A * ve),
      (K += A * Ce),
      (w += A * Me),
      ($ += A * be),
      (ne += A * Le),
      (ce += A * xe),
      (ue += A * _e),
      (ye += A * He),
      (we += A * Ve),
      (Re += A * Ee),
      (Qe += A * Ke),
      (A = z[15]),
      (se += A * Ne),
      (D += A * Ie),
      (ee += A * me),
      (q += A * Oe),
      (k += A * Te),
      (K += A * ve),
      (w += A * Ce),
      ($ += A * Me),
      (ne += A * be),
      (ce += A * Le),
      (ue += A * xe),
      (ye += A * _e),
      (we += A * He),
      (Re += A * Ve),
      (Qe += A * Ee),
      (Pe += A * Ke),
      (ae += 38 * D),
      (de += 38 * ee),
      (B += 38 * q),
      (m += 38 * k),
      (c += 38 * K),
      (u += 38 * w),
      (g += 38 * $),
      (_ += 38 * ne),
      (I += 38 * ce),
      (x += 38 * ue),
      (M += 38 * ye),
      (d += 38 * we),
      (p += 38 * Re),
      (N += 38 * Qe),
      (Z += 38 * Pe),
      (F = 1),
      (A = ae + F + 65535),
      (F = Math.floor(A / 65536)),
      (ae = A - F * 65536),
      (A = de + F + 65535),
      (F = Math.floor(A / 65536)),
      (de = A - F * 65536),
      (A = B + F + 65535),
      (F = Math.floor(A / 65536)),
      (B = A - F * 65536),
      (A = m + F + 65535),
      (F = Math.floor(A / 65536)),
      (m = A - F * 65536),
      (A = c + F + 65535),
      (F = Math.floor(A / 65536)),
      (c = A - F * 65536),
      (A = u + F + 65535),
      (F = Math.floor(A / 65536)),
      (u = A - F * 65536),
      (A = g + F + 65535),
      (F = Math.floor(A / 65536)),
      (g = A - F * 65536),
      (A = _ + F + 65535),
      (F = Math.floor(A / 65536)),
      (_ = A - F * 65536),
      (A = I + F + 65535),
      (F = Math.floor(A / 65536)),
      (I = A - F * 65536),
      (A = x + F + 65535),
      (F = Math.floor(A / 65536)),
      (x = A - F * 65536),
      (A = M + F + 65535),
      (F = Math.floor(A / 65536)),
      (M = A - F * 65536),
      (A = d + F + 65535),
      (F = Math.floor(A / 65536)),
      (d = A - F * 65536),
      (A = p + F + 65535),
      (F = Math.floor(A / 65536)),
      (p = A - F * 65536),
      (A = N + F + 65535),
      (F = Math.floor(A / 65536)),
      (N = A - F * 65536),
      (A = Z + F + 65535),
      (F = Math.floor(A / 65536)),
      (Z = A - F * 65536),
      (A = se + F + 65535),
      (F = Math.floor(A / 65536)),
      (se = A - F * 65536),
      (ae += F - 1 + 37 * (F - 1)),
      (F = 1),
      (A = ae + F + 65535),
      (F = Math.floor(A / 65536)),
      (ae = A - F * 65536),
      (A = de + F + 65535),
      (F = Math.floor(A / 65536)),
      (de = A - F * 65536),
      (A = B + F + 65535),
      (F = Math.floor(A / 65536)),
      (B = A - F * 65536),
      (A = m + F + 65535),
      (F = Math.floor(A / 65536)),
      (m = A - F * 65536),
      (A = c + F + 65535),
      (F = Math.floor(A / 65536)),
      (c = A - F * 65536),
      (A = u + F + 65535),
      (F = Math.floor(A / 65536)),
      (u = A - F * 65536),
      (A = g + F + 65535),
      (F = Math.floor(A / 65536)),
      (g = A - F * 65536),
      (A = _ + F + 65535),
      (F = Math.floor(A / 65536)),
      (_ = A - F * 65536),
      (A = I + F + 65535),
      (F = Math.floor(A / 65536)),
      (I = A - F * 65536),
      (A = x + F + 65535),
      (F = Math.floor(A / 65536)),
      (x = A - F * 65536),
      (A = M + F + 65535),
      (F = Math.floor(A / 65536)),
      (M = A - F * 65536),
      (A = d + F + 65535),
      (F = Math.floor(A / 65536)),
      (d = A - F * 65536),
      (A = p + F + 65535),
      (F = Math.floor(A / 65536)),
      (p = A - F * 65536),
      (A = N + F + 65535),
      (F = Math.floor(A / 65536)),
      (N = A - F * 65536),
      (A = Z + F + 65535),
      (F = Math.floor(A / 65536)),
      (Z = A - F * 65536),
      (A = se + F + 65535),
      (F = Math.floor(A / 65536)),
      (se = A - F * 65536),
      (ae += F - 1 + 37 * (F - 1)),
      (U[0] = ae),
      (U[1] = de),
      (U[2] = B),
      (U[3] = m),
      (U[4] = c),
      (U[5] = u),
      (U[6] = g),
      (U[7] = _),
      (U[8] = I),
      (U[9] = x),
      (U[10] = M),
      (U[11] = d),
      (U[12] = p),
      (U[13] = N),
      (U[14] = Z),
      (U[15] = se);
  }
  function P(U, z) {
    O(U, z, z);
  }
  function C(U, z) {
    const G = i();
    for (let A = 0; A < 16; A++) G[A] = z[A];
    for (let A = 253; A >= 0; A--) P(G, G), A !== 2 && A !== 4 && O(G, G, z);
    for (let A = 0; A < 16; A++) U[A] = G[A];
  }
  function H(U, z) {
    const G = new Uint8Array(32),
      A = new Float64Array(80),
      F = i(),
      ae = i(),
      de = i(),
      B = i(),
      m = i(),
      c = i();
    for (let I = 0; I < 31; I++) G[I] = U[I];
    (G[31] = (U[31] & 127) | 64), (G[0] &= 248), v(A, z);
    for (let I = 0; I < 16; I++) ae[I] = A[I];
    F[0] = B[0] = 1;
    for (let I = 254; I >= 0; --I) {
      const x = (G[I >>> 3] >>> (I & 7)) & 1;
      h(F, ae, x),
        h(de, B, x),
        y(m, F, de),
        S(F, F, de),
        y(de, ae, B),
        S(ae, ae, B),
        P(B, m),
        P(c, F),
        O(F, de, F),
        O(de, ae, m),
        y(m, F, de),
        S(F, F, de),
        P(ae, F),
        S(de, B, c),
        O(F, de, a),
        y(F, F, B),
        O(de, de, F),
        O(F, B, c),
        O(B, ae, A),
        P(ae, m),
        h(F, ae, x),
        h(de, B, x);
    }
    for (let I = 0; I < 16; I++)
      (A[I + 16] = F[I]),
        (A[I + 32] = de[I]),
        (A[I + 48] = ae[I]),
        (A[I + 64] = B[I]);
    const u = A.subarray(32),
      g = A.subarray(16);
    C(u, u), O(g, g, u);
    const _ = new Uint8Array(32);
    return b(_, g), _;
  }
  r.scalarMult = H;
  function V(U) {
    return H(U, n);
  }
  r.scalarMultBase = V;
  function Q(U) {
    if (U.length !== r.SECRET_KEY_LENGTH)
      throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);
    const z = new Uint8Array(U);
    return { publicKey: V(z), secretKey: z };
  }
  r.generateKeyPairFromSeed = Q;
  function j(U) {
    const z = (0, e.randomBytes)(32, U),
      G = Q(z);
    return (0, t.wipe)(z), G;
  }
  r.generateKeyPair = j;
  function Y(U, z, G = !1) {
    if (U.length !== r.PUBLIC_KEY_LENGTH)
      throw new Error("X25519: incorrect secret key length");
    if (z.length !== r.PUBLIC_KEY_LENGTH)
      throw new Error("X25519: incorrect public key length");
    const A = H(U, z);
    if (G) {
      let F = 0;
      for (let ae = 0; ae < A.length; ae++) F |= A[ae];
      if (F === 0) throw new Error("X25519: invalid shared key");
    }
    return A;
  }
  r.sharedKey = Y;
})(sd);
function Ev(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function Lo(r, e) {
  e || (e = r.reduce((n, a) => n + a.length, 0));
  const t = Ev(e);
  let i = 0;
  for (const n of r) t.set(n, i), (i += n.length);
  return t;
}
const UC = Object.freeze(
  Object.defineProperty({ __proto__: null, concat: Lo }, Symbol.toStringTag, {
    value: "Module",
  })
);
function Y4(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var n = 0; n < r.length; n++) {
    var a = r.charAt(n),
      f = a.charCodeAt(0);
    if (t[f] !== 255) throw new TypeError(a + " is ambiguous");
    t[f] = n;
  }
  var h = r.length,
    b = r.charAt(0),
    v = Math.log(h) / Math.log(256),
    y = Math.log(256) / Math.log(h);
  function S(C) {
    if (
      (C instanceof Uint8Array ||
        (ArrayBuffer.isView(C)
          ? (C = new Uint8Array(C.buffer, C.byteOffset, C.byteLength))
          : Array.isArray(C) && (C = Uint8Array.from(C))),
      !(C instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (C.length === 0) return "";
    for (var H = 0, V = 0, Q = 0, j = C.length; Q !== j && C[Q] === 0; )
      Q++, H++;
    for (var Y = ((j - Q) * y + 1) >>> 0, U = new Uint8Array(Y); Q !== j; ) {
      for (
        var z = C[Q], G = 0, A = Y - 1;
        (z !== 0 || G < V) && A !== -1;
        A--, G++
      )
        (z += (256 * U[A]) >>> 0), (U[A] = z % h >>> 0), (z = (z / h) >>> 0);
      if (z !== 0) throw new Error("Non-zero carry");
      (V = G), Q++;
    }
    for (var F = Y - V; F !== Y && U[F] === 0; ) F++;
    for (var ae = b.repeat(H); F < Y; ++F) ae += r.charAt(U[F]);
    return ae;
  }
  function O(C) {
    if (typeof C != "string") throw new TypeError("Expected String");
    if (C.length === 0) return new Uint8Array();
    var H = 0;
    if (C[H] !== " ") {
      for (var V = 0, Q = 0; C[H] === b; ) V++, H++;
      for (
        var j = ((C.length - H) * v + 1) >>> 0, Y = new Uint8Array(j);
        C[H];

      ) {
        var U = t[C.charCodeAt(H)];
        if (U === 255) return;
        for (var z = 0, G = j - 1; (U !== 0 || z < Q) && G !== -1; G--, z++)
          (U += (h * Y[G]) >>> 0),
            (Y[G] = U % 256 >>> 0),
            (U = (U / 256) >>> 0);
        if (U !== 0) throw new Error("Non-zero carry");
        (Q = z), H++;
      }
      if (C[H] !== " ") {
        for (var A = j - Q; A !== j && Y[A] === 0; ) A++;
        for (var F = new Uint8Array(V + (j - A)), ae = V; A !== j; )
          F[ae++] = Y[A++];
        return F;
      }
    }
  }
  function P(C) {
    var H = O(C);
    if (H) return H;
    throw new Error(`Non-${e} character`);
  }
  return { encode: S, decodeUnsafe: O, decode: P };
}
var Q4 = Y4,
  X4 = Q4;
const Z4 = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  e_ = (r) => new TextEncoder().encode(r),
  t_ = (r) => new TextDecoder().decode(r);
class r_ {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class i_ {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${
            this.name
          } decoder only supports inputs prefixed with ${this.prefix}`
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return Sv(this, e);
  }
}
class n_ {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return Sv(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(
        e
      )}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`
    );
  }
}
const Sv = (r, e) =>
  new n_({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class s_ {
  constructor(e, t, i, n) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = n),
      (this.encoder = new r_(e, t, i)),
      (this.decoder = new i_(e, t, n));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const uu = ({ name: r, prefix: e, encode: t, decode: i }) => new s_(r, e, t, i),
  rc = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: n } = X4(t, e);
    return uu({ prefix: r, name: e, encode: i, decode: (a) => Z4(n(a)) });
  },
  a_ = (r, e, t, i) => {
    const n = {};
    for (let y = 0; y < e.length; ++y) n[e[y]] = y;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const f = new Uint8Array(((a * t) / 8) | 0);
    let h = 0,
      b = 0,
      v = 0;
    for (let y = 0; y < a; ++y) {
      const S = n[r[y]];
      if (S === void 0) throw new SyntaxError(`Non-${i} character`);
      (b = (b << t) | S),
        (h += t),
        h >= 8 && ((h -= 8), (f[v++] = 255 & (b >> h)));
    }
    if (h >= t || 255 & (b << (8 - h)))
      throw new SyntaxError("Unexpected end of data");
    return f;
  },
  o_ = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      n = (1 << t) - 1;
    let a = "",
      f = 0,
      h = 0;
    for (let b = 0; b < r.length; ++b)
      for (h = (h << 8) | r[b], f += 8; f > t; )
        (f -= t), (a += e[n & (h >> f)]);
    if ((f && (a += e[n & (h << (t - f))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  Or = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    uu({
      prefix: e,
      name: r,
      encode(n) {
        return o_(n, i, t);
      },
      decode(n) {
        return a_(n, i, t, r);
      },
    }),
  c_ = uu({
    prefix: "\0",
    name: "identity",
    encode: (r) => t_(r),
    decode: (r) => e_(r),
  }),
  f_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, identity: c_ },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  u_ = Or({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }),
  h_ = Object.freeze(
    Object.defineProperty({ __proto__: null, base2: u_ }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  l_ = Or({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }),
  d_ = Object.freeze(
    Object.defineProperty({ __proto__: null, base8: l_ }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  p_ = rc({ prefix: "9", name: "base10", alphabet: "0123456789" }),
  g_ = Object.freeze(
    Object.defineProperty({ __proto__: null, base10: p_ }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  v_ = Or({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  b_ = Or({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  }),
  m_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base16: v_, base16upper: b_ },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  y_ = Or({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  w_ = Or({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  __ = Or({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  A_ = Or({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  E_ = Or({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  S_ = Or({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  M_ = Or({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  I_ = Or({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  x_ = Or({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  }),
  D_ = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        base32: y_,
        base32hex: E_,
        base32hexpad: M_,
        base32hexpadupper: I_,
        base32hexupper: S_,
        base32pad: __,
        base32padupper: A_,
        base32upper: w_,
        base32z: x_,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  P_ = rc({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  O_ = rc({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  }),
  C_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base36: P_, base36upper: O_ },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  R_ = rc({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  N_ = rc({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  }),
  T_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base58btc: R_, base58flickr: N_ },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  F_ = Or({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  B_ = Or({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  q_ = Or({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  L_ = Or({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  }),
  U_ = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        base64: F_,
        base64pad: B_,
        base64url: q_,
        base64urlpad: L_,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Mv = Array.from(
    "🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"
  ),
  $_ = Mv.reduce((r, e, t) => ((r[t] = e), r), []),
  j_ = Mv.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function z_(r) {
  return r.reduce((e, t) => ((e += $_[t]), e), "");
}
function k_(r) {
  const e = [];
  for (const t of r) {
    const i = j_[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const H_ = uu({ prefix: "🚀", name: "base256emoji", encode: z_, decode: k_ }),
  K_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base256emoji: H_ },
      Symbol.toStringTag,
      { value: "Module" }
    )
  );
new TextEncoder();
new TextDecoder();
const Gp = {
  ...f_,
  ...h_,
  ...d_,
  ...g_,
  ...m_,
  ...D_,
  ...C_,
  ...T_,
  ...U_,
  ...K_,
};
function Iv(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const Wp = Iv(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1))
  ),
  zh = Iv(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = Ev(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    }
  ),
  xv = {
    utf8: Wp,
    "utf-8": Wp,
    hex: Gp.base16,
    latin1: zh,
    ascii: zh,
    binary: zh,
    ...Gp,
  };
function br(r, e = "utf8") {
  const t = xv[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
const $C = Object.freeze(
  Object.defineProperty(
    { __proto__: null, fromString: br },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
function mr(r, e = "utf8") {
  const t = xv[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r.buffer, r.byteOffset, r.byteLength).toString(
        "utf8"
      )
    : t.encoder.encode(r).substring(1);
}
const jC = Object.freeze(
  Object.defineProperty({ __proto__: null, toString: mr }, Symbol.toStringTag, {
    value: "Module",
  })
);
var Dv = {};
const V_ = "elliptic",
  G_ = "6.6.1",
  W_ = "EC cryptography",
  J_ = "lib/elliptic.js",
  Y_ = ["lib"],
  Q_ = {
    lint: "eslint lib test",
    "lint:fix": "npm run lint -- --fix",
    unit: "istanbul test _mocha --reporter=spec test/index.js",
    test: "npm run lint && npm run unit",
    version: "grunt dist && git add dist/",
  },
  X_ = { type: "git", url: "git@github.com:indutny/elliptic" },
  Z_ = ["EC", "Elliptic", "curve", "Cryptography"],
  e7 = "Fedor Indutny <fedor@indutny.com>",
  t7 = "MIT",
  r7 = { url: "https://github.com/indutny/elliptic/issues" },
  i7 = "https://github.com/indutny/elliptic",
  n7 = {
    brfs: "^2.0.2",
    coveralls: "^3.1.0",
    eslint: "^7.6.0",
    grunt: "^1.2.1",
    "grunt-browserify": "^5.3.0",
    "grunt-cli": "^1.3.2",
    "grunt-contrib-connect": "^3.0.0",
    "grunt-contrib-copy": "^1.0.0",
    "grunt-contrib-uglify": "^5.0.0",
    "grunt-mocha-istanbul": "^5.0.2",
    "grunt-saucelabs": "^9.0.1",
    istanbul: "^0.4.5",
    mocha: "^8.0.1",
  },
  s7 = {
    "bn.js": "^4.11.9",
    brorand: "^1.1.0",
    "hash.js": "^1.0.0",
    "hmac-drbg": "^1.0.1",
    inherits: "^2.0.4",
    "minimalistic-assert": "^1.0.1",
    "minimalistic-crypto-utils": "^1.0.1",
  },
  a7 = {
    name: V_,
    version: G_,
    description: W_,
    main: J_,
    files: Y_,
    scripts: Q_,
    repository: X_,
    keywords: Z_,
    author: e7,
    license: t7,
    bugs: r7,
    homepage: i7,
    devDependencies: n7,
    dependencies: s7,
  };
var Ii = {},
  ad = { exports: {} };
ad.exports;
(function (r) {
  (function (e, t) {
    function i(B, m) {
      if (!B) throw new Error(m || "Assertion failed");
    }
    function n(B, m) {
      B.super_ = m;
      var c = function () {};
      (c.prototype = m.prototype),
        (B.prototype = new c()),
        (B.prototype.constructor = B);
    }
    function a(B, m, c) {
      if (a.isBN(B)) return B;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        B !== null &&
          ((m === "le" || m === "be") && ((c = m), (m = 10)),
          this._init(B || 0, m || 10, c || "be"));
    }
    typeof e == "object" ? (e.exports = a) : (t.BN = a),
      (a.BN = a),
      (a.wordSize = 26);
    var f;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (f = window.Buffer)
        : (f = e8.Buffer);
    } catch {}
    (a.isBN = function (m) {
      return m instanceof a
        ? !0
        : m !== null &&
            typeof m == "object" &&
            m.constructor.wordSize === a.wordSize &&
            Array.isArray(m.words);
    }),
      (a.max = function (m, c) {
        return m.cmp(c) > 0 ? m : c;
      }),
      (a.min = function (m, c) {
        return m.cmp(c) < 0 ? m : c;
      }),
      (a.prototype._init = function (m, c, u) {
        if (typeof m == "number") return this._initNumber(m, c, u);
        if (typeof m == "object") return this._initArray(m, c, u);
        c === "hex" && (c = 16),
          i(c === (c | 0) && c >= 2 && c <= 36),
          (m = m.toString().replace(/\s+/g, ""));
        var g = 0;
        m[0] === "-" && (g++, (this.negative = 1)),
          g < m.length &&
            (c === 16
              ? this._parseHex(m, g, u)
              : (this._parseBase(m, c, g),
                u === "le" && this._initArray(this.toArray(), c, u)));
      }),
      (a.prototype._initNumber = function (m, c, u) {
        m < 0 && ((this.negative = 1), (m = -m)),
          m < 67108864
            ? ((this.words = [m & 67108863]), (this.length = 1))
            : m < 4503599627370496
            ? ((this.words = [m & 67108863, (m / 67108864) & 67108863]),
              (this.length = 2))
            : (i(m < 9007199254740992),
              (this.words = [m & 67108863, (m / 67108864) & 67108863, 1]),
              (this.length = 3)),
          u === "le" && this._initArray(this.toArray(), c, u);
      }),
      (a.prototype._initArray = function (m, c, u) {
        if ((i(typeof m.length == "number"), m.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(m.length / 3)),
          (this.words = new Array(this.length));
        for (var g = 0; g < this.length; g++) this.words[g] = 0;
        var _,
          I,
          x = 0;
        if (u === "be")
          for (g = m.length - 1, _ = 0; g >= 0; g -= 3)
            (I = m[g] | (m[g - 1] << 8) | (m[g - 2] << 16)),
              (this.words[_] |= (I << x) & 67108863),
              (this.words[_ + 1] = (I >>> (26 - x)) & 67108863),
              (x += 24),
              x >= 26 && ((x -= 26), _++);
        else if (u === "le")
          for (g = 0, _ = 0; g < m.length; g += 3)
            (I = m[g] | (m[g + 1] << 8) | (m[g + 2] << 16)),
              (this.words[_] |= (I << x) & 67108863),
              (this.words[_ + 1] = (I >>> (26 - x)) & 67108863),
              (x += 24),
              x >= 26 && ((x -= 26), _++);
        return this.strip();
      });
    function h(B, m) {
      var c = B.charCodeAt(m);
      return c >= 65 && c <= 70
        ? c - 55
        : c >= 97 && c <= 102
        ? c - 87
        : (c - 48) & 15;
    }
    function b(B, m, c) {
      var u = h(B, c);
      return c - 1 >= m && (u |= h(B, c - 1) << 4), u;
    }
    a.prototype._parseHex = function (m, c, u) {
      (this.length = Math.ceil((m.length - c) / 6)),
        (this.words = new Array(this.length));
      for (var g = 0; g < this.length; g++) this.words[g] = 0;
      var _ = 0,
        I = 0,
        x;
      if (u === "be")
        for (g = m.length - 1; g >= c; g -= 2)
          (x = b(m, c, g) << _),
            (this.words[I] |= x & 67108863),
            _ >= 18
              ? ((_ -= 18), (I += 1), (this.words[I] |= x >>> 26))
              : (_ += 8);
      else {
        var M = m.length - c;
        for (g = M % 2 === 0 ? c + 1 : c; g < m.length; g += 2)
          (x = b(m, c, g) << _),
            (this.words[I] |= x & 67108863),
            _ >= 18
              ? ((_ -= 18), (I += 1), (this.words[I] |= x >>> 26))
              : (_ += 8);
      }
      this.strip();
    };
    function v(B, m, c, u) {
      for (var g = 0, _ = Math.min(B.length, c), I = m; I < _; I++) {
        var x = B.charCodeAt(I) - 48;
        (g *= u),
          x >= 49
            ? (g += x - 49 + 10)
            : x >= 17
            ? (g += x - 17 + 10)
            : (g += x);
      }
      return g;
    }
    (a.prototype._parseBase = function (m, c, u) {
      (this.words = [0]), (this.length = 1);
      for (var g = 0, _ = 1; _ <= 67108863; _ *= c) g++;
      g--, (_ = (_ / c) | 0);
      for (
        var I = m.length - u,
          x = I % g,
          M = Math.min(I, I - x) + u,
          d = 0,
          p = u;
        p < M;
        p += g
      )
        (d = v(m, p, p + g, c)),
          this.imuln(_),
          this.words[0] + d < 67108864 ? (this.words[0] += d) : this._iaddn(d);
      if (x !== 0) {
        var N = 1;
        for (d = v(m, p, m.length, c), p = 0; p < x; p++) N *= c;
        this.imuln(N),
          this.words[0] + d < 67108864 ? (this.words[0] += d) : this._iaddn(d);
      }
      this.strip();
    }),
      (a.prototype.copy = function (m) {
        m.words = new Array(this.length);
        for (var c = 0; c < this.length; c++) m.words[c] = this.words[c];
        (m.length = this.length),
          (m.negative = this.negative),
          (m.red = this.red);
      }),
      (a.prototype.clone = function () {
        var m = new a(null);
        return this.copy(m), m;
      }),
      (a.prototype._expand = function (m) {
        for (; this.length < m; ) this.words[this.length++] = 0;
        return this;
      }),
      (a.prototype.strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (a.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      (a.prototype.inspect = function () {
        return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
      });
    var y = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      S = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      O = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (a.prototype.toString = function (m, c) {
      (m = m || 10), (c = c | 0 || 1);
      var u;
      if (m === 16 || m === "hex") {
        u = "";
        for (var g = 0, _ = 0, I = 0; I < this.length; I++) {
          var x = this.words[I],
            M = (((x << g) | _) & 16777215).toString(16);
          (_ = (x >>> (24 - g)) & 16777215),
            (g += 2),
            g >= 26 && ((g -= 26), I--),
            _ !== 0 || I !== this.length - 1
              ? (u = y[6 - M.length] + M + u)
              : (u = M + u);
        }
        for (_ !== 0 && (u = _.toString(16) + u); u.length % c !== 0; )
          u = "0" + u;
        return this.negative !== 0 && (u = "-" + u), u;
      }
      if (m === (m | 0) && m >= 2 && m <= 36) {
        var d = S[m],
          p = O[m];
        u = "";
        var N = this.clone();
        for (N.negative = 0; !N.isZero(); ) {
          var Z = N.modn(p).toString(m);
          (N = N.idivn(p)),
            N.isZero() ? (u = Z + u) : (u = y[d - Z.length] + Z + u);
        }
        for (this.isZero() && (u = "0" + u); u.length % c !== 0; ) u = "0" + u;
        return this.negative !== 0 && (u = "-" + u), u;
      }
      i(!1, "Base should be between 2 and 36");
    }),
      (a.prototype.toNumber = function () {
        var m = this.words[0];
        return (
          this.length === 2
            ? (m += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
            ? (m += 4503599627370496 + this.words[1] * 67108864)
            : this.length > 2 &&
              i(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -m : m
        );
      }),
      (a.prototype.toJSON = function () {
        return this.toString(16);
      }),
      (a.prototype.toBuffer = function (m, c) {
        return i(typeof f < "u"), this.toArrayLike(f, m, c);
      }),
      (a.prototype.toArray = function (m, c) {
        return this.toArrayLike(Array, m, c);
      }),
      (a.prototype.toArrayLike = function (m, c, u) {
        var g = this.byteLength(),
          _ = u || Math.max(1, g);
        i(g <= _, "byte array longer than desired length"),
          i(_ > 0, "Requested array length <= 0"),
          this.strip();
        var I = c === "le",
          x = new m(_),
          M,
          d,
          p = this.clone();
        if (I) {
          for (d = 0; !p.isZero(); d++)
            (M = p.andln(255)), p.iushrn(8), (x[d] = M);
          for (; d < _; d++) x[d] = 0;
        } else {
          for (d = 0; d < _ - g; d++) x[d] = 0;
          for (d = 0; !p.isZero(); d++)
            (M = p.andln(255)), p.iushrn(8), (x[_ - d - 1] = M);
        }
        return x;
      }),
      Math.clz32
        ? (a.prototype._countBits = function (m) {
            return 32 - Math.clz32(m);
          })
        : (a.prototype._countBits = function (m) {
            var c = m,
              u = 0;
            return (
              c >= 4096 && ((u += 13), (c >>>= 13)),
              c >= 64 && ((u += 7), (c >>>= 7)),
              c >= 8 && ((u += 4), (c >>>= 4)),
              c >= 2 && ((u += 2), (c >>>= 2)),
              u + c
            );
          }),
      (a.prototype._zeroBits = function (m) {
        if (m === 0) return 26;
        var c = m,
          u = 0;
        return (
          c & 8191 || ((u += 13), (c >>>= 13)),
          c & 127 || ((u += 7), (c >>>= 7)),
          c & 15 || ((u += 4), (c >>>= 4)),
          c & 3 || ((u += 2), (c >>>= 2)),
          c & 1 || u++,
          u
        );
      }),
      (a.prototype.bitLength = function () {
        var m = this.words[this.length - 1],
          c = this._countBits(m);
        return (this.length - 1) * 26 + c;
      });
    function P(B) {
      for (var m = new Array(B.bitLength()), c = 0; c < m.length; c++) {
        var u = (c / 26) | 0,
          g = c % 26;
        m[c] = (B.words[u] & (1 << g)) >>> g;
      }
      return m;
    }
    (a.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var m = 0, c = 0; c < this.length; c++) {
        var u = this._zeroBits(this.words[c]);
        if (((m += u), u !== 26)) break;
      }
      return m;
    }),
      (a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (a.prototype.toTwos = function (m) {
        return this.negative !== 0
          ? this.abs().inotn(m).iaddn(1)
          : this.clone();
      }),
      (a.prototype.fromTwos = function (m) {
        return this.testn(m - 1) ? this.notn(m).iaddn(1).ineg() : this.clone();
      }),
      (a.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (a.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (a.prototype.iuor = function (m) {
        for (; this.length < m.length; ) this.words[this.length++] = 0;
        for (var c = 0; c < m.length; c++)
          this.words[c] = this.words[c] | m.words[c];
        return this.strip();
      }),
      (a.prototype.ior = function (m) {
        return i((this.negative | m.negative) === 0), this.iuor(m);
      }),
      (a.prototype.or = function (m) {
        return this.length > m.length
          ? this.clone().ior(m)
          : m.clone().ior(this);
      }),
      (a.prototype.uor = function (m) {
        return this.length > m.length
          ? this.clone().iuor(m)
          : m.clone().iuor(this);
      }),
      (a.prototype.iuand = function (m) {
        var c;
        this.length > m.length ? (c = m) : (c = this);
        for (var u = 0; u < c.length; u++)
          this.words[u] = this.words[u] & m.words[u];
        return (this.length = c.length), this.strip();
      }),
      (a.prototype.iand = function (m) {
        return i((this.negative | m.negative) === 0), this.iuand(m);
      }),
      (a.prototype.and = function (m) {
        return this.length > m.length
          ? this.clone().iand(m)
          : m.clone().iand(this);
      }),
      (a.prototype.uand = function (m) {
        return this.length > m.length
          ? this.clone().iuand(m)
          : m.clone().iuand(this);
      }),
      (a.prototype.iuxor = function (m) {
        var c, u;
        this.length > m.length ? ((c = this), (u = m)) : ((c = m), (u = this));
        for (var g = 0; g < u.length; g++)
          this.words[g] = c.words[g] ^ u.words[g];
        if (this !== c) for (; g < c.length; g++) this.words[g] = c.words[g];
        return (this.length = c.length), this.strip();
      }),
      (a.prototype.ixor = function (m) {
        return i((this.negative | m.negative) === 0), this.iuxor(m);
      }),
      (a.prototype.xor = function (m) {
        return this.length > m.length
          ? this.clone().ixor(m)
          : m.clone().ixor(this);
      }),
      (a.prototype.uxor = function (m) {
        return this.length > m.length
          ? this.clone().iuxor(m)
          : m.clone().iuxor(this);
      }),
      (a.prototype.inotn = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = Math.ceil(m / 26) | 0,
          u = m % 26;
        this._expand(c), u > 0 && c--;
        for (var g = 0; g < c; g++) this.words[g] = ~this.words[g] & 67108863;
        return (
          u > 0 && (this.words[g] = ~this.words[g] & (67108863 >> (26 - u))),
          this.strip()
        );
      }),
      (a.prototype.notn = function (m) {
        return this.clone().inotn(m);
      }),
      (a.prototype.setn = function (m, c) {
        i(typeof m == "number" && m >= 0);
        var u = (m / 26) | 0,
          g = m % 26;
        return (
          this._expand(u + 1),
          c
            ? (this.words[u] = this.words[u] | (1 << g))
            : (this.words[u] = this.words[u] & ~(1 << g)),
          this.strip()
        );
      }),
      (a.prototype.iadd = function (m) {
        var c;
        if (this.negative !== 0 && m.negative === 0)
          return (
            (this.negative = 0),
            (c = this.isub(m)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && m.negative !== 0)
          return (
            (m.negative = 0),
            (c = this.isub(m)),
            (m.negative = 1),
            c._normSign()
          );
        var u, g;
        this.length > m.length ? ((u = this), (g = m)) : ((u = m), (g = this));
        for (var _ = 0, I = 0; I < g.length; I++)
          (c = (u.words[I] | 0) + (g.words[I] | 0) + _),
            (this.words[I] = c & 67108863),
            (_ = c >>> 26);
        for (; _ !== 0 && I < u.length; I++)
          (c = (u.words[I] | 0) + _),
            (this.words[I] = c & 67108863),
            (_ = c >>> 26);
        if (((this.length = u.length), _ !== 0))
          (this.words[this.length] = _), this.length++;
        else if (u !== this)
          for (; I < u.length; I++) this.words[I] = u.words[I];
        return this;
      }),
      (a.prototype.add = function (m) {
        var c;
        return m.negative !== 0 && this.negative === 0
          ? ((m.negative = 0), (c = this.sub(m)), (m.negative ^= 1), c)
          : m.negative === 0 && this.negative !== 0
          ? ((this.negative = 0), (c = m.sub(this)), (this.negative = 1), c)
          : this.length > m.length
          ? this.clone().iadd(m)
          : m.clone().iadd(this);
      }),
      (a.prototype.isub = function (m) {
        if (m.negative !== 0) {
          m.negative = 0;
          var c = this.iadd(m);
          return (m.negative = 1), c._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(m),
            (this.negative = 1),
            this._normSign()
          );
        var u = this.cmp(m);
        if (u === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var g, _;
        u > 0 ? ((g = this), (_ = m)) : ((g = m), (_ = this));
        for (var I = 0, x = 0; x < _.length; x++)
          (c = (g.words[x] | 0) - (_.words[x] | 0) + I),
            (I = c >> 26),
            (this.words[x] = c & 67108863);
        for (; I !== 0 && x < g.length; x++)
          (c = (g.words[x] | 0) + I),
            (I = c >> 26),
            (this.words[x] = c & 67108863);
        if (I === 0 && x < g.length && g !== this)
          for (; x < g.length; x++) this.words[x] = g.words[x];
        return (
          (this.length = Math.max(this.length, x)),
          g !== this && (this.negative = 1),
          this.strip()
        );
      }),
      (a.prototype.sub = function (m) {
        return this.clone().isub(m);
      });
    function C(B, m, c) {
      c.negative = m.negative ^ B.negative;
      var u = (B.length + m.length) | 0;
      (c.length = u), (u = (u - 1) | 0);
      var g = B.words[0] | 0,
        _ = m.words[0] | 0,
        I = g * _,
        x = I & 67108863,
        M = (I / 67108864) | 0;
      c.words[0] = x;
      for (var d = 1; d < u; d++) {
        for (
          var p = M >>> 26,
            N = M & 67108863,
            Z = Math.min(d, m.length - 1),
            se = Math.max(0, d - B.length + 1);
          se <= Z;
          se++
        ) {
          var D = (d - se) | 0;
          (g = B.words[D] | 0),
            (_ = m.words[se] | 0),
            (I = g * _ + N),
            (p += (I / 67108864) | 0),
            (N = I & 67108863);
        }
        (c.words[d] = N | 0), (M = p | 0);
      }
      return M !== 0 ? (c.words[d] = M | 0) : c.length--, c.strip();
    }
    var H = function (m, c, u) {
      var g = m.words,
        _ = c.words,
        I = u.words,
        x = 0,
        M,
        d,
        p,
        N = g[0] | 0,
        Z = N & 8191,
        se = N >>> 13,
        D = g[1] | 0,
        ee = D & 8191,
        q = D >>> 13,
        k = g[2] | 0,
        K = k & 8191,
        w = k >>> 13,
        $ = g[3] | 0,
        ne = $ & 8191,
        ce = $ >>> 13,
        ue = g[4] | 0,
        ye = ue & 8191,
        we = ue >>> 13,
        Re = g[5] | 0,
        Qe = Re & 8191,
        Pe = Re >>> 13,
        Ne = g[6] | 0,
        Ie = Ne & 8191,
        me = Ne >>> 13,
        Oe = g[7] | 0,
        Te = Oe & 8191,
        ve = Oe >>> 13,
        Ce = g[8] | 0,
        Me = Ce & 8191,
        be = Ce >>> 13,
        Le = g[9] | 0,
        xe = Le & 8191,
        _e = Le >>> 13,
        He = _[0] | 0,
        Ve = He & 8191,
        Ee = He >>> 13,
        Ke = _[1] | 0,
        ht = Ke & 8191,
        Ge = Ke >>> 13,
        At = _[2] | 0,
        lt = At & 8191,
        Je = At >>> 13,
        St = _[3] | 0,
        xt = St & 8191,
        Fe = St >>> 13,
        Xe = _[4] | 0,
        tt = Xe & 8191,
        Be = Xe >>> 13,
        et = _[5] | 0,
        Ze = et & 8191,
        $e = et >>> 13,
        ft = _[6] | 0,
        rt = ft & 8191,
        je = ft >>> 13,
        it = _[7] | 0,
        st = it & 8191,
        qe = it >>> 13,
        Ye = _[8] | 0,
        ut = Ye & 8191,
        ze = Ye >>> 13,
        Nt = _[9] | 0,
        Tt = Nt & 8191,
        at = Nt >>> 13;
      (u.negative = m.negative ^ c.negative),
        (u.length = 19),
        (M = Math.imul(Z, Ve)),
        (d = Math.imul(Z, Ee)),
        (d = (d + Math.imul(se, Ve)) | 0),
        (p = Math.imul(se, Ee));
      var mt = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (mt >>> 26)) | 0),
        (mt &= 67108863),
        (M = Math.imul(ee, Ve)),
        (d = Math.imul(ee, Ee)),
        (d = (d + Math.imul(q, Ve)) | 0),
        (p = Math.imul(q, Ee)),
        (M = (M + Math.imul(Z, ht)) | 0),
        (d = (d + Math.imul(Z, Ge)) | 0),
        (d = (d + Math.imul(se, ht)) | 0),
        (p = (p + Math.imul(se, Ge)) | 0);
      var Nr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Nr >>> 26)) | 0),
        (Nr &= 67108863),
        (M = Math.imul(K, Ve)),
        (d = Math.imul(K, Ee)),
        (d = (d + Math.imul(w, Ve)) | 0),
        (p = Math.imul(w, Ee)),
        (M = (M + Math.imul(ee, ht)) | 0),
        (d = (d + Math.imul(ee, Ge)) | 0),
        (d = (d + Math.imul(q, ht)) | 0),
        (p = (p + Math.imul(q, Ge)) | 0),
        (M = (M + Math.imul(Z, lt)) | 0),
        (d = (d + Math.imul(Z, Je)) | 0),
        (d = (d + Math.imul(se, lt)) | 0),
        (p = (p + Math.imul(se, Je)) | 0);
      var Tr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Tr >>> 26)) | 0),
        (Tr &= 67108863),
        (M = Math.imul(ne, Ve)),
        (d = Math.imul(ne, Ee)),
        (d = (d + Math.imul(ce, Ve)) | 0),
        (p = Math.imul(ce, Ee)),
        (M = (M + Math.imul(K, ht)) | 0),
        (d = (d + Math.imul(K, Ge)) | 0),
        (d = (d + Math.imul(w, ht)) | 0),
        (p = (p + Math.imul(w, Ge)) | 0),
        (M = (M + Math.imul(ee, lt)) | 0),
        (d = (d + Math.imul(ee, Je)) | 0),
        (d = (d + Math.imul(q, lt)) | 0),
        (p = (p + Math.imul(q, Je)) | 0),
        (M = (M + Math.imul(Z, xt)) | 0),
        (d = (d + Math.imul(Z, Fe)) | 0),
        (d = (d + Math.imul(se, xt)) | 0),
        (p = (p + Math.imul(se, Fe)) | 0);
      var Fr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Fr >>> 26)) | 0),
        (Fr &= 67108863),
        (M = Math.imul(ye, Ve)),
        (d = Math.imul(ye, Ee)),
        (d = (d + Math.imul(we, Ve)) | 0),
        (p = Math.imul(we, Ee)),
        (M = (M + Math.imul(ne, ht)) | 0),
        (d = (d + Math.imul(ne, Ge)) | 0),
        (d = (d + Math.imul(ce, ht)) | 0),
        (p = (p + Math.imul(ce, Ge)) | 0),
        (M = (M + Math.imul(K, lt)) | 0),
        (d = (d + Math.imul(K, Je)) | 0),
        (d = (d + Math.imul(w, lt)) | 0),
        (p = (p + Math.imul(w, Je)) | 0),
        (M = (M + Math.imul(ee, xt)) | 0),
        (d = (d + Math.imul(ee, Fe)) | 0),
        (d = (d + Math.imul(q, xt)) | 0),
        (p = (p + Math.imul(q, Fe)) | 0),
        (M = (M + Math.imul(Z, tt)) | 0),
        (d = (d + Math.imul(Z, Be)) | 0),
        (d = (d + Math.imul(se, tt)) | 0),
        (p = (p + Math.imul(se, Be)) | 0);
      var Br = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Br >>> 26)) | 0),
        (Br &= 67108863),
        (M = Math.imul(Qe, Ve)),
        (d = Math.imul(Qe, Ee)),
        (d = (d + Math.imul(Pe, Ve)) | 0),
        (p = Math.imul(Pe, Ee)),
        (M = (M + Math.imul(ye, ht)) | 0),
        (d = (d + Math.imul(ye, Ge)) | 0),
        (d = (d + Math.imul(we, ht)) | 0),
        (p = (p + Math.imul(we, Ge)) | 0),
        (M = (M + Math.imul(ne, lt)) | 0),
        (d = (d + Math.imul(ne, Je)) | 0),
        (d = (d + Math.imul(ce, lt)) | 0),
        (p = (p + Math.imul(ce, Je)) | 0),
        (M = (M + Math.imul(K, xt)) | 0),
        (d = (d + Math.imul(K, Fe)) | 0),
        (d = (d + Math.imul(w, xt)) | 0),
        (p = (p + Math.imul(w, Fe)) | 0),
        (M = (M + Math.imul(ee, tt)) | 0),
        (d = (d + Math.imul(ee, Be)) | 0),
        (d = (d + Math.imul(q, tt)) | 0),
        (p = (p + Math.imul(q, Be)) | 0),
        (M = (M + Math.imul(Z, Ze)) | 0),
        (d = (d + Math.imul(Z, $e)) | 0),
        (d = (d + Math.imul(se, Ze)) | 0),
        (p = (p + Math.imul(se, $e)) | 0);
      var qr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (qr >>> 26)) | 0),
        (qr &= 67108863),
        (M = Math.imul(Ie, Ve)),
        (d = Math.imul(Ie, Ee)),
        (d = (d + Math.imul(me, Ve)) | 0),
        (p = Math.imul(me, Ee)),
        (M = (M + Math.imul(Qe, ht)) | 0),
        (d = (d + Math.imul(Qe, Ge)) | 0),
        (d = (d + Math.imul(Pe, ht)) | 0),
        (p = (p + Math.imul(Pe, Ge)) | 0),
        (M = (M + Math.imul(ye, lt)) | 0),
        (d = (d + Math.imul(ye, Je)) | 0),
        (d = (d + Math.imul(we, lt)) | 0),
        (p = (p + Math.imul(we, Je)) | 0),
        (M = (M + Math.imul(ne, xt)) | 0),
        (d = (d + Math.imul(ne, Fe)) | 0),
        (d = (d + Math.imul(ce, xt)) | 0),
        (p = (p + Math.imul(ce, Fe)) | 0),
        (M = (M + Math.imul(K, tt)) | 0),
        (d = (d + Math.imul(K, Be)) | 0),
        (d = (d + Math.imul(w, tt)) | 0),
        (p = (p + Math.imul(w, Be)) | 0),
        (M = (M + Math.imul(ee, Ze)) | 0),
        (d = (d + Math.imul(ee, $e)) | 0),
        (d = (d + Math.imul(q, Ze)) | 0),
        (p = (p + Math.imul(q, $e)) | 0),
        (M = (M + Math.imul(Z, rt)) | 0),
        (d = (d + Math.imul(Z, je)) | 0),
        (d = (d + Math.imul(se, rt)) | 0),
        (p = (p + Math.imul(se, je)) | 0);
      var er = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (er >>> 26)) | 0),
        (er &= 67108863),
        (M = Math.imul(Te, Ve)),
        (d = Math.imul(Te, Ee)),
        (d = (d + Math.imul(ve, Ve)) | 0),
        (p = Math.imul(ve, Ee)),
        (M = (M + Math.imul(Ie, ht)) | 0),
        (d = (d + Math.imul(Ie, Ge)) | 0),
        (d = (d + Math.imul(me, ht)) | 0),
        (p = (p + Math.imul(me, Ge)) | 0),
        (M = (M + Math.imul(Qe, lt)) | 0),
        (d = (d + Math.imul(Qe, Je)) | 0),
        (d = (d + Math.imul(Pe, lt)) | 0),
        (p = (p + Math.imul(Pe, Je)) | 0),
        (M = (M + Math.imul(ye, xt)) | 0),
        (d = (d + Math.imul(ye, Fe)) | 0),
        (d = (d + Math.imul(we, xt)) | 0),
        (p = (p + Math.imul(we, Fe)) | 0),
        (M = (M + Math.imul(ne, tt)) | 0),
        (d = (d + Math.imul(ne, Be)) | 0),
        (d = (d + Math.imul(ce, tt)) | 0),
        (p = (p + Math.imul(ce, Be)) | 0),
        (M = (M + Math.imul(K, Ze)) | 0),
        (d = (d + Math.imul(K, $e)) | 0),
        (d = (d + Math.imul(w, Ze)) | 0),
        (p = (p + Math.imul(w, $e)) | 0),
        (M = (M + Math.imul(ee, rt)) | 0),
        (d = (d + Math.imul(ee, je)) | 0),
        (d = (d + Math.imul(q, rt)) | 0),
        (p = (p + Math.imul(q, je)) | 0),
        (M = (M + Math.imul(Z, st)) | 0),
        (d = (d + Math.imul(Z, qe)) | 0),
        (d = (d + Math.imul(se, st)) | 0),
        (p = (p + Math.imul(se, qe)) | 0);
      var Xr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Xr >>> 26)) | 0),
        (Xr &= 67108863),
        (M = Math.imul(Me, Ve)),
        (d = Math.imul(Me, Ee)),
        (d = (d + Math.imul(be, Ve)) | 0),
        (p = Math.imul(be, Ee)),
        (M = (M + Math.imul(Te, ht)) | 0),
        (d = (d + Math.imul(Te, Ge)) | 0),
        (d = (d + Math.imul(ve, ht)) | 0),
        (p = (p + Math.imul(ve, Ge)) | 0),
        (M = (M + Math.imul(Ie, lt)) | 0),
        (d = (d + Math.imul(Ie, Je)) | 0),
        (d = (d + Math.imul(me, lt)) | 0),
        (p = (p + Math.imul(me, Je)) | 0),
        (M = (M + Math.imul(Qe, xt)) | 0),
        (d = (d + Math.imul(Qe, Fe)) | 0),
        (d = (d + Math.imul(Pe, xt)) | 0),
        (p = (p + Math.imul(Pe, Fe)) | 0),
        (M = (M + Math.imul(ye, tt)) | 0),
        (d = (d + Math.imul(ye, Be)) | 0),
        (d = (d + Math.imul(we, tt)) | 0),
        (p = (p + Math.imul(we, Be)) | 0),
        (M = (M + Math.imul(ne, Ze)) | 0),
        (d = (d + Math.imul(ne, $e)) | 0),
        (d = (d + Math.imul(ce, Ze)) | 0),
        (p = (p + Math.imul(ce, $e)) | 0),
        (M = (M + Math.imul(K, rt)) | 0),
        (d = (d + Math.imul(K, je)) | 0),
        (d = (d + Math.imul(w, rt)) | 0),
        (p = (p + Math.imul(w, je)) | 0),
        (M = (M + Math.imul(ee, st)) | 0),
        (d = (d + Math.imul(ee, qe)) | 0),
        (d = (d + Math.imul(q, st)) | 0),
        (p = (p + Math.imul(q, qe)) | 0),
        (M = (M + Math.imul(Z, ut)) | 0),
        (d = (d + Math.imul(Z, ze)) | 0),
        (d = (d + Math.imul(se, ut)) | 0),
        (p = (p + Math.imul(se, ze)) | 0);
      var Qi = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Qi >>> 26)) | 0),
        (Qi &= 67108863),
        (M = Math.imul(xe, Ve)),
        (d = Math.imul(xe, Ee)),
        (d = (d + Math.imul(_e, Ve)) | 0),
        (p = Math.imul(_e, Ee)),
        (M = (M + Math.imul(Me, ht)) | 0),
        (d = (d + Math.imul(Me, Ge)) | 0),
        (d = (d + Math.imul(be, ht)) | 0),
        (p = (p + Math.imul(be, Ge)) | 0),
        (M = (M + Math.imul(Te, lt)) | 0),
        (d = (d + Math.imul(Te, Je)) | 0),
        (d = (d + Math.imul(ve, lt)) | 0),
        (p = (p + Math.imul(ve, Je)) | 0),
        (M = (M + Math.imul(Ie, xt)) | 0),
        (d = (d + Math.imul(Ie, Fe)) | 0),
        (d = (d + Math.imul(me, xt)) | 0),
        (p = (p + Math.imul(me, Fe)) | 0),
        (M = (M + Math.imul(Qe, tt)) | 0),
        (d = (d + Math.imul(Qe, Be)) | 0),
        (d = (d + Math.imul(Pe, tt)) | 0),
        (p = (p + Math.imul(Pe, Be)) | 0),
        (M = (M + Math.imul(ye, Ze)) | 0),
        (d = (d + Math.imul(ye, $e)) | 0),
        (d = (d + Math.imul(we, Ze)) | 0),
        (p = (p + Math.imul(we, $e)) | 0),
        (M = (M + Math.imul(ne, rt)) | 0),
        (d = (d + Math.imul(ne, je)) | 0),
        (d = (d + Math.imul(ce, rt)) | 0),
        (p = (p + Math.imul(ce, je)) | 0),
        (M = (M + Math.imul(K, st)) | 0),
        (d = (d + Math.imul(K, qe)) | 0),
        (d = (d + Math.imul(w, st)) | 0),
        (p = (p + Math.imul(w, qe)) | 0),
        (M = (M + Math.imul(ee, ut)) | 0),
        (d = (d + Math.imul(ee, ze)) | 0),
        (d = (d + Math.imul(q, ut)) | 0),
        (p = (p + Math.imul(q, ze)) | 0),
        (M = (M + Math.imul(Z, Tt)) | 0),
        (d = (d + Math.imul(Z, at)) | 0),
        (d = (d + Math.imul(se, Tt)) | 0),
        (p = (p + Math.imul(se, at)) | 0);
      var Zr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Zr >>> 26)) | 0),
        (Zr &= 67108863),
        (M = Math.imul(xe, ht)),
        (d = Math.imul(xe, Ge)),
        (d = (d + Math.imul(_e, ht)) | 0),
        (p = Math.imul(_e, Ge)),
        (M = (M + Math.imul(Me, lt)) | 0),
        (d = (d + Math.imul(Me, Je)) | 0),
        (d = (d + Math.imul(be, lt)) | 0),
        (p = (p + Math.imul(be, Je)) | 0),
        (M = (M + Math.imul(Te, xt)) | 0),
        (d = (d + Math.imul(Te, Fe)) | 0),
        (d = (d + Math.imul(ve, xt)) | 0),
        (p = (p + Math.imul(ve, Fe)) | 0),
        (M = (M + Math.imul(Ie, tt)) | 0),
        (d = (d + Math.imul(Ie, Be)) | 0),
        (d = (d + Math.imul(me, tt)) | 0),
        (p = (p + Math.imul(me, Be)) | 0),
        (M = (M + Math.imul(Qe, Ze)) | 0),
        (d = (d + Math.imul(Qe, $e)) | 0),
        (d = (d + Math.imul(Pe, Ze)) | 0),
        (p = (p + Math.imul(Pe, $e)) | 0),
        (M = (M + Math.imul(ye, rt)) | 0),
        (d = (d + Math.imul(ye, je)) | 0),
        (d = (d + Math.imul(we, rt)) | 0),
        (p = (p + Math.imul(we, je)) | 0),
        (M = (M + Math.imul(ne, st)) | 0),
        (d = (d + Math.imul(ne, qe)) | 0),
        (d = (d + Math.imul(ce, st)) | 0),
        (p = (p + Math.imul(ce, qe)) | 0),
        (M = (M + Math.imul(K, ut)) | 0),
        (d = (d + Math.imul(K, ze)) | 0),
        (d = (d + Math.imul(w, ut)) | 0),
        (p = (p + Math.imul(w, ze)) | 0),
        (M = (M + Math.imul(ee, Tt)) | 0),
        (d = (d + Math.imul(ee, at)) | 0),
        (d = (d + Math.imul(q, Tt)) | 0),
        (p = (p + Math.imul(q, at)) | 0);
      var Xi = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Xi >>> 26)) | 0),
        (Xi &= 67108863),
        (M = Math.imul(xe, lt)),
        (d = Math.imul(xe, Je)),
        (d = (d + Math.imul(_e, lt)) | 0),
        (p = Math.imul(_e, Je)),
        (M = (M + Math.imul(Me, xt)) | 0),
        (d = (d + Math.imul(Me, Fe)) | 0),
        (d = (d + Math.imul(be, xt)) | 0),
        (p = (p + Math.imul(be, Fe)) | 0),
        (M = (M + Math.imul(Te, tt)) | 0),
        (d = (d + Math.imul(Te, Be)) | 0),
        (d = (d + Math.imul(ve, tt)) | 0),
        (p = (p + Math.imul(ve, Be)) | 0),
        (M = (M + Math.imul(Ie, Ze)) | 0),
        (d = (d + Math.imul(Ie, $e)) | 0),
        (d = (d + Math.imul(me, Ze)) | 0),
        (p = (p + Math.imul(me, $e)) | 0),
        (M = (M + Math.imul(Qe, rt)) | 0),
        (d = (d + Math.imul(Qe, je)) | 0),
        (d = (d + Math.imul(Pe, rt)) | 0),
        (p = (p + Math.imul(Pe, je)) | 0),
        (M = (M + Math.imul(ye, st)) | 0),
        (d = (d + Math.imul(ye, qe)) | 0),
        (d = (d + Math.imul(we, st)) | 0),
        (p = (p + Math.imul(we, qe)) | 0),
        (M = (M + Math.imul(ne, ut)) | 0),
        (d = (d + Math.imul(ne, ze)) | 0),
        (d = (d + Math.imul(ce, ut)) | 0),
        (p = (p + Math.imul(ce, ze)) | 0),
        (M = (M + Math.imul(K, Tt)) | 0),
        (d = (d + Math.imul(K, at)) | 0),
        (d = (d + Math.imul(w, Tt)) | 0),
        (p = (p + Math.imul(w, at)) | 0);
      var Zi = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Zi >>> 26)) | 0),
        (Zi &= 67108863),
        (M = Math.imul(xe, xt)),
        (d = Math.imul(xe, Fe)),
        (d = (d + Math.imul(_e, xt)) | 0),
        (p = Math.imul(_e, Fe)),
        (M = (M + Math.imul(Me, tt)) | 0),
        (d = (d + Math.imul(Me, Be)) | 0),
        (d = (d + Math.imul(be, tt)) | 0),
        (p = (p + Math.imul(be, Be)) | 0),
        (M = (M + Math.imul(Te, Ze)) | 0),
        (d = (d + Math.imul(Te, $e)) | 0),
        (d = (d + Math.imul(ve, Ze)) | 0),
        (p = (p + Math.imul(ve, $e)) | 0),
        (M = (M + Math.imul(Ie, rt)) | 0),
        (d = (d + Math.imul(Ie, je)) | 0),
        (d = (d + Math.imul(me, rt)) | 0),
        (p = (p + Math.imul(me, je)) | 0),
        (M = (M + Math.imul(Qe, st)) | 0),
        (d = (d + Math.imul(Qe, qe)) | 0),
        (d = (d + Math.imul(Pe, st)) | 0),
        (p = (p + Math.imul(Pe, qe)) | 0),
        (M = (M + Math.imul(ye, ut)) | 0),
        (d = (d + Math.imul(ye, ze)) | 0),
        (d = (d + Math.imul(we, ut)) | 0),
        (p = (p + Math.imul(we, ze)) | 0),
        (M = (M + Math.imul(ne, Tt)) | 0),
        (d = (d + Math.imul(ne, at)) | 0),
        (d = (d + Math.imul(ce, Tt)) | 0),
        (p = (p + Math.imul(ce, at)) | 0);
      var ei = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (ei >>> 26)) | 0),
        (ei &= 67108863),
        (M = Math.imul(xe, tt)),
        (d = Math.imul(xe, Be)),
        (d = (d + Math.imul(_e, tt)) | 0),
        (p = Math.imul(_e, Be)),
        (M = (M + Math.imul(Me, Ze)) | 0),
        (d = (d + Math.imul(Me, $e)) | 0),
        (d = (d + Math.imul(be, Ze)) | 0),
        (p = (p + Math.imul(be, $e)) | 0),
        (M = (M + Math.imul(Te, rt)) | 0),
        (d = (d + Math.imul(Te, je)) | 0),
        (d = (d + Math.imul(ve, rt)) | 0),
        (p = (p + Math.imul(ve, je)) | 0),
        (M = (M + Math.imul(Ie, st)) | 0),
        (d = (d + Math.imul(Ie, qe)) | 0),
        (d = (d + Math.imul(me, st)) | 0),
        (p = (p + Math.imul(me, qe)) | 0),
        (M = (M + Math.imul(Qe, ut)) | 0),
        (d = (d + Math.imul(Qe, ze)) | 0),
        (d = (d + Math.imul(Pe, ut)) | 0),
        (p = (p + Math.imul(Pe, ze)) | 0),
        (M = (M + Math.imul(ye, Tt)) | 0),
        (d = (d + Math.imul(ye, at)) | 0),
        (d = (d + Math.imul(we, Tt)) | 0),
        (p = (p + Math.imul(we, at)) | 0);
      var xi = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (xi >>> 26)) | 0),
        (xi &= 67108863),
        (M = Math.imul(xe, Ze)),
        (d = Math.imul(xe, $e)),
        (d = (d + Math.imul(_e, Ze)) | 0),
        (p = Math.imul(_e, $e)),
        (M = (M + Math.imul(Me, rt)) | 0),
        (d = (d + Math.imul(Me, je)) | 0),
        (d = (d + Math.imul(be, rt)) | 0),
        (p = (p + Math.imul(be, je)) | 0),
        (M = (M + Math.imul(Te, st)) | 0),
        (d = (d + Math.imul(Te, qe)) | 0),
        (d = (d + Math.imul(ve, st)) | 0),
        (p = (p + Math.imul(ve, qe)) | 0),
        (M = (M + Math.imul(Ie, ut)) | 0),
        (d = (d + Math.imul(Ie, ze)) | 0),
        (d = (d + Math.imul(me, ut)) | 0),
        (p = (p + Math.imul(me, ze)) | 0),
        (M = (M + Math.imul(Qe, Tt)) | 0),
        (d = (d + Math.imul(Qe, at)) | 0),
        (d = (d + Math.imul(Pe, Tt)) | 0),
        (p = (p + Math.imul(Pe, at)) | 0);
      var Di = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (Di >>> 26)) | 0),
        (Di &= 67108863),
        (M = Math.imul(xe, rt)),
        (d = Math.imul(xe, je)),
        (d = (d + Math.imul(_e, rt)) | 0),
        (p = Math.imul(_e, je)),
        (M = (M + Math.imul(Me, st)) | 0),
        (d = (d + Math.imul(Me, qe)) | 0),
        (d = (d + Math.imul(be, st)) | 0),
        (p = (p + Math.imul(be, qe)) | 0),
        (M = (M + Math.imul(Te, ut)) | 0),
        (d = (d + Math.imul(Te, ze)) | 0),
        (d = (d + Math.imul(ve, ut)) | 0),
        (p = (p + Math.imul(ve, ze)) | 0),
        (M = (M + Math.imul(Ie, Tt)) | 0),
        (d = (d + Math.imul(Ie, at)) | 0),
        (d = (d + Math.imul(me, Tt)) | 0),
        (p = (p + Math.imul(me, at)) | 0);
      var lr = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (lr >>> 26)) | 0),
        (lr &= 67108863),
        (M = Math.imul(xe, st)),
        (d = Math.imul(xe, qe)),
        (d = (d + Math.imul(_e, st)) | 0),
        (p = Math.imul(_e, qe)),
        (M = (M + Math.imul(Me, ut)) | 0),
        (d = (d + Math.imul(Me, ze)) | 0),
        (d = (d + Math.imul(be, ut)) | 0),
        (p = (p + Math.imul(be, ze)) | 0),
        (M = (M + Math.imul(Te, Tt)) | 0),
        (d = (d + Math.imul(Te, at)) | 0),
        (d = (d + Math.imul(ve, Tt)) | 0),
        (p = (p + Math.imul(ve, at)) | 0);
      var en = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (en >>> 26)) | 0),
        (en &= 67108863),
        (M = Math.imul(xe, ut)),
        (d = Math.imul(xe, ze)),
        (d = (d + Math.imul(_e, ut)) | 0),
        (p = Math.imul(_e, ze)),
        (M = (M + Math.imul(Me, Tt)) | 0),
        (d = (d + Math.imul(Me, at)) | 0),
        (d = (d + Math.imul(be, Tt)) | 0),
        (p = (p + Math.imul(be, at)) | 0);
      var tn = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      (x = (((p + (d >>> 13)) | 0) + (tn >>> 26)) | 0),
        (tn &= 67108863),
        (M = Math.imul(xe, Tt)),
        (d = Math.imul(xe, at)),
        (d = (d + Math.imul(_e, Tt)) | 0),
        (p = Math.imul(_e, at));
      var rn = (((x + M) | 0) + ((d & 8191) << 13)) | 0;
      return (
        (x = (((p + (d >>> 13)) | 0) + (rn >>> 26)) | 0),
        (rn &= 67108863),
        (I[0] = mt),
        (I[1] = Nr),
        (I[2] = Tr),
        (I[3] = Fr),
        (I[4] = Br),
        (I[5] = qr),
        (I[6] = er),
        (I[7] = Xr),
        (I[8] = Qi),
        (I[9] = Zr),
        (I[10] = Xi),
        (I[11] = Zi),
        (I[12] = ei),
        (I[13] = xi),
        (I[14] = Di),
        (I[15] = lr),
        (I[16] = en),
        (I[17] = tn),
        (I[18] = rn),
        x !== 0 && ((I[19] = x), u.length++),
        u
      );
    };
    Math.imul || (H = C);
    function V(B, m, c) {
      (c.negative = m.negative ^ B.negative), (c.length = B.length + m.length);
      for (var u = 0, g = 0, _ = 0; _ < c.length - 1; _++) {
        var I = g;
        g = 0;
        for (
          var x = u & 67108863,
            M = Math.min(_, m.length - 1),
            d = Math.max(0, _ - B.length + 1);
          d <= M;
          d++
        ) {
          var p = _ - d,
            N = B.words[p] | 0,
            Z = m.words[d] | 0,
            se = N * Z,
            D = se & 67108863;
          (I = (I + ((se / 67108864) | 0)) | 0),
            (D = (D + x) | 0),
            (x = D & 67108863),
            (I = (I + (D >>> 26)) | 0),
            (g += I >>> 26),
            (I &= 67108863);
        }
        (c.words[_] = x), (u = I), (I = g);
      }
      return u !== 0 ? (c.words[_] = u) : c.length--, c.strip();
    }
    function Q(B, m, c) {
      var u = new j();
      return u.mulp(B, m, c);
    }
    a.prototype.mulTo = function (m, c) {
      var u,
        g = this.length + m.length;
      return (
        this.length === 10 && m.length === 10
          ? (u = H(this, m, c))
          : g < 63
          ? (u = C(this, m, c))
          : g < 1024
          ? (u = V(this, m, c))
          : (u = Q(this, m, c)),
        u
      );
    };
    function j(B, m) {
      (this.x = B), (this.y = m);
    }
    (j.prototype.makeRBT = function (m) {
      for (
        var c = new Array(m), u = a.prototype._countBits(m) - 1, g = 0;
        g < m;
        g++
      )
        c[g] = this.revBin(g, u, m);
      return c;
    }),
      (j.prototype.revBin = function (m, c, u) {
        if (m === 0 || m === u - 1) return m;
        for (var g = 0, _ = 0; _ < c; _++)
          (g |= (m & 1) << (c - _ - 1)), (m >>= 1);
        return g;
      }),
      (j.prototype.permute = function (m, c, u, g, _, I) {
        for (var x = 0; x < I; x++) (g[x] = c[m[x]]), (_[x] = u[m[x]]);
      }),
      (j.prototype.transform = function (m, c, u, g, _, I) {
        this.permute(I, m, c, u, g, _);
        for (var x = 1; x < _; x <<= 1)
          for (
            var M = x << 1,
              d = Math.cos((2 * Math.PI) / M),
              p = Math.sin((2 * Math.PI) / M),
              N = 0;
            N < _;
            N += M
          )
            for (var Z = d, se = p, D = 0; D < x; D++) {
              var ee = u[N + D],
                q = g[N + D],
                k = u[N + D + x],
                K = g[N + D + x],
                w = Z * k - se * K;
              (K = Z * K + se * k),
                (k = w),
                (u[N + D] = ee + k),
                (g[N + D] = q + K),
                (u[N + D + x] = ee - k),
                (g[N + D + x] = q - K),
                D !== M &&
                  ((w = d * Z - p * se), (se = d * se + p * Z), (Z = w));
            }
      }),
      (j.prototype.guessLen13b = function (m, c) {
        var u = Math.max(c, m) | 1,
          g = u & 1,
          _ = 0;
        for (u = (u / 2) | 0; u; u = u >>> 1) _++;
        return 1 << (_ + 1 + g);
      }),
      (j.prototype.conjugate = function (m, c, u) {
        if (!(u <= 1))
          for (var g = 0; g < u / 2; g++) {
            var _ = m[g];
            (m[g] = m[u - g - 1]),
              (m[u - g - 1] = _),
              (_ = c[g]),
              (c[g] = -c[u - g - 1]),
              (c[u - g - 1] = -_);
          }
      }),
      (j.prototype.normalize13b = function (m, c) {
        for (var u = 0, g = 0; g < c / 2; g++) {
          var _ =
            Math.round(m[2 * g + 1] / c) * 8192 + Math.round(m[2 * g] / c) + u;
          (m[g] = _ & 67108863),
            _ < 67108864 ? (u = 0) : (u = (_ / 67108864) | 0);
        }
        return m;
      }),
      (j.prototype.convert13b = function (m, c, u, g) {
        for (var _ = 0, I = 0; I < c; I++)
          (_ = _ + (m[I] | 0)),
            (u[2 * I] = _ & 8191),
            (_ = _ >>> 13),
            (u[2 * I + 1] = _ & 8191),
            (_ = _ >>> 13);
        for (I = 2 * c; I < g; ++I) u[I] = 0;
        i(_ === 0), i((_ & -8192) === 0);
      }),
      (j.prototype.stub = function (m) {
        for (var c = new Array(m), u = 0; u < m; u++) c[u] = 0;
        return c;
      }),
      (j.prototype.mulp = function (m, c, u) {
        var g = 2 * this.guessLen13b(m.length, c.length),
          _ = this.makeRBT(g),
          I = this.stub(g),
          x = new Array(g),
          M = new Array(g),
          d = new Array(g),
          p = new Array(g),
          N = new Array(g),
          Z = new Array(g),
          se = u.words;
        (se.length = g),
          this.convert13b(m.words, m.length, x, g),
          this.convert13b(c.words, c.length, p, g),
          this.transform(x, I, M, d, g, _),
          this.transform(p, I, N, Z, g, _);
        for (var D = 0; D < g; D++) {
          var ee = M[D] * N[D] - d[D] * Z[D];
          (d[D] = M[D] * Z[D] + d[D] * N[D]), (M[D] = ee);
        }
        return (
          this.conjugate(M, d, g),
          this.transform(M, d, se, I, g, _),
          this.conjugate(se, I, g),
          this.normalize13b(se, g),
          (u.negative = m.negative ^ c.negative),
          (u.length = m.length + c.length),
          u.strip()
        );
      }),
      (a.prototype.mul = function (m) {
        var c = new a(null);
        return (c.words = new Array(this.length + m.length)), this.mulTo(m, c);
      }),
      (a.prototype.mulf = function (m) {
        var c = new a(null);
        return (c.words = new Array(this.length + m.length)), Q(this, m, c);
      }),
      (a.prototype.imul = function (m) {
        return this.clone().mulTo(m, this);
      }),
      (a.prototype.imuln = function (m) {
        i(typeof m == "number"), i(m < 67108864);
        for (var c = 0, u = 0; u < this.length; u++) {
          var g = (this.words[u] | 0) * m,
            _ = (g & 67108863) + (c & 67108863);
          (c >>= 26),
            (c += (g / 67108864) | 0),
            (c += _ >>> 26),
            (this.words[u] = _ & 67108863);
        }
        return c !== 0 && ((this.words[u] = c), this.length++), this;
      }),
      (a.prototype.muln = function (m) {
        return this.clone().imuln(m);
      }),
      (a.prototype.sqr = function () {
        return this.mul(this);
      }),
      (a.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (a.prototype.pow = function (m) {
        var c = P(m);
        if (c.length === 0) return new a(1);
        for (var u = this, g = 0; g < c.length && c[g] === 0; g++, u = u.sqr());
        if (++g < c.length)
          for (var _ = u.sqr(); g < c.length; g++, _ = _.sqr())
            c[g] !== 0 && (u = u.mul(_));
        return u;
      }),
      (a.prototype.iushln = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = m % 26,
          u = (m - c) / 26,
          g = (67108863 >>> (26 - c)) << (26 - c),
          _;
        if (c !== 0) {
          var I = 0;
          for (_ = 0; _ < this.length; _++) {
            var x = this.words[_] & g,
              M = ((this.words[_] | 0) - x) << c;
            (this.words[_] = M | I), (I = x >>> (26 - c));
          }
          I && ((this.words[_] = I), this.length++);
        }
        if (u !== 0) {
          for (_ = this.length - 1; _ >= 0; _--)
            this.words[_ + u] = this.words[_];
          for (_ = 0; _ < u; _++) this.words[_] = 0;
          this.length += u;
        }
        return this.strip();
      }),
      (a.prototype.ishln = function (m) {
        return i(this.negative === 0), this.iushln(m);
      }),
      (a.prototype.iushrn = function (m, c, u) {
        i(typeof m == "number" && m >= 0);
        var g;
        c ? (g = (c - (c % 26)) / 26) : (g = 0);
        var _ = m % 26,
          I = Math.min((m - _) / 26, this.length),
          x = 67108863 ^ ((67108863 >>> _) << _),
          M = u;
        if (((g -= I), (g = Math.max(0, g)), M)) {
          for (var d = 0; d < I; d++) M.words[d] = this.words[d];
          M.length = I;
        }
        if (I !== 0)
          if (this.length > I)
            for (this.length -= I, d = 0; d < this.length; d++)
              this.words[d] = this.words[d + I];
          else (this.words[0] = 0), (this.length = 1);
        var p = 0;
        for (d = this.length - 1; d >= 0 && (p !== 0 || d >= g); d--) {
          var N = this.words[d] | 0;
          (this.words[d] = (p << (26 - _)) | (N >>> _)), (p = N & x);
        }
        return (
          M && p !== 0 && (M.words[M.length++] = p),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this.strip()
        );
      }),
      (a.prototype.ishrn = function (m, c, u) {
        return i(this.negative === 0), this.iushrn(m, c, u);
      }),
      (a.prototype.shln = function (m) {
        return this.clone().ishln(m);
      }),
      (a.prototype.ushln = function (m) {
        return this.clone().iushln(m);
      }),
      (a.prototype.shrn = function (m) {
        return this.clone().ishrn(m);
      }),
      (a.prototype.ushrn = function (m) {
        return this.clone().iushrn(m);
      }),
      (a.prototype.testn = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = m % 26,
          u = (m - c) / 26,
          g = 1 << c;
        if (this.length <= u) return !1;
        var _ = this.words[u];
        return !!(_ & g);
      }),
      (a.prototype.imaskn = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = m % 26,
          u = (m - c) / 26;
        if (
          (i(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= u)
        )
          return this;
        if (
          (c !== 0 && u++, (this.length = Math.min(u, this.length)), c !== 0)
        ) {
          var g = 67108863 ^ ((67108863 >>> c) << c);
          this.words[this.length - 1] &= g;
        }
        return this.strip();
      }),
      (a.prototype.maskn = function (m) {
        return this.clone().imaskn(m);
      }),
      (a.prototype.iaddn = function (m) {
        return (
          i(typeof m == "number"),
          i(m < 67108864),
          m < 0
            ? this.isubn(-m)
            : this.negative !== 0
            ? this.length === 1 && (this.words[0] | 0) < m
              ? ((this.words[0] = m - (this.words[0] | 0)),
                (this.negative = 0),
                this)
              : ((this.negative = 0), this.isubn(m), (this.negative = 1), this)
            : this._iaddn(m)
        );
      }),
      (a.prototype._iaddn = function (m) {
        this.words[0] += m;
        for (var c = 0; c < this.length && this.words[c] >= 67108864; c++)
          (this.words[c] -= 67108864),
            c === this.length - 1
              ? (this.words[c + 1] = 1)
              : this.words[c + 1]++;
        return (this.length = Math.max(this.length, c + 1)), this;
      }),
      (a.prototype.isubn = function (m) {
        if ((i(typeof m == "number"), i(m < 67108864), m < 0))
          return this.iaddn(-m);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(m), (this.negative = 1), this;
        if (((this.words[0] -= m), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var c = 0; c < this.length && this.words[c] < 0; c++)
            (this.words[c] += 67108864), (this.words[c + 1] -= 1);
        return this.strip();
      }),
      (a.prototype.addn = function (m) {
        return this.clone().iaddn(m);
      }),
      (a.prototype.subn = function (m) {
        return this.clone().isubn(m);
      }),
      (a.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (a.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (a.prototype._ishlnsubmul = function (m, c, u) {
        var g = m.length + u,
          _;
        this._expand(g);
        var I,
          x = 0;
        for (_ = 0; _ < m.length; _++) {
          I = (this.words[_ + u] | 0) + x;
          var M = (m.words[_] | 0) * c;
          (I -= M & 67108863),
            (x = (I >> 26) - ((M / 67108864) | 0)),
            (this.words[_ + u] = I & 67108863);
        }
        for (; _ < this.length - u; _++)
          (I = (this.words[_ + u] | 0) + x),
            (x = I >> 26),
            (this.words[_ + u] = I & 67108863);
        if (x === 0) return this.strip();
        for (i(x === -1), x = 0, _ = 0; _ < this.length; _++)
          (I = -(this.words[_] | 0) + x),
            (x = I >> 26),
            (this.words[_] = I & 67108863);
        return (this.negative = 1), this.strip();
      }),
      (a.prototype._wordDiv = function (m, c) {
        var u = this.length - m.length,
          g = this.clone(),
          _ = m,
          I = _.words[_.length - 1] | 0,
          x = this._countBits(I);
        (u = 26 - x),
          u !== 0 &&
            ((_ = _.ushln(u)), g.iushln(u), (I = _.words[_.length - 1] | 0));
        var M = g.length - _.length,
          d;
        if (c !== "mod") {
          (d = new a(null)),
            (d.length = M + 1),
            (d.words = new Array(d.length));
          for (var p = 0; p < d.length; p++) d.words[p] = 0;
        }
        var N = g.clone()._ishlnsubmul(_, 1, M);
        N.negative === 0 && ((g = N), d && (d.words[M] = 1));
        for (var Z = M - 1; Z >= 0; Z--) {
          var se =
            (g.words[_.length + Z] | 0) * 67108864 +
            (g.words[_.length + Z - 1] | 0);
          for (
            se = Math.min((se / I) | 0, 67108863), g._ishlnsubmul(_, se, Z);
            g.negative !== 0;

          )
            se--,
              (g.negative = 0),
              g._ishlnsubmul(_, 1, Z),
              g.isZero() || (g.negative ^= 1);
          d && (d.words[Z] = se);
        }
        return (
          d && d.strip(),
          g.strip(),
          c !== "div" && u !== 0 && g.iushrn(u),
          { div: d || null, mod: g }
        );
      }),
      (a.prototype.divmod = function (m, c, u) {
        if ((i(!m.isZero()), this.isZero()))
          return { div: new a(0), mod: new a(0) };
        var g, _, I;
        return this.negative !== 0 && m.negative === 0
          ? ((I = this.neg().divmod(m, c)),
            c !== "mod" && (g = I.div.neg()),
            c !== "div" &&
              ((_ = I.mod.neg()), u && _.negative !== 0 && _.iadd(m)),
            { div: g, mod: _ })
          : this.negative === 0 && m.negative !== 0
          ? ((I = this.divmod(m.neg(), c)),
            c !== "mod" && (g = I.div.neg()),
            { div: g, mod: I.mod })
          : this.negative & m.negative
          ? ((I = this.neg().divmod(m.neg(), c)),
            c !== "div" &&
              ((_ = I.mod.neg()), u && _.negative !== 0 && _.isub(m)),
            { div: I.div, mod: _ })
          : m.length > this.length || this.cmp(m) < 0
          ? { div: new a(0), mod: this }
          : m.length === 1
          ? c === "div"
            ? { div: this.divn(m.words[0]), mod: null }
            : c === "mod"
            ? { div: null, mod: new a(this.modn(m.words[0])) }
            : { div: this.divn(m.words[0]), mod: new a(this.modn(m.words[0])) }
          : this._wordDiv(m, c);
      }),
      (a.prototype.div = function (m) {
        return this.divmod(m, "div", !1).div;
      }),
      (a.prototype.mod = function (m) {
        return this.divmod(m, "mod", !1).mod;
      }),
      (a.prototype.umod = function (m) {
        return this.divmod(m, "mod", !0).mod;
      }),
      (a.prototype.divRound = function (m) {
        var c = this.divmod(m);
        if (c.mod.isZero()) return c.div;
        var u = c.div.negative !== 0 ? c.mod.isub(m) : c.mod,
          g = m.ushrn(1),
          _ = m.andln(1),
          I = u.cmp(g);
        return I < 0 || (_ === 1 && I === 0)
          ? c.div
          : c.div.negative !== 0
          ? c.div.isubn(1)
          : c.div.iaddn(1);
      }),
      (a.prototype.modn = function (m) {
        i(m <= 67108863);
        for (var c = (1 << 26) % m, u = 0, g = this.length - 1; g >= 0; g--)
          u = (c * u + (this.words[g] | 0)) % m;
        return u;
      }),
      (a.prototype.idivn = function (m) {
        i(m <= 67108863);
        for (var c = 0, u = this.length - 1; u >= 0; u--) {
          var g = (this.words[u] | 0) + c * 67108864;
          (this.words[u] = (g / m) | 0), (c = g % m);
        }
        return this.strip();
      }),
      (a.prototype.divn = function (m) {
        return this.clone().idivn(m);
      }),
      (a.prototype.egcd = function (m) {
        i(m.negative === 0), i(!m.isZero());
        var c = this,
          u = m.clone();
        c.negative !== 0 ? (c = c.umod(m)) : (c = c.clone());
        for (
          var g = new a(1), _ = new a(0), I = new a(0), x = new a(1), M = 0;
          c.isEven() && u.isEven();

        )
          c.iushrn(1), u.iushrn(1), ++M;
        for (var d = u.clone(), p = c.clone(); !c.isZero(); ) {
          for (var N = 0, Z = 1; !(c.words[0] & Z) && N < 26; ++N, Z <<= 1);
          if (N > 0)
            for (c.iushrn(N); N-- > 0; )
              (g.isOdd() || _.isOdd()) && (g.iadd(d), _.isub(p)),
                g.iushrn(1),
                _.iushrn(1);
          for (var se = 0, D = 1; !(u.words[0] & D) && se < 26; ++se, D <<= 1);
          if (se > 0)
            for (u.iushrn(se); se-- > 0; )
              (I.isOdd() || x.isOdd()) && (I.iadd(d), x.isub(p)),
                I.iushrn(1),
                x.iushrn(1);
          c.cmp(u) >= 0
            ? (c.isub(u), g.isub(I), _.isub(x))
            : (u.isub(c), I.isub(g), x.isub(_));
        }
        return { a: I, b: x, gcd: u.iushln(M) };
      }),
      (a.prototype._invmp = function (m) {
        i(m.negative === 0), i(!m.isZero());
        var c = this,
          u = m.clone();
        c.negative !== 0 ? (c = c.umod(m)) : (c = c.clone());
        for (
          var g = new a(1), _ = new a(0), I = u.clone();
          c.cmpn(1) > 0 && u.cmpn(1) > 0;

        ) {
          for (var x = 0, M = 1; !(c.words[0] & M) && x < 26; ++x, M <<= 1);
          if (x > 0)
            for (c.iushrn(x); x-- > 0; ) g.isOdd() && g.iadd(I), g.iushrn(1);
          for (var d = 0, p = 1; !(u.words[0] & p) && d < 26; ++d, p <<= 1);
          if (d > 0)
            for (u.iushrn(d); d-- > 0; ) _.isOdd() && _.iadd(I), _.iushrn(1);
          c.cmp(u) >= 0 ? (c.isub(u), g.isub(_)) : (u.isub(c), _.isub(g));
        }
        var N;
        return (
          c.cmpn(1) === 0 ? (N = g) : (N = _), N.cmpn(0) < 0 && N.iadd(m), N
        );
      }),
      (a.prototype.gcd = function (m) {
        if (this.isZero()) return m.abs();
        if (m.isZero()) return this.abs();
        var c = this.clone(),
          u = m.clone();
        (c.negative = 0), (u.negative = 0);
        for (var g = 0; c.isEven() && u.isEven(); g++) c.iushrn(1), u.iushrn(1);
        do {
          for (; c.isEven(); ) c.iushrn(1);
          for (; u.isEven(); ) u.iushrn(1);
          var _ = c.cmp(u);
          if (_ < 0) {
            var I = c;
            (c = u), (u = I);
          } else if (_ === 0 || u.cmpn(1) === 0) break;
          c.isub(u);
        } while (!0);
        return u.iushln(g);
      }),
      (a.prototype.invm = function (m) {
        return this.egcd(m).a.umod(m);
      }),
      (a.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (a.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (a.prototype.andln = function (m) {
        return this.words[0] & m;
      }),
      (a.prototype.bincn = function (m) {
        i(typeof m == "number");
        var c = m % 26,
          u = (m - c) / 26,
          g = 1 << c;
        if (this.length <= u)
          return this._expand(u + 1), (this.words[u] |= g), this;
        for (var _ = g, I = u; _ !== 0 && I < this.length; I++) {
          var x = this.words[I] | 0;
          (x += _), (_ = x >>> 26), (x &= 67108863), (this.words[I] = x);
        }
        return _ !== 0 && ((this.words[I] = _), this.length++), this;
      }),
      (a.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (a.prototype.cmpn = function (m) {
        var c = m < 0;
        if (this.negative !== 0 && !c) return -1;
        if (this.negative === 0 && c) return 1;
        this.strip();
        var u;
        if (this.length > 1) u = 1;
        else {
          c && (m = -m), i(m <= 67108863, "Number is too big");
          var g = this.words[0] | 0;
          u = g === m ? 0 : g < m ? -1 : 1;
        }
        return this.negative !== 0 ? -u | 0 : u;
      }),
      (a.prototype.cmp = function (m) {
        if (this.negative !== 0 && m.negative === 0) return -1;
        if (this.negative === 0 && m.negative !== 0) return 1;
        var c = this.ucmp(m);
        return this.negative !== 0 ? -c | 0 : c;
      }),
      (a.prototype.ucmp = function (m) {
        if (this.length > m.length) return 1;
        if (this.length < m.length) return -1;
        for (var c = 0, u = this.length - 1; u >= 0; u--) {
          var g = this.words[u] | 0,
            _ = m.words[u] | 0;
          if (g !== _) {
            g < _ ? (c = -1) : g > _ && (c = 1);
            break;
          }
        }
        return c;
      }),
      (a.prototype.gtn = function (m) {
        return this.cmpn(m) === 1;
      }),
      (a.prototype.gt = function (m) {
        return this.cmp(m) === 1;
      }),
      (a.prototype.gten = function (m) {
        return this.cmpn(m) >= 0;
      }),
      (a.prototype.gte = function (m) {
        return this.cmp(m) >= 0;
      }),
      (a.prototype.ltn = function (m) {
        return this.cmpn(m) === -1;
      }),
      (a.prototype.lt = function (m) {
        return this.cmp(m) === -1;
      }),
      (a.prototype.lten = function (m) {
        return this.cmpn(m) <= 0;
      }),
      (a.prototype.lte = function (m) {
        return this.cmp(m) <= 0;
      }),
      (a.prototype.eqn = function (m) {
        return this.cmpn(m) === 0;
      }),
      (a.prototype.eq = function (m) {
        return this.cmp(m) === 0;
      }),
      (a.red = function (m) {
        return new ae(m);
      }),
      (a.prototype.toRed = function (m) {
        return (
          i(!this.red, "Already a number in reduction context"),
          i(this.negative === 0, "red works only with positives"),
          m.convertTo(this)._forceRed(m)
        );
      }),
      (a.prototype.fromRed = function () {
        return (
          i(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (a.prototype._forceRed = function (m) {
        return (this.red = m), this;
      }),
      (a.prototype.forceRed = function (m) {
        return (
          i(!this.red, "Already a number in reduction context"),
          this._forceRed(m)
        );
      }),
      (a.prototype.redAdd = function (m) {
        return (
          i(this.red, "redAdd works only with red numbers"),
          this.red.add(this, m)
        );
      }),
      (a.prototype.redIAdd = function (m) {
        return (
          i(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, m)
        );
      }),
      (a.prototype.redSub = function (m) {
        return (
          i(this.red, "redSub works only with red numbers"),
          this.red.sub(this, m)
        );
      }),
      (a.prototype.redISub = function (m) {
        return (
          i(this.red, "redISub works only with red numbers"),
          this.red.isub(this, m)
        );
      }),
      (a.prototype.redShl = function (m) {
        return (
          i(this.red, "redShl works only with red numbers"),
          this.red.shl(this, m)
        );
      }),
      (a.prototype.redMul = function (m) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, m),
          this.red.mul(this, m)
        );
      }),
      (a.prototype.redIMul = function (m) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, m),
          this.red.imul(this, m)
        );
      }),
      (a.prototype.redSqr = function () {
        return (
          i(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (a.prototype.redISqr = function () {
        return (
          i(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (a.prototype.redSqrt = function () {
        return (
          i(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (a.prototype.redInvm = function () {
        return (
          i(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (a.prototype.redNeg = function () {
        return (
          i(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (a.prototype.redPow = function (m) {
        return (
          i(this.red && !m.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, m)
        );
      });
    var Y = { k256: null, p224: null, p192: null, p25519: null };
    function U(B, m) {
      (this.name = B),
        (this.p = new a(m, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new a(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (U.prototype._tmp = function () {
      var m = new a(null);
      return (m.words = new Array(Math.ceil(this.n / 13))), m;
    }),
      (U.prototype.ireduce = function (m) {
        var c = m,
          u;
        do
          this.split(c, this.tmp),
            (c = this.imulK(c)),
            (c = c.iadd(this.tmp)),
            (u = c.bitLength());
        while (u > this.n);
        var g = u < this.n ? -1 : c.ucmp(this.p);
        return (
          g === 0
            ? ((c.words[0] = 0), (c.length = 1))
            : g > 0
            ? c.isub(this.p)
            : c.strip !== void 0
            ? c.strip()
            : c._strip(),
          c
        );
      }),
      (U.prototype.split = function (m, c) {
        m.iushrn(this.n, 0, c);
      }),
      (U.prototype.imulK = function (m) {
        return m.imul(this.k);
      });
    function z() {
      U.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    n(z, U),
      (z.prototype.split = function (m, c) {
        for (var u = 4194303, g = Math.min(m.length, 9), _ = 0; _ < g; _++)
          c.words[_] = m.words[_];
        if (((c.length = g), m.length <= 9)) {
          (m.words[0] = 0), (m.length = 1);
          return;
        }
        var I = m.words[9];
        for (c.words[c.length++] = I & u, _ = 10; _ < m.length; _++) {
          var x = m.words[_] | 0;
          (m.words[_ - 10] = ((x & u) << 4) | (I >>> 22)), (I = x);
        }
        (I >>>= 22),
          (m.words[_ - 10] = I),
          I === 0 && m.length > 10 ? (m.length -= 10) : (m.length -= 9);
      }),
      (z.prototype.imulK = function (m) {
        (m.words[m.length] = 0), (m.words[m.length + 1] = 0), (m.length += 2);
        for (var c = 0, u = 0; u < m.length; u++) {
          var g = m.words[u] | 0;
          (c += g * 977),
            (m.words[u] = c & 67108863),
            (c = g * 64 + ((c / 67108864) | 0));
        }
        return (
          m.words[m.length - 1] === 0 &&
            (m.length--, m.words[m.length - 1] === 0 && m.length--),
          m
        );
      });
    function G() {
      U.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    n(G, U);
    function A() {
      U.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    n(A, U);
    function F() {
      U.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    n(F, U),
      (F.prototype.imulK = function (m) {
        for (var c = 0, u = 0; u < m.length; u++) {
          var g = (m.words[u] | 0) * 19 + c,
            _ = g & 67108863;
          (g >>>= 26), (m.words[u] = _), (c = g);
        }
        return c !== 0 && (m.words[m.length++] = c), m;
      }),
      (a._prime = function (m) {
        if (Y[m]) return Y[m];
        var c;
        if (m === "k256") c = new z();
        else if (m === "p224") c = new G();
        else if (m === "p192") c = new A();
        else if (m === "p25519") c = new F();
        else throw new Error("Unknown prime " + m);
        return (Y[m] = c), c;
      });
    function ae(B) {
      if (typeof B == "string") {
        var m = a._prime(B);
        (this.m = m.p), (this.prime = m);
      } else
        i(B.gtn(1), "modulus must be greater than 1"),
          (this.m = B),
          (this.prime = null);
    }
    (ae.prototype._verify1 = function (m) {
      i(m.negative === 0, "red works only with positives"),
        i(m.red, "red works only with red numbers");
    }),
      (ae.prototype._verify2 = function (m, c) {
        i((m.negative | c.negative) === 0, "red works only with positives"),
          i(m.red && m.red === c.red, "red works only with red numbers");
      }),
      (ae.prototype.imod = function (m) {
        return this.prime
          ? this.prime.ireduce(m)._forceRed(this)
          : m.umod(this.m)._forceRed(this);
      }),
      (ae.prototype.neg = function (m) {
        return m.isZero() ? m.clone() : this.m.sub(m)._forceRed(this);
      }),
      (ae.prototype.add = function (m, c) {
        this._verify2(m, c);
        var u = m.add(c);
        return u.cmp(this.m) >= 0 && u.isub(this.m), u._forceRed(this);
      }),
      (ae.prototype.iadd = function (m, c) {
        this._verify2(m, c);
        var u = m.iadd(c);
        return u.cmp(this.m) >= 0 && u.isub(this.m), u;
      }),
      (ae.prototype.sub = function (m, c) {
        this._verify2(m, c);
        var u = m.sub(c);
        return u.cmpn(0) < 0 && u.iadd(this.m), u._forceRed(this);
      }),
      (ae.prototype.isub = function (m, c) {
        this._verify2(m, c);
        var u = m.isub(c);
        return u.cmpn(0) < 0 && u.iadd(this.m), u;
      }),
      (ae.prototype.shl = function (m, c) {
        return this._verify1(m), this.imod(m.ushln(c));
      }),
      (ae.prototype.imul = function (m, c) {
        return this._verify2(m, c), this.imod(m.imul(c));
      }),
      (ae.prototype.mul = function (m, c) {
        return this._verify2(m, c), this.imod(m.mul(c));
      }),
      (ae.prototype.isqr = function (m) {
        return this.imul(m, m.clone());
      }),
      (ae.prototype.sqr = function (m) {
        return this.mul(m, m);
      }),
      (ae.prototype.sqrt = function (m) {
        if (m.isZero()) return m.clone();
        var c = this.m.andln(3);
        if ((i(c % 2 === 1), c === 3)) {
          var u = this.m.add(new a(1)).iushrn(2);
          return this.pow(m, u);
        }
        for (var g = this.m.subn(1), _ = 0; !g.isZero() && g.andln(1) === 0; )
          _++, g.iushrn(1);
        i(!g.isZero());
        var I = new a(1).toRed(this),
          x = I.redNeg(),
          M = this.m.subn(1).iushrn(1),
          d = this.m.bitLength();
        for (d = new a(2 * d * d).toRed(this); this.pow(d, M).cmp(x) !== 0; )
          d.redIAdd(x);
        for (
          var p = this.pow(d, g),
            N = this.pow(m, g.addn(1).iushrn(1)),
            Z = this.pow(m, g),
            se = _;
          Z.cmp(I) !== 0;

        ) {
          for (var D = Z, ee = 0; D.cmp(I) !== 0; ee++) D = D.redSqr();
          i(ee < se);
          var q = this.pow(p, new a(1).iushln(se - ee - 1));
          (N = N.redMul(q)), (p = q.redSqr()), (Z = Z.redMul(p)), (se = ee);
        }
        return N;
      }),
      (ae.prototype.invm = function (m) {
        var c = m._invmp(this.m);
        return c.negative !== 0
          ? ((c.negative = 0), this.imod(c).redNeg())
          : this.imod(c);
      }),
      (ae.prototype.pow = function (m, c) {
        if (c.isZero()) return new a(1).toRed(this);
        if (c.cmpn(1) === 0) return m.clone();
        var u = 4,
          g = new Array(1 << u);
        (g[0] = new a(1).toRed(this)), (g[1] = m);
        for (var _ = 2; _ < g.length; _++) g[_] = this.mul(g[_ - 1], m);
        var I = g[0],
          x = 0,
          M = 0,
          d = c.bitLength() % 26;
        for (d === 0 && (d = 26), _ = c.length - 1; _ >= 0; _--) {
          for (var p = c.words[_], N = d - 1; N >= 0; N--) {
            var Z = (p >> N) & 1;
            if ((I !== g[0] && (I = this.sqr(I)), Z === 0 && x === 0)) {
              M = 0;
              continue;
            }
            (x <<= 1),
              (x |= Z),
              M++,
              !(M !== u && (_ !== 0 || N !== 0)) &&
                ((I = this.mul(I, g[x])), (M = 0), (x = 0));
          }
          d = 26;
        }
        return I;
      }),
      (ae.prototype.convertTo = function (m) {
        var c = m.umod(this.m);
        return c === m ? c.clone() : c;
      }),
      (ae.prototype.convertFrom = function (m) {
        var c = m.clone();
        return (c.red = null), c;
      }),
      (a.mont = function (m) {
        return new de(m);
      });
    function de(B) {
      ae.call(this, B),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new a(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    n(de, ae),
      (de.prototype.convertTo = function (m) {
        return this.imod(m.ushln(this.shift));
      }),
      (de.prototype.convertFrom = function (m) {
        var c = this.imod(m.mul(this.rinv));
        return (c.red = null), c;
      }),
      (de.prototype.imul = function (m, c) {
        if (m.isZero() || c.isZero())
          return (m.words[0] = 0), (m.length = 1), m;
        var u = m.imul(c),
          g = u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          _ = u.isub(g).iushrn(this.shift),
          I = _;
        return (
          _.cmp(this.m) >= 0
            ? (I = _.isub(this.m))
            : _.cmpn(0) < 0 && (I = _.iadd(this.m)),
          I._forceRed(this)
        );
      }),
      (de.prototype.mul = function (m, c) {
        if (m.isZero() || c.isZero()) return new a(0)._forceRed(this);
        var u = m.mul(c),
          g = u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          _ = u.isub(g).iushrn(this.shift),
          I = _;
        return (
          _.cmp(this.m) >= 0
            ? (I = _.isub(this.m))
            : _.cmpn(0) < 0 && (I = _.iadd(this.m)),
          I._forceRed(this)
        );
      }),
      (de.prototype.invm = function (m) {
        var c = this.imod(m._invmp(this.m).mul(this.r2));
        return c._forceRed(this);
      });
  })(r, Hi);
})(ad);
var fs = ad.exports;
(function (r) {
  var e = r,
    t = fs,
    i = t8,
    n = r8;
  (e.assert = i),
    (e.toArray = n.toArray),
    (e.zero2 = n.zero2),
    (e.toHex = n.toHex),
    (e.encode = n.encode);
  function a(y, S, O) {
    var P = new Array(Math.max(y.bitLength(), O) + 1),
      C;
    for (C = 0; C < P.length; C += 1) P[C] = 0;
    var H = 1 << (S + 1),
      V = y.clone();
    for (C = 0; C < P.length; C++) {
      var Q,
        j = V.andln(H - 1);
      V.isOdd()
        ? (j > (H >> 1) - 1 ? (Q = (H >> 1) - j) : (Q = j), V.isubn(Q))
        : (Q = 0),
        (P[C] = Q),
        V.iushrn(1);
    }
    return P;
  }
  e.getNAF = a;
  function f(y, S) {
    var O = [[], []];
    (y = y.clone()), (S = S.clone());
    for (var P = 0, C = 0, H; y.cmpn(-P) > 0 || S.cmpn(-C) > 0; ) {
      var V = (y.andln(3) + P) & 3,
        Q = (S.andln(3) + C) & 3;
      V === 3 && (V = -1), Q === 3 && (Q = -1);
      var j;
      V & 1
        ? ((H = (y.andln(7) + P) & 7),
          (H === 3 || H === 5) && Q === 2 ? (j = -V) : (j = V))
        : (j = 0),
        O[0].push(j);
      var Y;
      Q & 1
        ? ((H = (S.andln(7) + C) & 7),
          (H === 3 || H === 5) && V === 2 ? (Y = -Q) : (Y = Q))
        : (Y = 0),
        O[1].push(Y),
        2 * P === j + 1 && (P = 1 - P),
        2 * C === Y + 1 && (C = 1 - C),
        y.iushrn(1),
        S.iushrn(1);
    }
    return O;
  }
  e.getJSF = f;
  function h(y, S, O) {
    var P = "_" + S;
    y.prototype[S] = function () {
      return this[P] !== void 0 ? this[P] : (this[P] = O.call(this));
    };
  }
  e.cachedProperty = h;
  function b(y) {
    return typeof y == "string" ? e.toArray(y, "hex") : y;
  }
  e.parseBytes = b;
  function v(y) {
    return new t(y, "hex", "le");
  }
  e.intFromLE = v;
})(Ii);
var od = {},
  Gs = fs,
  ic = Ii,
  $f = ic.getNAF,
  o7 = ic.getJSF,
  jf = ic.assert;
function Os(r, e) {
  (this.type = r),
    (this.p = new Gs(e.p, 16)),
    (this.red = e.prime ? Gs.red(e.prime) : Gs.mont(this.p)),
    (this.zero = new Gs(0).toRed(this.red)),
    (this.one = new Gs(1).toRed(this.red)),
    (this.two = new Gs(2).toRed(this.red)),
    (this.n = e.n && new Gs(e.n, 16)),
    (this.g = e.g && this.pointFromJSON(e.g, e.gRed)),
    (this._wnafT1 = new Array(4)),
    (this._wnafT2 = new Array(4)),
    (this._wnafT3 = new Array(4)),
    (this._wnafT4 = new Array(4)),
    (this._bitLength = this.n ? this.n.bitLength() : 0);
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0
    ? (this.redN = null)
    : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
}
var hu = Os;
Os.prototype.point = function () {
  throw new Error("Not implemented");
};
Os.prototype.validate = function () {
  throw new Error("Not implemented");
};
Os.prototype._fixedNafMul = function (e, t) {
  jf(e.precomputed);
  var i = e._getDoubles(),
    n = $f(t, 1, this._bitLength),
    a = (1 << (i.step + 1)) - (i.step % 2 === 0 ? 2 : 1);
  a /= 3;
  var f = [],
    h,
    b;
  for (h = 0; h < n.length; h += i.step) {
    b = 0;
    for (var v = h + i.step - 1; v >= h; v--) b = (b << 1) + n[v];
    f.push(b);
  }
  for (
    var y = this.jpoint(null, null, null),
      S = this.jpoint(null, null, null),
      O = a;
    O > 0;
    O--
  ) {
    for (h = 0; h < f.length; h++)
      (b = f[h]),
        b === O
          ? (S = S.mixedAdd(i.points[h]))
          : b === -O && (S = S.mixedAdd(i.points[h].neg()));
    y = y.add(S);
  }
  return y.toP();
};
Os.prototype._wnafMul = function (e, t) {
  var i = 4,
    n = e._getNAFPoints(i);
  i = n.wnd;
  for (
    var a = n.points,
      f = $f(t, i, this._bitLength),
      h = this.jpoint(null, null, null),
      b = f.length - 1;
    b >= 0;
    b--
  ) {
    for (var v = 0; b >= 0 && f[b] === 0; b--) v++;
    if ((b >= 0 && v++, (h = h.dblp(v)), b < 0)) break;
    var y = f[b];
    jf(y !== 0),
      e.type === "affine"
        ? y > 0
          ? (h = h.mixedAdd(a[(y - 1) >> 1]))
          : (h = h.mixedAdd(a[(-y - 1) >> 1].neg()))
        : y > 0
        ? (h = h.add(a[(y - 1) >> 1]))
        : (h = h.add(a[(-y - 1) >> 1].neg()));
  }
  return e.type === "affine" ? h.toP() : h;
};
Os.prototype._wnafMulAdd = function (e, t, i, n, a) {
  var f = this._wnafT1,
    h = this._wnafT2,
    b = this._wnafT3,
    v = 0,
    y,
    S,
    O;
  for (y = 0; y < n; y++) {
    O = t[y];
    var P = O._getNAFPoints(e);
    (f[y] = P.wnd), (h[y] = P.points);
  }
  for (y = n - 1; y >= 1; y -= 2) {
    var C = y - 1,
      H = y;
    if (f[C] !== 1 || f[H] !== 1) {
      (b[C] = $f(i[C], f[C], this._bitLength)),
        (b[H] = $f(i[H], f[H], this._bitLength)),
        (v = Math.max(b[C].length, v)),
        (v = Math.max(b[H].length, v));
      continue;
    }
    var V = [t[C], null, null, t[H]];
    t[C].y.cmp(t[H].y) === 0
      ? ((V[1] = t[C].add(t[H])), (V[2] = t[C].toJ().mixedAdd(t[H].neg())))
      : t[C].y.cmp(t[H].y.redNeg()) === 0
      ? ((V[1] = t[C].toJ().mixedAdd(t[H])), (V[2] = t[C].add(t[H].neg())))
      : ((V[1] = t[C].toJ().mixedAdd(t[H])),
        (V[2] = t[C].toJ().mixedAdd(t[H].neg())));
    var Q = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
      j = o7(i[C], i[H]);
    for (
      v = Math.max(j[0].length, v),
        b[C] = new Array(v),
        b[H] = new Array(v),
        S = 0;
      S < v;
      S++
    ) {
      var Y = j[0][S] | 0,
        U = j[1][S] | 0;
      (b[C][S] = Q[(Y + 1) * 3 + (U + 1)]), (b[H][S] = 0), (h[C] = V);
    }
  }
  var z = this.jpoint(null, null, null),
    G = this._wnafT4;
  for (y = v; y >= 0; y--) {
    for (var A = 0; y >= 0; ) {
      var F = !0;
      for (S = 0; S < n; S++) (G[S] = b[S][y] | 0), G[S] !== 0 && (F = !1);
      if (!F) break;
      A++, y--;
    }
    if ((y >= 0 && A++, (z = z.dblp(A)), y < 0)) break;
    for (S = 0; S < n; S++) {
      var ae = G[S];
      ae !== 0 &&
        (ae > 0
          ? (O = h[S][(ae - 1) >> 1])
          : ae < 0 && (O = h[S][(-ae - 1) >> 1].neg()),
        O.type === "affine" ? (z = z.mixedAdd(O)) : (z = z.add(O)));
    }
  }
  for (y = 0; y < n; y++) h[y] = null;
  return a ? z : z.toP();
};
function Ji(r, e) {
  (this.curve = r), (this.type = e), (this.precomputed = null);
}
Os.BasePoint = Ji;
Ji.prototype.eq = function () {
  throw new Error("Not implemented");
};
Ji.prototype.validate = function () {
  return this.curve.validate(this);
};
Os.prototype.decodePoint = function (e, t) {
  e = ic.toArray(e, t);
  var i = this.p.byteLength();
  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * i) {
    e[0] === 6
      ? jf(e[e.length - 1] % 2 === 0)
      : e[0] === 7 && jf(e[e.length - 1] % 2 === 1);
    var n = this.point(e.slice(1, 1 + i), e.slice(1 + i, 1 + 2 * i));
    return n;
  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === i)
    return this.pointFromX(e.slice(1, 1 + i), e[0] === 3);
  throw new Error("Unknown point format");
};
Ji.prototype.encodeCompressed = function (e) {
  return this.encode(e, !0);
};
Ji.prototype._encode = function (e) {
  var t = this.curve.p.byteLength(),
    i = this.getX().toArray("be", t);
  return e
    ? [this.getY().isEven() ? 2 : 3].concat(i)
    : [4].concat(i, this.getY().toArray("be", t));
};
Ji.prototype.encode = function (e, t) {
  return ic.encode(this._encode(t), e);
};
Ji.prototype.precompute = function (e) {
  if (this.precomputed) return this;
  var t = { doubles: null, naf: null, beta: null };
  return (
    (t.naf = this._getNAFPoints(8)),
    (t.doubles = this._getDoubles(4, e)),
    (t.beta = this._getBeta()),
    (this.precomputed = t),
    this
  );
};
Ji.prototype._hasDoubles = function (e) {
  if (!this.precomputed) return !1;
  var t = this.precomputed.doubles;
  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;
};
Ji.prototype._getDoubles = function (e, t) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var i = [this], n = this, a = 0; a < t; a += e) {
    for (var f = 0; f < e; f++) n = n.dbl();
    i.push(n);
  }
  return { step: e, points: i };
};
Ji.prototype._getNAFPoints = function (e) {
  if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
  for (
    var t = [this], i = (1 << e) - 1, n = i === 1 ? null : this.dbl(), a = 1;
    a < i;
    a++
  )
    t[a] = t[a - 1].add(n);
  return { wnd: e, points: t };
};
Ji.prototype._getBeta = function () {
  return null;
};
Ji.prototype.dblp = function (e) {
  for (var t = this, i = 0; i < e; i++) t = t.dbl();
  return t;
};
var c7 = Ii,
  nr = fs,
  cd = Xl(),
  Va = hu,
  f7 = c7.assert;
function Yi(r) {
  Va.call(this, "short", r),
    (this.a = new nr(r.a, 16).toRed(this.red)),
    (this.b = new nr(r.b, 16).toRed(this.red)),
    (this.tinv = this.two.redInvm()),
    (this.zeroA = this.a.fromRed().cmpn(0) === 0),
    (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
    (this.endo = this._getEndomorphism(r)),
    (this._endoWnafT1 = new Array(4)),
    (this._endoWnafT2 = new Array(4));
}
cd(Yi, Va);
var u7 = Yi;
Yi.prototype._getEndomorphism = function (e) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var t, i;
    if (e.beta) t = new nr(e.beta, 16).toRed(this.red);
    else {
      var n = this._getEndoRoots(this.p);
      (t = n[0].cmp(n[1]) < 0 ? n[0] : n[1]), (t = t.toRed(this.red));
    }
    if (e.lambda) i = new nr(e.lambda, 16);
    else {
      var a = this._getEndoRoots(this.n);
      this.g.mul(a[0]).x.cmp(this.g.x.redMul(t)) === 0
        ? (i = a[0])
        : ((i = a[1]), f7(this.g.mul(i).x.cmp(this.g.x.redMul(t)) === 0));
    }
    var f;
    return (
      e.basis
        ? (f = e.basis.map(function (h) {
            return { a: new nr(h.a, 16), b: new nr(h.b, 16) };
          }))
        : (f = this._getEndoBasis(i)),
      { beta: t, lambda: i, basis: f }
    );
  }
};
Yi.prototype._getEndoRoots = function (e) {
  var t = e === this.p ? this.red : nr.mont(e),
    i = new nr(2).toRed(t).redInvm(),
    n = i.redNeg(),
    a = new nr(3).toRed(t).redNeg().redSqrt().redMul(i),
    f = n.redAdd(a).fromRed(),
    h = n.redSub(a).fromRed();
  return [f, h];
};
Yi.prototype._getEndoBasis = function (e) {
  for (
    var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
      i = e,
      n = this.n.clone(),
      a = new nr(1),
      f = new nr(0),
      h = new nr(0),
      b = new nr(1),
      v,
      y,
      S,
      O,
      P,
      C,
      H,
      V = 0,
      Q,
      j;
    i.cmpn(0) !== 0;

  ) {
    var Y = n.div(i);
    (Q = n.sub(Y.mul(i))), (j = h.sub(Y.mul(a)));
    var U = b.sub(Y.mul(f));
    if (!S && Q.cmp(t) < 0) (v = H.neg()), (y = a), (S = Q.neg()), (O = j);
    else if (S && ++V === 2) break;
    (H = Q), (n = i), (i = Q), (h = a), (a = j), (b = f), (f = U);
  }
  (P = Q.neg()), (C = j);
  var z = S.sqr().add(O.sqr()),
    G = P.sqr().add(C.sqr());
  return (
    G.cmp(z) >= 0 && ((P = v), (C = y)),
    S.negative && ((S = S.neg()), (O = O.neg())),
    P.negative && ((P = P.neg()), (C = C.neg())),
    [
      { a: S, b: O },
      { a: P, b: C },
    ]
  );
};
Yi.prototype._endoSplit = function (e) {
  var t = this.endo.basis,
    i = t[0],
    n = t[1],
    a = n.b.mul(e).divRound(this.n),
    f = i.b.neg().mul(e).divRound(this.n),
    h = a.mul(i.a),
    b = f.mul(n.a),
    v = a.mul(i.b),
    y = f.mul(n.b),
    S = e.sub(h).sub(b),
    O = v.add(y).neg();
  return { k1: S, k2: O };
};
Yi.prototype.pointFromX = function (e, t) {
  (e = new nr(e, 16)), e.red || (e = e.toRed(this.red));
  var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),
    n = i.redSqrt();
  if (n.redSqr().redSub(i).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var a = n.fromRed().isOdd();
  return ((t && !a) || (!t && a)) && (n = n.redNeg()), this.point(e, n);
};
Yi.prototype.validate = function (e) {
  if (e.inf) return !0;
  var t = e.x,
    i = e.y,
    n = this.a.redMul(t),
    a = t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);
  return i.redSqr().redISub(a).cmpn(0) === 0;
};
Yi.prototype._endoWnafMulAdd = function (e, t, i) {
  for (
    var n = this._endoWnafT1, a = this._endoWnafT2, f = 0;
    f < e.length;
    f++
  ) {
    var h = this._endoSplit(t[f]),
      b = e[f],
      v = b._getBeta();
    h.k1.negative && (h.k1.ineg(), (b = b.neg(!0))),
      h.k2.negative && (h.k2.ineg(), (v = v.neg(!0))),
      (n[f * 2] = b),
      (n[f * 2 + 1] = v),
      (a[f * 2] = h.k1),
      (a[f * 2 + 1] = h.k2);
  }
  for (var y = this._wnafMulAdd(1, n, a, f * 2, i), S = 0; S < f * 2; S++)
    (n[S] = null), (a[S] = null);
  return y;
};
function Ir(r, e, t, i) {
  Va.BasePoint.call(this, r, "affine"),
    e === null && t === null
      ? ((this.x = null), (this.y = null), (this.inf = !0))
      : ((this.x = new nr(e, 16)),
        (this.y = new nr(t, 16)),
        i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        (this.inf = !1));
}
cd(Ir, Va.BasePoint);
Yi.prototype.point = function (e, t, i) {
  return new Ir(this, e, t, i);
};
Yi.prototype.pointFromJSON = function (e, t) {
  return Ir.fromJSON(this, e, t);
};
Ir.prototype._getBeta = function () {
  if (this.curve.endo) {
    var e = this.precomputed;
    if (e && e.beta) return e.beta;
    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (e) {
      var i = this.curve,
        n = function (a) {
          return i.point(a.x.redMul(i.endo.beta), a.y);
        };
      (e.beta = t),
        (t.precomputed = {
          beta: null,
          naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(n) },
          doubles: e.doubles && {
            step: e.doubles.step,
            points: e.doubles.points.map(n),
          },
        });
    }
    return t;
  }
};
Ir.prototype.toJSON = function () {
  return this.precomputed
    ? [
        this.x,
        this.y,
        this.precomputed && {
          doubles: this.precomputed.doubles && {
            step: this.precomputed.doubles.step,
            points: this.precomputed.doubles.points.slice(1),
          },
          naf: this.precomputed.naf && {
            wnd: this.precomputed.naf.wnd,
            points: this.precomputed.naf.points.slice(1),
          },
        },
      ]
    : [this.x, this.y];
};
Ir.fromJSON = function (e, t, i) {
  typeof t == "string" && (t = JSON.parse(t));
  var n = e.point(t[0], t[1], i);
  if (!t[2]) return n;
  function a(h) {
    return e.point(h[0], h[1], i);
  }
  var f = t[2];
  return (
    (n.precomputed = {
      beta: null,
      doubles: f.doubles && {
        step: f.doubles.step,
        points: [n].concat(f.doubles.points.map(a)),
      },
      naf: f.naf && { wnd: f.naf.wnd, points: [n].concat(f.naf.points.map(a)) },
    }),
    n
  );
};
Ir.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC Point Infinity>"
    : "<EC Point x: " +
        this.x.fromRed().toString(16, 2) +
        " y: " +
        this.y.fromRed().toString(16, 2) +
        ">";
};
Ir.prototype.isInfinity = function () {
  return this.inf;
};
Ir.prototype.add = function (e) {
  if (this.inf) return e;
  if (e.inf) return this;
  if (this.eq(e)) return this.dbl();
  if (this.neg().eq(e)) return this.curve.point(null, null);
  if (this.x.cmp(e.x) === 0) return this.curve.point(null, null);
  var t = this.y.redSub(e.y);
  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));
  var i = t.redSqr().redISub(this.x).redISub(e.x),
    n = t.redMul(this.x.redSub(i)).redISub(this.y);
  return this.curve.point(i, n);
};
Ir.prototype.dbl = function () {
  if (this.inf) return this;
  var e = this.y.redAdd(this.y);
  if (e.cmpn(0) === 0) return this.curve.point(null, null);
  var t = this.curve.a,
    i = this.x.redSqr(),
    n = e.redInvm(),
    a = i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),
    f = a.redSqr().redISub(this.x.redAdd(this.x)),
    h = a.redMul(this.x.redSub(f)).redISub(this.y);
  return this.curve.point(f, h);
};
Ir.prototype.getX = function () {
  return this.x.fromRed();
};
Ir.prototype.getY = function () {
  return this.y.fromRed();
};
Ir.prototype.mul = function (e) {
  return (
    (e = new nr(e, 16)),
    this.isInfinity()
      ? this
      : this._hasDoubles(e)
      ? this.curve._fixedNafMul(this, e)
      : this.curve.endo
      ? this.curve._endoWnafMulAdd([this], [e])
      : this.curve._wnafMul(this, e)
  );
};
Ir.prototype.mulAdd = function (e, t, i) {
  var n = [this, t],
    a = [e, i];
  return this.curve.endo
    ? this.curve._endoWnafMulAdd(n, a)
    : this.curve._wnafMulAdd(1, n, a, 2);
};
Ir.prototype.jmulAdd = function (e, t, i) {
  var n = [this, t],
    a = [e, i];
  return this.curve.endo
    ? this.curve._endoWnafMulAdd(n, a, !0)
    : this.curve._wnafMulAdd(1, n, a, 2, !0);
};
Ir.prototype.eq = function (e) {
  return (
    this === e ||
    (this.inf === e.inf &&
      (this.inf || (this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0)))
  );
};
Ir.prototype.neg = function (e) {
  if (this.inf) return this;
  var t = this.curve.point(this.x, this.y.redNeg());
  if (e && this.precomputed) {
    var i = this.precomputed,
      n = function (a) {
        return a.neg();
      };
    t.precomputed = {
      naf: i.naf && { wnd: i.naf.wnd, points: i.naf.points.map(n) },
      doubles: i.doubles && {
        step: i.doubles.step,
        points: i.doubles.points.map(n),
      },
    };
  }
  return t;
};
Ir.prototype.toJ = function () {
  if (this.inf) return this.curve.jpoint(null, null, null);
  var e = this.curve.jpoint(this.x, this.y, this.curve.one);
  return e;
};
function Cr(r, e, t, i) {
  Va.BasePoint.call(this, r, "jacobian"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.one),
        (this.y = this.curve.one),
        (this.z = new nr(0)))
      : ((this.x = new nr(e, 16)),
        (this.y = new nr(t, 16)),
        (this.z = new nr(i, 16))),
    this.x.red || (this.x = this.x.toRed(this.curve.red)),
    this.y.red || (this.y = this.y.toRed(this.curve.red)),
    this.z.red || (this.z = this.z.toRed(this.curve.red)),
    (this.zOne = this.z === this.curve.one);
}
cd(Cr, Va.BasePoint);
Yi.prototype.jpoint = function (e, t, i) {
  return new Cr(this, e, t, i);
};
Cr.prototype.toP = function () {
  if (this.isInfinity()) return this.curve.point(null, null);
  var e = this.z.redInvm(),
    t = e.redSqr(),
    i = this.x.redMul(t),
    n = this.y.redMul(t).redMul(e);
  return this.curve.point(i, n);
};
Cr.prototype.neg = function () {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};
Cr.prototype.add = function (e) {
  if (this.isInfinity()) return e;
  if (e.isInfinity()) return this;
  var t = e.z.redSqr(),
    i = this.z.redSqr(),
    n = this.x.redMul(t),
    a = e.x.redMul(i),
    f = this.y.redMul(t.redMul(e.z)),
    h = e.y.redMul(i.redMul(this.z)),
    b = n.redSub(a),
    v = f.redSub(h);
  if (b.cmpn(0) === 0)
    return v.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var y = b.redSqr(),
    S = y.redMul(b),
    O = n.redMul(y),
    P = v.redSqr().redIAdd(S).redISub(O).redISub(O),
    C = v.redMul(O.redISub(P)).redISub(f.redMul(S)),
    H = this.z.redMul(e.z).redMul(b);
  return this.curve.jpoint(P, C, H);
};
Cr.prototype.mixedAdd = function (e) {
  if (this.isInfinity()) return e.toJ();
  if (e.isInfinity()) return this;
  var t = this.z.redSqr(),
    i = this.x,
    n = e.x.redMul(t),
    a = this.y,
    f = e.y.redMul(t).redMul(this.z),
    h = i.redSub(n),
    b = a.redSub(f);
  if (h.cmpn(0) === 0)
    return b.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var v = h.redSqr(),
    y = v.redMul(h),
    S = i.redMul(v),
    O = b.redSqr().redIAdd(y).redISub(S).redISub(S),
    P = b.redMul(S.redISub(O)).redISub(a.redMul(y)),
    C = this.z.redMul(h);
  return this.curve.jpoint(O, P, C);
};
Cr.prototype.dblp = function (e) {
  if (e === 0) return this;
  if (this.isInfinity()) return this;
  if (!e) return this.dbl();
  var t;
  if (this.curve.zeroA || this.curve.threeA) {
    var i = this;
    for (t = 0; t < e; t++) i = i.dbl();
    return i;
  }
  var n = this.curve.a,
    a = this.curve.tinv,
    f = this.x,
    h = this.y,
    b = this.z,
    v = b.redSqr().redSqr(),
    y = h.redAdd(h);
  for (t = 0; t < e; t++) {
    var S = f.redSqr(),
      O = y.redSqr(),
      P = O.redSqr(),
      C = S.redAdd(S).redIAdd(S).redIAdd(n.redMul(v)),
      H = f.redMul(O),
      V = C.redSqr().redISub(H.redAdd(H)),
      Q = H.redISub(V),
      j = C.redMul(Q);
    j = j.redIAdd(j).redISub(P);
    var Y = y.redMul(b);
    t + 1 < e && (v = v.redMul(P)), (f = V), (b = Y), (y = j);
  }
  return this.curve.jpoint(f, y.redMul(a), b);
};
Cr.prototype.dbl = function () {
  return this.isInfinity()
    ? this
    : this.curve.zeroA
    ? this._zeroDbl()
    : this.curve.threeA
    ? this._threeDbl()
    : this._dbl();
};
Cr.prototype._zeroDbl = function () {
  var e, t, i;
  if (this.zOne) {
    var n = this.x.redSqr(),
      a = this.y.redSqr(),
      f = a.redSqr(),
      h = this.x.redAdd(a).redSqr().redISub(n).redISub(f);
    h = h.redIAdd(h);
    var b = n.redAdd(n).redIAdd(n),
      v = b.redSqr().redISub(h).redISub(h),
      y = f.redIAdd(f);
    (y = y.redIAdd(y)),
      (y = y.redIAdd(y)),
      (e = v),
      (t = b.redMul(h.redISub(v)).redISub(y)),
      (i = this.y.redAdd(this.y));
  } else {
    var S = this.x.redSqr(),
      O = this.y.redSqr(),
      P = O.redSqr(),
      C = this.x.redAdd(O).redSqr().redISub(S).redISub(P);
    C = C.redIAdd(C);
    var H = S.redAdd(S).redIAdd(S),
      V = H.redSqr(),
      Q = P.redIAdd(P);
    (Q = Q.redIAdd(Q)),
      (Q = Q.redIAdd(Q)),
      (e = V.redISub(C).redISub(C)),
      (t = H.redMul(C.redISub(e)).redISub(Q)),
      (i = this.y.redMul(this.z)),
      (i = i.redIAdd(i));
  }
  return this.curve.jpoint(e, t, i);
};
Cr.prototype._threeDbl = function () {
  var e, t, i;
  if (this.zOne) {
    var n = this.x.redSqr(),
      a = this.y.redSqr(),
      f = a.redSqr(),
      h = this.x.redAdd(a).redSqr().redISub(n).redISub(f);
    h = h.redIAdd(h);
    var b = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),
      v = b.redSqr().redISub(h).redISub(h);
    e = v;
    var y = f.redIAdd(f);
    (y = y.redIAdd(y)),
      (y = y.redIAdd(y)),
      (t = b.redMul(h.redISub(v)).redISub(y)),
      (i = this.y.redAdd(this.y));
  } else {
    var S = this.z.redSqr(),
      O = this.y.redSqr(),
      P = this.x.redMul(O),
      C = this.x.redSub(S).redMul(this.x.redAdd(S));
    C = C.redAdd(C).redIAdd(C);
    var H = P.redIAdd(P);
    H = H.redIAdd(H);
    var V = H.redAdd(H);
    (e = C.redSqr().redISub(V)),
      (i = this.y.redAdd(this.z).redSqr().redISub(O).redISub(S));
    var Q = O.redSqr();
    (Q = Q.redIAdd(Q)),
      (Q = Q.redIAdd(Q)),
      (Q = Q.redIAdd(Q)),
      (t = C.redMul(H.redISub(e)).redISub(Q));
  }
  return this.curve.jpoint(e, t, i);
};
Cr.prototype._dbl = function () {
  var e = this.curve.a,
    t = this.x,
    i = this.y,
    n = this.z,
    a = n.redSqr().redSqr(),
    f = t.redSqr(),
    h = i.redSqr(),
    b = f.redAdd(f).redIAdd(f).redIAdd(e.redMul(a)),
    v = t.redAdd(t);
  v = v.redIAdd(v);
  var y = v.redMul(h),
    S = b.redSqr().redISub(y.redAdd(y)),
    O = y.redISub(S),
    P = h.redSqr();
  (P = P.redIAdd(P)), (P = P.redIAdd(P)), (P = P.redIAdd(P));
  var C = b.redMul(O).redISub(P),
    H = i.redAdd(i).redMul(n);
  return this.curve.jpoint(S, C, H);
};
Cr.prototype.trpl = function () {
  if (!this.curve.zeroA) return this.dbl().add(this);
  var e = this.x.redSqr(),
    t = this.y.redSqr(),
    i = this.z.redSqr(),
    n = t.redSqr(),
    a = e.redAdd(e).redIAdd(e),
    f = a.redSqr(),
    h = this.x.redAdd(t).redSqr().redISub(e).redISub(n);
  (h = h.redIAdd(h)), (h = h.redAdd(h).redIAdd(h)), (h = h.redISub(f));
  var b = h.redSqr(),
    v = n.redIAdd(n);
  (v = v.redIAdd(v)), (v = v.redIAdd(v)), (v = v.redIAdd(v));
  var y = a.redIAdd(h).redSqr().redISub(f).redISub(b).redISub(v),
    S = t.redMul(y);
  (S = S.redIAdd(S)), (S = S.redIAdd(S));
  var O = this.x.redMul(b).redISub(S);
  (O = O.redIAdd(O)), (O = O.redIAdd(O));
  var P = this.y.redMul(y.redMul(v.redISub(y)).redISub(h.redMul(b)));
  (P = P.redIAdd(P)), (P = P.redIAdd(P)), (P = P.redIAdd(P));
  var C = this.z.redAdd(h).redSqr().redISub(i).redISub(b);
  return this.curve.jpoint(O, P, C);
};
Cr.prototype.mul = function (e, t) {
  return (e = new nr(e, t)), this.curve._wnafMul(this, e);
};
Cr.prototype.eq = function (e) {
  if (e.type === "affine") return this.eq(e.toJ());
  if (this === e) return !0;
  var t = this.z.redSqr(),
    i = e.z.redSqr();
  if (this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0) !== 0) return !1;
  var n = t.redMul(this.z),
    a = i.redMul(e.z);
  return this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0) === 0;
};
Cr.prototype.eqXToP = function (e) {
  var t = this.z.redSqr(),
    i = e.toRed(this.curve.red).redMul(t);
  if (this.x.cmp(i) === 0) return !0;
  for (var n = e.clone(), a = this.curve.redN.redMul(t); ; ) {
    if ((n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0)) return !1;
    if ((i.redIAdd(a), this.x.cmp(i) === 0)) return !0;
  }
};
Cr.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC JPoint Infinity>"
    : "<EC JPoint x: " +
        this.x.toString(16, 2) +
        " y: " +
        this.y.toString(16, 2) +
        " z: " +
        this.z.toString(16, 2) +
        ">";
};
Cr.prototype.isInfinity = function () {
  return this.z.cmpn(0) === 0;
};
var La = fs,
  Pv = Xl(),
  lu = hu,
  h7 = Ii;
function Ga(r) {
  lu.call(this, "mont", r),
    (this.a = new La(r.a, 16).toRed(this.red)),
    (this.b = new La(r.b, 16).toRed(this.red)),
    (this.i4 = new La(4).toRed(this.red).redInvm()),
    (this.two = new La(2).toRed(this.red)),
    (this.a24 = this.i4.redMul(this.a.redAdd(this.two)));
}
Pv(Ga, lu);
var l7 = Ga;
Ga.prototype.validate = function (e) {
  var t = e.normalize().x,
    i = t.redSqr(),
    n = i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),
    a = n.redSqrt();
  return a.redSqr().cmp(n) === 0;
};
function Mr(r, e, t) {
  lu.BasePoint.call(this, r, "projective"),
    e === null && t === null
      ? ((this.x = this.curve.one), (this.z = this.curve.zero))
      : ((this.x = new La(e, 16)),
        (this.z = new La(t, 16)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.z.red || (this.z = this.z.toRed(this.curve.red)));
}
Pv(Mr, lu.BasePoint);
Ga.prototype.decodePoint = function (e, t) {
  return this.point(h7.toArray(e, t), 1);
};
Ga.prototype.point = function (e, t) {
  return new Mr(this, e, t);
};
Ga.prototype.pointFromJSON = function (e) {
  return Mr.fromJSON(this, e);
};
Mr.prototype.precompute = function () {};
Mr.prototype._encode = function () {
  return this.getX().toArray("be", this.curve.p.byteLength());
};
Mr.fromJSON = function (e, t) {
  return new Mr(e, t[0], t[1] || e.one);
};
Mr.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC Point Infinity>"
    : "<EC Point x: " +
        this.x.fromRed().toString(16, 2) +
        " z: " +
        this.z.fromRed().toString(16, 2) +
        ">";
};
Mr.prototype.isInfinity = function () {
  return this.z.cmpn(0) === 0;
};
Mr.prototype.dbl = function () {
  var e = this.x.redAdd(this.z),
    t = e.redSqr(),
    i = this.x.redSub(this.z),
    n = i.redSqr(),
    a = t.redSub(n),
    f = t.redMul(n),
    h = a.redMul(n.redAdd(this.curve.a24.redMul(a)));
  return this.curve.point(f, h);
};
Mr.prototype.add = function () {
  throw new Error("Not supported on Montgomery curve");
};
Mr.prototype.diffAdd = function (e, t) {
  var i = this.x.redAdd(this.z),
    n = this.x.redSub(this.z),
    a = e.x.redAdd(e.z),
    f = e.x.redSub(e.z),
    h = f.redMul(i),
    b = a.redMul(n),
    v = t.z.redMul(h.redAdd(b).redSqr()),
    y = t.x.redMul(h.redISub(b).redSqr());
  return this.curve.point(v, y);
};
Mr.prototype.mul = function (e) {
  for (
    var t = e.clone(),
      i = this,
      n = this.curve.point(null, null),
      a = this,
      f = [];
    t.cmpn(0) !== 0;
    t.iushrn(1)
  )
    f.push(t.andln(1));
  for (var h = f.length - 1; h >= 0; h--)
    f[h] === 0
      ? ((i = i.diffAdd(n, a)), (n = n.dbl()))
      : ((n = i.diffAdd(n, a)), (i = i.dbl()));
  return n;
};
Mr.prototype.mulAdd = function () {
  throw new Error("Not supported on Montgomery curve");
};
Mr.prototype.jumlAdd = function () {
  throw new Error("Not supported on Montgomery curve");
};
Mr.prototype.eq = function (e) {
  return this.getX().cmp(e.getX()) === 0;
};
Mr.prototype.normalize = function () {
  return (
    (this.x = this.x.redMul(this.z.redInvm())), (this.z = this.curve.one), this
  );
};
Mr.prototype.getX = function () {
  return this.normalize(), this.x.fromRed();
};
var d7 = Ii,
  as = fs,
  Ov = Xl(),
  du = hu,
  p7 = d7.assert;
function $n(r) {
  (this.twisted = (r.a | 0) !== 1),
    (this.mOneA = this.twisted && (r.a | 0) === -1),
    (this.extended = this.mOneA),
    du.call(this, "edwards", r),
    (this.a = new as(r.a, 16).umod(this.red.m)),
    (this.a = this.a.toRed(this.red)),
    (this.c = new as(r.c, 16).toRed(this.red)),
    (this.c2 = this.c.redSqr()),
    (this.d = new as(r.d, 16).toRed(this.red)),
    (this.dd = this.d.redAdd(this.d)),
    p7(!this.twisted || this.c.fromRed().cmpn(1) === 0),
    (this.oneC = (r.c | 0) === 1);
}
Ov($n, du);
var g7 = $n;
$n.prototype._mulA = function (e) {
  return this.mOneA ? e.redNeg() : this.a.redMul(e);
};
$n.prototype._mulC = function (e) {
  return this.oneC ? e : this.c.redMul(e);
};
$n.prototype.jpoint = function (e, t, i, n) {
  return this.point(e, t, i, n);
};
$n.prototype.pointFromX = function (e, t) {
  (e = new as(e, 16)), e.red || (e = e.toRed(this.red));
  var i = e.redSqr(),
    n = this.c2.redSub(this.a.redMul(i)),
    a = this.one.redSub(this.c2.redMul(this.d).redMul(i)),
    f = n.redMul(a.redInvm()),
    h = f.redSqrt();
  if (h.redSqr().redSub(f).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var b = h.fromRed().isOdd();
  return ((t && !b) || (!t && b)) && (h = h.redNeg()), this.point(e, h);
};
$n.prototype.pointFromY = function (e, t) {
  (e = new as(e, 16)), e.red || (e = e.toRed(this.red));
  var i = e.redSqr(),
    n = i.redSub(this.c2),
    a = i.redMul(this.d).redMul(this.c2).redSub(this.a),
    f = n.redMul(a.redInvm());
  if (f.cmp(this.zero) === 0) {
    if (t) throw new Error("invalid point");
    return this.point(this.zero, e);
  }
  var h = f.redSqrt();
  if (h.redSqr().redSub(f).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  return h.fromRed().isOdd() !== t && (h = h.redNeg()), this.point(h, e);
};
$n.prototype.validate = function (e) {
  if (e.isInfinity()) return !0;
  e.normalize();
  var t = e.x.redSqr(),
    i = e.y.redSqr(),
    n = t.redMul(this.a).redAdd(i),
    a = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));
  return n.cmp(a) === 0;
};
function Wt(r, e, t, i, n) {
  du.BasePoint.call(this, r, "projective"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.zero),
        (this.y = this.curve.one),
        (this.z = this.curve.one),
        (this.t = this.curve.zero),
        (this.zOne = !0))
      : ((this.x = new as(e, 16)),
        (this.y = new as(t, 16)),
        (this.z = i ? new as(i, 16) : this.curve.one),
        (this.t = n && new as(n, 16)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        this.z.red || (this.z = this.z.toRed(this.curve.red)),
        this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)),
        (this.zOne = this.z === this.curve.one),
        this.curve.extended &&
          !this.t &&
          ((this.t = this.x.redMul(this.y)),
          this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
}
Ov(Wt, du.BasePoint);
$n.prototype.pointFromJSON = function (e) {
  return Wt.fromJSON(this, e);
};
$n.prototype.point = function (e, t, i, n) {
  return new Wt(this, e, t, i, n);
};
Wt.fromJSON = function (e, t) {
  return new Wt(e, t[0], t[1], t[2]);
};
Wt.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC Point Infinity>"
    : "<EC Point x: " +
        this.x.fromRed().toString(16, 2) +
        " y: " +
        this.y.fromRed().toString(16, 2) +
        " z: " +
        this.z.fromRed().toString(16, 2) +
        ">";
};
Wt.prototype.isInfinity = function () {
  return (
    this.x.cmpn(0) === 0 &&
    (this.y.cmp(this.z) === 0 || (this.zOne && this.y.cmp(this.curve.c) === 0))
  );
};
Wt.prototype._extDbl = function () {
  var e = this.x.redSqr(),
    t = this.y.redSqr(),
    i = this.z.redSqr();
  i = i.redIAdd(i);
  var n = this.curve._mulA(e),
    a = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),
    f = n.redAdd(t),
    h = f.redSub(i),
    b = n.redSub(t),
    v = a.redMul(h),
    y = f.redMul(b),
    S = a.redMul(b),
    O = h.redMul(f);
  return this.curve.point(v, y, O, S);
};
Wt.prototype._projDbl = function () {
  var e = this.x.redAdd(this.y).redSqr(),
    t = this.x.redSqr(),
    i = this.y.redSqr(),
    n,
    a,
    f,
    h,
    b,
    v;
  if (this.curve.twisted) {
    h = this.curve._mulA(t);
    var y = h.redAdd(i);
    this.zOne
      ? ((n = e.redSub(t).redSub(i).redMul(y.redSub(this.curve.two))),
        (a = y.redMul(h.redSub(i))),
        (f = y.redSqr().redSub(y).redSub(y)))
      : ((b = this.z.redSqr()),
        (v = y.redSub(b).redISub(b)),
        (n = e.redSub(t).redISub(i).redMul(v)),
        (a = y.redMul(h.redSub(i))),
        (f = y.redMul(v)));
  } else
    (h = t.redAdd(i)),
      (b = this.curve._mulC(this.z).redSqr()),
      (v = h.redSub(b).redSub(b)),
      (n = this.curve._mulC(e.redISub(h)).redMul(v)),
      (a = this.curve._mulC(h).redMul(t.redISub(i))),
      (f = h.redMul(v));
  return this.curve.point(n, a, f);
};
Wt.prototype.dbl = function () {
  return this.isInfinity()
    ? this
    : this.curve.extended
    ? this._extDbl()
    : this._projDbl();
};
Wt.prototype._extAdd = function (e) {
  var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x)),
    i = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),
    n = this.t.redMul(this.curve.dd).redMul(e.t),
    a = this.z.redMul(e.z.redAdd(e.z)),
    f = i.redSub(t),
    h = a.redSub(n),
    b = a.redAdd(n),
    v = i.redAdd(t),
    y = f.redMul(h),
    S = b.redMul(v),
    O = f.redMul(v),
    P = h.redMul(b);
  return this.curve.point(y, S, P, O);
};
Wt.prototype._projAdd = function (e) {
  var t = this.z.redMul(e.z),
    i = t.redSqr(),
    n = this.x.redMul(e.x),
    a = this.y.redMul(e.y),
    f = this.curve.d.redMul(n).redMul(a),
    h = i.redSub(f),
    b = i.redAdd(f),
    v = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(a),
    y = t.redMul(h).redMul(v),
    S,
    O;
  return (
    this.curve.twisted
      ? ((S = t.redMul(b).redMul(a.redSub(this.curve._mulA(n)))),
        (O = h.redMul(b)))
      : ((S = t.redMul(b).redMul(a.redSub(n))),
        (O = this.curve._mulC(h).redMul(b))),
    this.curve.point(y, S, O)
  );
};
Wt.prototype.add = function (e) {
  return this.isInfinity()
    ? e
    : e.isInfinity()
    ? this
    : this.curve.extended
    ? this._extAdd(e)
    : this._projAdd(e);
};
Wt.prototype.mul = function (e) {
  return this._hasDoubles(e)
    ? this.curve._fixedNafMul(this, e)
    : this.curve._wnafMul(this, e);
};
Wt.prototype.mulAdd = function (e, t, i) {
  return this.curve._wnafMulAdd(1, [this, t], [e, i], 2, !1);
};
Wt.prototype.jmulAdd = function (e, t, i) {
  return this.curve._wnafMulAdd(1, [this, t], [e, i], 2, !0);
};
Wt.prototype.normalize = function () {
  if (this.zOne) return this;
  var e = this.z.redInvm();
  return (
    (this.x = this.x.redMul(e)),
    (this.y = this.y.redMul(e)),
    this.t && (this.t = this.t.redMul(e)),
    (this.z = this.curve.one),
    (this.zOne = !0),
    this
  );
};
Wt.prototype.neg = function () {
  return this.curve.point(
    this.x.redNeg(),
    this.y,
    this.z,
    this.t && this.t.redNeg()
  );
};
Wt.prototype.getX = function () {
  return this.normalize(), this.x.fromRed();
};
Wt.prototype.getY = function () {
  return this.normalize(), this.y.fromRed();
};
Wt.prototype.eq = function (e) {
  return (
    this === e ||
    (this.getX().cmp(e.getX()) === 0 && this.getY().cmp(e.getY()) === 0)
  );
};
Wt.prototype.eqXToP = function (e) {
  var t = e.toRed(this.curve.red).redMul(this.z);
  if (this.x.cmp(t) === 0) return !0;
  for (var i = e.clone(), n = this.curve.redN.redMul(this.z); ; ) {
    if ((i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)) return !1;
    if ((t.redIAdd(n), this.x.cmp(t) === 0)) return !0;
  }
};
Wt.prototype.toP = Wt.prototype.normalize;
Wt.prototype.mixedAdd = Wt.prototype.add;
(function (r) {
  var e = r;
  (e.base = hu), (e.short = u7), (e.mont = l7), (e.edwards = g7);
})(od);
var pu = {},
  kh,
  Jp;
function v7() {
  return (
    Jp ||
      ((Jp = 1),
      (kh = {
        doubles: {
          step: 4,
          points: [
            [
              "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a",
              "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821",
            ],
            [
              "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508",
              "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf",
            ],
            [
              "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739",
              "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695",
            ],
            [
              "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640",
              "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9",
            ],
            [
              "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c",
              "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36",
            ],
            [
              "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda",
              "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f",
            ],
            [
              "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa",
              "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999",
            ],
            [
              "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0",
              "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09",
            ],
            [
              "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d",
              "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d",
            ],
            [
              "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d",
              "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088",
            ],
            [
              "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1",
              "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d",
            ],
            [
              "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0",
              "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8",
            ],
            [
              "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047",
              "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a",
            ],
            [
              "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862",
              "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453",
            ],
            [
              "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7",
              "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160",
            ],
            [
              "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd",
              "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0",
            ],
            [
              "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83",
              "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6",
            ],
            [
              "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a",
              "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589",
            ],
            [
              "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8",
              "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17",
            ],
            [
              "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d",
              "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda",
            ],
            [
              "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725",
              "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd",
            ],
            [
              "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754",
              "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2",
            ],
            [
              "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c",
              "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6",
            ],
            [
              "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6",
              "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f",
            ],
            [
              "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39",
              "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01",
            ],
            [
              "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891",
              "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3",
            ],
            [
              "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b",
              "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f",
            ],
            [
              "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03",
              "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7",
            ],
            [
              "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d",
              "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78",
            ],
            [
              "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070",
              "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1",
            ],
            [
              "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4",
              "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150",
            ],
            [
              "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da",
              "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82",
            ],
            [
              "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11",
              "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc",
            ],
            [
              "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e",
              "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b",
            ],
            [
              "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41",
              "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51",
            ],
            [
              "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef",
              "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45",
            ],
            [
              "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8",
              "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120",
            ],
            [
              "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d",
              "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84",
            ],
            [
              "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96",
              "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d",
            ],
            [
              "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd",
              "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d",
            ],
            [
              "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5",
              "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8",
            ],
            [
              "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266",
              "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8",
            ],
            [
              "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71",
              "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac",
            ],
            [
              "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac",
              "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f",
            ],
            [
              "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751",
              "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962",
            ],
            [
              "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e",
              "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907",
            ],
            [
              "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241",
              "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec",
            ],
            [
              "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3",
              "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d",
            ],
            [
              "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f",
              "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414",
            ],
            [
              "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19",
              "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd",
            ],
            [
              "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be",
              "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0",
            ],
            [
              "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9",
              "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811",
            ],
            [
              "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2",
              "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1",
            ],
            [
              "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13",
              "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c",
            ],
            [
              "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c",
              "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73",
            ],
            [
              "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba",
              "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd",
            ],
            [
              "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151",
              "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405",
            ],
            [
              "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073",
              "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589",
            ],
            [
              "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458",
              "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e",
            ],
            [
              "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b",
              "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27",
            ],
            [
              "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366",
              "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1",
            ],
            [
              "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa",
              "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482",
            ],
            [
              "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0",
              "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945",
            ],
            [
              "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787",
              "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573",
            ],
            [
              "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e",
              "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82",
            ],
          ],
        },
        naf: {
          wnd: 7,
          points: [
            [
              "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
              "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672",
            ],
            [
              "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4",
              "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6",
            ],
            [
              "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc",
              "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da",
            ],
            [
              "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe",
              "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37",
            ],
            [
              "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb",
              "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b",
            ],
            [
              "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8",
              "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81",
            ],
            [
              "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e",
              "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58",
            ],
            [
              "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34",
              "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77",
            ],
            [
              "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c",
              "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a",
            ],
            [
              "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5",
              "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c",
            ],
            [
              "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f",
              "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67",
            ],
            [
              "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714",
              "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402",
            ],
            [
              "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729",
              "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55",
            ],
            [
              "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db",
              "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482",
            ],
            [
              "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4",
              "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82",
            ],
            [
              "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5",
              "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396",
            ],
            [
              "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479",
              "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49",
            ],
            [
              "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d",
              "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf",
            ],
            [
              "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f",
              "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a",
            ],
            [
              "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb",
              "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7",
            ],
            [
              "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9",
              "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933",
            ],
            [
              "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963",
              "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a",
            ],
            [
              "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74",
              "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6",
            ],
            [
              "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530",
              "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37",
            ],
            [
              "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b",
              "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e",
            ],
            [
              "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247",
              "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6",
            ],
            [
              "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1",
              "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476",
            ],
            [
              "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120",
              "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40",
            ],
            [
              "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435",
              "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61",
            ],
            [
              "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18",
              "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683",
            ],
            [
              "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8",
              "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5",
            ],
            [
              "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb",
              "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b",
            ],
            [
              "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f",
              "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417",
            ],
            [
              "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143",
              "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868",
            ],
            [
              "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba",
              "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a",
            ],
            [
              "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45",
              "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6",
            ],
            [
              "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a",
              "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996",
            ],
            [
              "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e",
              "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e",
            ],
            [
              "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8",
              "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d",
            ],
            [
              "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c",
              "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2",
            ],
            [
              "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519",
              "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e",
            ],
            [
              "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab",
              "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437",
            ],
            [
              "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca",
              "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311",
            ],
            [
              "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf",
              "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4",
            ],
            [
              "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610",
              "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575",
            ],
            [
              "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4",
              "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d",
            ],
            [
              "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c",
              "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d",
            ],
            [
              "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940",
              "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629",
            ],
            [
              "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980",
              "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06",
            ],
            [
              "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3",
              "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374",
            ],
            [
              "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf",
              "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee",
            ],
            [
              "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63",
              "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1",
            ],
            [
              "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448",
              "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b",
            ],
            [
              "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf",
              "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661",
            ],
            [
              "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5",
              "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6",
            ],
            [
              "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6",
              "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e",
            ],
            [
              "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5",
              "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d",
            ],
            [
              "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99",
              "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc",
            ],
            [
              "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51",
              "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4",
            ],
            [
              "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5",
              "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c",
            ],
            [
              "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5",
              "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b",
            ],
            [
              "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997",
              "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913",
            ],
            [
              "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881",
              "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154",
            ],
            [
              "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5",
              "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865",
            ],
            [
              "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66",
              "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc",
            ],
            [
              "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726",
              "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224",
            ],
            [
              "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede",
              "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e",
            ],
            [
              "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94",
              "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6",
            ],
            [
              "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31",
              "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511",
            ],
            [
              "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51",
              "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b",
            ],
            [
              "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252",
              "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2",
            ],
            [
              "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5",
              "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c",
            ],
            [
              "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b",
              "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3",
            ],
            [
              "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4",
              "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d",
            ],
            [
              "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f",
              "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700",
            ],
            [
              "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889",
              "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4",
            ],
            [
              "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246",
              "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196",
            ],
            [
              "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984",
              "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4",
            ],
            [
              "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a",
              "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257",
            ],
            [
              "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030",
              "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13",
            ],
            [
              "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197",
              "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096",
            ],
            [
              "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593",
              "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38",
            ],
            [
              "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef",
              "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f",
            ],
            [
              "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38",
              "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448",
            ],
            [
              "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a",
              "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a",
            ],
            [
              "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111",
              "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4",
            ],
            [
              "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502",
              "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437",
            ],
            [
              "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea",
              "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7",
            ],
            [
              "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26",
              "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d",
            ],
            [
              "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986",
              "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a",
            ],
            [
              "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e",
              "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54",
            ],
            [
              "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4",
              "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77",
            ],
            [
              "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda",
              "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517",
            ],
            [
              "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859",
              "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10",
            ],
            [
              "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f",
              "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125",
            ],
            [
              "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c",
              "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e",
            ],
            [
              "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942",
              "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1",
            ],
            [
              "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a",
              "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2",
            ],
            [
              "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80",
              "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423",
            ],
            [
              "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d",
              "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8",
            ],
            [
              "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1",
              "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758",
            ],
            [
              "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63",
              "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375",
            ],
            [
              "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352",
              "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d",
            ],
            [
              "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193",
              "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec",
            ],
            [
              "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00",
              "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0",
            ],
            [
              "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58",
              "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c",
            ],
            [
              "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7",
              "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4",
            ],
            [
              "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8",
              "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f",
            ],
            [
              "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e",
              "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649",
            ],
            [
              "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d",
              "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826",
            ],
            [
              "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b",
              "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5",
            ],
            [
              "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f",
              "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87",
            ],
            [
              "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6",
              "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b",
            ],
            [
              "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297",
              "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc",
            ],
            [
              "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a",
              "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c",
            ],
            [
              "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c",
              "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f",
            ],
            [
              "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52",
              "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a",
            ],
            [
              "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb",
              "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46",
            ],
            [
              "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065",
              "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f",
            ],
            [
              "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917",
              "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03",
            ],
            [
              "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9",
              "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08",
            ],
            [
              "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3",
              "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8",
            ],
            [
              "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57",
              "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373",
            ],
            [
              "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66",
              "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3",
            ],
            [
              "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8",
              "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8",
            ],
            [
              "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721",
              "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1",
            ],
            [
              "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180",
              "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9",
            ],
          ],
        },
      })),
    kh
  );
}
(function (r) {
  var e = r,
    t = sv,
    i = od,
    n = Ii,
    a = n.assert;
  function f(v) {
    v.type === "short"
      ? (this.curve = new i.short(v))
      : v.type === "edwards"
      ? (this.curve = new i.edwards(v))
      : (this.curve = new i.mont(v)),
      (this.g = this.curve.g),
      (this.n = this.curve.n),
      (this.hash = v.hash),
      a(this.g.validate(), "Invalid curve"),
      a(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  e.PresetCurve = f;
  function h(v, y) {
    Object.defineProperty(e, v, {
      configurable: !0,
      enumerable: !0,
      get: function () {
        var S = new f(y);
        return (
          Object.defineProperty(e, v, {
            configurable: !0,
            enumerable: !0,
            value: S,
          }),
          S
        );
      },
    });
  }
  h("p192", {
    type: "short",
    prime: "p192",
    p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
    b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
    n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
    hash: t.sha256,
    gRed: !1,
    g: [
      "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
      "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
    ],
  }),
    h("p224", {
      type: "short",
      prime: "p224",
      p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
      b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
      n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
      hash: t.sha256,
      gRed: !1,
      g: [
        "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
        "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
      ],
    }),
    h("p256", {
      type: "short",
      prime: null,
      p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
      a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
      b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
      n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
      hash: t.sha256,
      gRed: !1,
      g: [
        "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
        "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
      ],
    }),
    h("p384", {
      type: "short",
      prime: null,
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
      a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
      b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
      n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
      hash: t.sha384,
      gRed: !1,
      g: [
        "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
        "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
      ],
    }),
    h("p521", {
      type: "short",
      prime: null,
      p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
      a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
      b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
      n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
      hash: t.sha512,
      gRed: !1,
      g: [
        "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
        "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
      ],
    }),
    h("curve25519", {
      type: "mont",
      prime: "p25519",
      p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      a: "76d06",
      b: "1",
      n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
      hash: t.sha256,
      gRed: !1,
      g: ["9"],
    }),
    h("ed25519", {
      type: "edwards",
      prime: "p25519",
      p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      a: "-1",
      c: "1",
      d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
      n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
      hash: t.sha256,
      gRed: !1,
      g: [
        "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
        "6666666666666666666666666666666666666666666666666666666666666658",
      ],
    });
  var b;
  try {
    b = v7();
  } catch {
    b = void 0;
  }
  h("secp256k1", {
    type: "short",
    prime: "k256",
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
    a: "0",
    b: "7",
    n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
    h: "1",
    hash: t.sha256,
    beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
    lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
    basis: [
      {
        a: "3086d221a7d46bcde86c90e49284eb15",
        b: "-e4437ed6010e88286f547fa90abfe4c3",
      },
      {
        a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
        b: "3086d221a7d46bcde86c90e49284eb15",
      },
    ],
    gRed: !1,
    g: [
      "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
      "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
      b,
    ],
  });
})(pu);
var b7 = fs,
  m7 = Ii,
  Rl = m7.assert;
function zr(r, e) {
  (this.ec = r),
    (this.priv = null),
    (this.pub = null),
    e.priv && this._importPrivate(e.priv, e.privEnc),
    e.pub && this._importPublic(e.pub, e.pubEnc);
}
var y7 = zr;
zr.fromPublic = function (e, t, i) {
  return t instanceof zr ? t : new zr(e, { pub: t, pubEnc: i });
};
zr.fromPrivate = function (e, t, i) {
  return t instanceof zr ? t : new zr(e, { priv: t, privEnc: i });
};
zr.prototype.validate = function () {
  var e = this.getPublic();
  return e.isInfinity()
    ? { result: !1, reason: "Invalid public key" }
    : e.validate()
    ? e.mul(this.ec.curve.n).isInfinity()
      ? { result: !0, reason: null }
      : { result: !1, reason: "Public key * N != O" }
    : { result: !1, reason: "Public key is not a point" };
};
zr.prototype.getPublic = function (e, t) {
  return (
    typeof e == "string" && ((t = e), (e = null)),
    this.pub || (this.pub = this.ec.g.mul(this.priv)),
    t ? this.pub.encode(t, e) : this.pub
  );
};
zr.prototype.getPrivate = function (e) {
  return e === "hex" ? this.priv.toString(16, 2) : this.priv;
};
zr.prototype._importPrivate = function (e, t) {
  (this.priv = new b7(e, t || 16)),
    (this.priv = this.priv.umod(this.ec.curve.n));
};
zr.prototype._importPublic = function (e, t) {
  if (e.x || e.y) {
    this.ec.curve.type === "mont"
      ? Rl(e.x, "Need x coordinate")
      : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") &&
        Rl(e.x && e.y, "Need both x and y coordinate"),
      (this.pub = this.ec.curve.point(e.x, e.y));
    return;
  }
  this.pub = this.ec.curve.decodePoint(e, t);
};
zr.prototype.derive = function (e) {
  return (
    e.validate() || Rl(e.validate(), "public point not validated"),
    e.mul(this.priv).getX()
  );
};
zr.prototype.sign = function (e, t, i) {
  return this.ec.sign(e, this, t, i);
};
zr.prototype.verify = function (e, t, i) {
  return this.ec.verify(e, t, this, void 0, i);
};
zr.prototype.inspect = function () {
  return (
    "<Key priv: " +
    (this.priv && this.priv.toString(16, 2)) +
    " pub: " +
    (this.pub && this.pub.inspect()) +
    " >"
  );
};
var zf = fs,
  fd = Ii,
  w7 = fd.assert;
function gu(r, e) {
  if (r instanceof gu) return r;
  this._importDER(r, e) ||
    (w7(r.r && r.s, "Signature without r or s"),
    (this.r = new zf(r.r, 16)),
    (this.s = new zf(r.s, 16)),
    r.recoveryParam === void 0
      ? (this.recoveryParam = null)
      : (this.recoveryParam = r.recoveryParam));
}
var _7 = gu;
function A7() {
  this.place = 0;
}
function Hh(r, e) {
  var t = r[e.place++];
  if (!(t & 128)) return t;
  var i = t & 15;
  if (i === 0 || i > 4 || r[e.place] === 0) return !1;
  for (var n = 0, a = 0, f = e.place; a < i; a++, f++)
    (n <<= 8), (n |= r[f]), (n >>>= 0);
  return n <= 127 ? !1 : ((e.place = f), n);
}
function Yp(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; ) e++;
  return e === 0 ? r : r.slice(e);
}
gu.prototype._importDER = function (e, t) {
  e = fd.toArray(e, t);
  var i = new A7();
  if (e[i.place++] !== 48) return !1;
  var n = Hh(e, i);
  if (n === !1 || n + i.place !== e.length || e[i.place++] !== 2) return !1;
  var a = Hh(e, i);
  if (a === !1 || e[i.place] & 128) return !1;
  var f = e.slice(i.place, a + i.place);
  if (((i.place += a), e[i.place++] !== 2)) return !1;
  var h = Hh(e, i);
  if (h === !1 || e.length !== h + i.place || e[i.place] & 128) return !1;
  var b = e.slice(i.place, h + i.place);
  if (f[0] === 0)
    if (f[1] & 128) f = f.slice(1);
    else return !1;
  if (b[0] === 0)
    if (b[1] & 128) b = b.slice(1);
    else return !1;
  return (
    (this.r = new zf(f)), (this.s = new zf(b)), (this.recoveryParam = null), !0
  );
};
function Kh(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + ((Math.log(e) / Math.LN2) >>> 3);
  for (r.push(t | 128); --t; ) r.push((e >>> (t << 3)) & 255);
  r.push(e);
}
gu.prototype.toDER = function (e) {
  var t = this.r.toArray(),
    i = this.s.toArray();
  for (
    t[0] & 128 && (t = [0].concat(t)),
      i[0] & 128 && (i = [0].concat(i)),
      t = Yp(t),
      i = Yp(i);
    !i[0] && !(i[1] & 128);

  )
    i = i.slice(1);
  var n = [2];
  Kh(n, t.length), (n = n.concat(t)), n.push(2), Kh(n, i.length);
  var a = n.concat(i),
    f = [48];
  return Kh(f, a.length), (f = f.concat(a)), fd.encode(f, e);
};
var gn = fs,
  Cv = i8,
  E7 = Ii,
  Vh = pu,
  S7 = av(),
  Qs = E7.assert,
  ud = y7,
  vu = _7;
function Vi(r) {
  if (!(this instanceof Vi)) return new Vi(r);
  typeof r == "string" &&
    (Qs(Object.prototype.hasOwnProperty.call(Vh, r), "Unknown curve " + r),
    (r = Vh[r])),
    r instanceof Vh.PresetCurve && (r = { curve: r }),
    (this.curve = r.curve.curve),
    (this.n = this.curve.n),
    (this.nh = this.n.ushrn(1)),
    (this.g = this.curve.g),
    (this.g = r.curve.g),
    this.g.precompute(r.curve.n.bitLength() + 1),
    (this.hash = r.hash || r.curve.hash);
}
var M7 = Vi;
Vi.prototype.keyPair = function (e) {
  return new ud(this, e);
};
Vi.prototype.keyFromPrivate = function (e, t) {
  return ud.fromPrivate(this, e, t);
};
Vi.prototype.keyFromPublic = function (e, t) {
  return ud.fromPublic(this, e, t);
};
Vi.prototype.genKeyPair = function (e) {
  e || (e = {});
  for (
    var t = new Cv({
        hash: this.hash,
        pers: e.pers,
        persEnc: e.persEnc || "utf8",
        entropy: e.entropy || S7(this.hash.hmacStrength),
        entropyEnc: (e.entropy && e.entropyEnc) || "utf8",
        nonce: this.n.toArray(),
      }),
      i = this.n.byteLength(),
      n = this.n.sub(new gn(2));
    ;

  ) {
    var a = new gn(t.generate(i));
    if (!(a.cmp(n) > 0)) return a.iaddn(1), this.keyFromPrivate(a);
  }
};
Vi.prototype._truncateToN = function (e, t, i) {
  var n;
  if (gn.isBN(e) || typeof e == "number")
    (e = new gn(e, 16)), (n = e.byteLength());
  else if (typeof e == "object") (n = e.length), (e = new gn(e, 16));
  else {
    var a = e.toString();
    (n = (a.length + 1) >>> 1), (e = new gn(a, 16));
  }
  typeof i != "number" && (i = n * 8);
  var f = i - this.n.bitLength();
  return (
    f > 0 && (e = e.ushrn(f)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e
  );
};
Vi.prototype.sign = function (e, t, i, n) {
  if (
    (typeof i == "object" && ((n = i), (i = null)),
    n || (n = {}),
    typeof e != "string" && typeof e != "number" && !gn.isBN(e))
  ) {
    Qs(
      typeof e == "object" && e && typeof e.length == "number",
      "Expected message to be an array-like, a hex string, or a BN instance"
    ),
      Qs(e.length >>> 0 === e.length);
    for (var a = 0; a < e.length; a++) Qs((e[a] & 255) === e[a]);
  }
  (t = this.keyFromPrivate(t, i)),
    (e = this._truncateToN(e, !1, n.msgBitLength)),
    Qs(!e.isNeg(), "Can not sign a negative message");
  var f = this.n.byteLength(),
    h = t.getPrivate().toArray("be", f),
    b = e.toArray("be", f);
  Qs(new gn(b).eq(e), "Can not sign message");
  for (
    var v = new Cv({
        hash: this.hash,
        entropy: h,
        nonce: b,
        pers: n.pers,
        persEnc: n.persEnc || "utf8",
      }),
      y = this.n.sub(new gn(1)),
      S = 0;
    ;
    S++
  ) {
    var O = n.k ? n.k(S) : new gn(v.generate(this.n.byteLength()));
    if (((O = this._truncateToN(O, !0)), !(O.cmpn(1) <= 0 || O.cmp(y) >= 0))) {
      var P = this.g.mul(O);
      if (!P.isInfinity()) {
        var C = P.getX(),
          H = C.umod(this.n);
        if (H.cmpn(0) !== 0) {
          var V = O.invm(this.n).mul(H.mul(t.getPrivate()).iadd(e));
          if (((V = V.umod(this.n)), V.cmpn(0) !== 0)) {
            var Q = (P.getY().isOdd() ? 1 : 0) | (C.cmp(H) !== 0 ? 2 : 0);
            return (
              n.canonical &&
                V.cmp(this.nh) > 0 &&
                ((V = this.n.sub(V)), (Q ^= 1)),
              new vu({ r: H, s: V, recoveryParam: Q })
            );
          }
        }
      }
    }
  }
};
Vi.prototype.verify = function (e, t, i, n, a) {
  a || (a = {}),
    (e = this._truncateToN(e, !1, a.msgBitLength)),
    (i = this.keyFromPublic(i, n)),
    (t = new vu(t, "hex"));
  var f = t.r,
    h = t.s;
  if (
    f.cmpn(1) < 0 ||
    f.cmp(this.n) >= 0 ||
    h.cmpn(1) < 0 ||
    h.cmp(this.n) >= 0
  )
    return !1;
  var b = h.invm(this.n),
    v = b.mul(e).umod(this.n),
    y = b.mul(f).umod(this.n),
    S;
  return this.curve._maxwellTrick
    ? ((S = this.g.jmulAdd(v, i.getPublic(), y)),
      S.isInfinity() ? !1 : S.eqXToP(f))
    : ((S = this.g.mulAdd(v, i.getPublic(), y)),
      S.isInfinity() ? !1 : S.getX().umod(this.n).cmp(f) === 0);
};
Vi.prototype.recoverPubKey = function (r, e, t, i) {
  Qs((3 & t) === t, "The recovery param is more than two bits"),
    (e = new vu(e, i));
  var n = this.n,
    a = new gn(r),
    f = e.r,
    h = e.s,
    b = t & 1,
    v = t >> 1;
  if (f.cmp(this.curve.p.umod(this.curve.n)) >= 0 && v)
    throw new Error("Unable to find sencond key candinate");
  v
    ? (f = this.curve.pointFromX(f.add(this.curve.n), b))
    : (f = this.curve.pointFromX(f, b));
  var y = e.r.invm(n),
    S = n.sub(a).mul(y).umod(n),
    O = h.mul(y).umod(n);
  return this.g.mulAdd(S, f, O);
};
Vi.prototype.getKeyRecoveryParam = function (r, e, t, i) {
  if (((e = new vu(e, i)), e.recoveryParam !== null)) return e.recoveryParam;
  for (var n = 0; n < 4; n++) {
    var a;
    try {
      a = this.recoverPubKey(r, e, n);
    } catch {
      continue;
    }
    if (a.eq(t)) return n;
  }
  throw new Error("Unable to find valid recovery factor");
};
var nc = Ii,
  Rv = nc.assert,
  Qp = nc.parseBytes,
  Wa = nc.cachedProperty;
function Sr(r, e) {
  (this.eddsa = r),
    (this._secret = Qp(e.secret)),
    r.isPoint(e.pub) ? (this._pub = e.pub) : (this._pubBytes = Qp(e.pub));
}
Sr.fromPublic = function (e, t) {
  return t instanceof Sr ? t : new Sr(e, { pub: t });
};
Sr.fromSecret = function (e, t) {
  return t instanceof Sr ? t : new Sr(e, { secret: t });
};
Sr.prototype.secret = function () {
  return this._secret;
};
Wa(Sr, "pubBytes", function () {
  return this.eddsa.encodePoint(this.pub());
});
Wa(Sr, "pub", function () {
  return this._pubBytes
    ? this.eddsa.decodePoint(this._pubBytes)
    : this.eddsa.g.mul(this.priv());
});
Wa(Sr, "privBytes", function () {
  var e = this.eddsa,
    t = this.hash(),
    i = e.encodingLength - 1,
    n = t.slice(0, e.encodingLength);
  return (n[0] &= 248), (n[i] &= 127), (n[i] |= 64), n;
});
Wa(Sr, "priv", function () {
  return this.eddsa.decodeInt(this.privBytes());
});
Wa(Sr, "hash", function () {
  return this.eddsa.hash().update(this.secret()).digest();
});
Wa(Sr, "messagePrefix", function () {
  return this.hash().slice(this.eddsa.encodingLength);
});
Sr.prototype.sign = function (e) {
  return Rv(this._secret, "KeyPair can only verify"), this.eddsa.sign(e, this);
};
Sr.prototype.verify = function (e, t) {
  return this.eddsa.verify(e, t, this);
};
Sr.prototype.getSecret = function (e) {
  return (
    Rv(this._secret, "KeyPair is public only"), nc.encode(this.secret(), e)
  );
};
Sr.prototype.getPublic = function (e) {
  return nc.encode(this.pubBytes(), e);
};
var I7 = Sr,
  x7 = fs,
  bu = Ii,
  Xp = bu.assert,
  mu = bu.cachedProperty,
  D7 = bu.parseBytes;
function aa(r, e) {
  (this.eddsa = r),
    typeof e != "object" && (e = D7(e)),
    Array.isArray(e) &&
      (Xp(e.length === r.encodingLength * 2, "Signature has invalid size"),
      (e = { R: e.slice(0, r.encodingLength), S: e.slice(r.encodingLength) })),
    Xp(e.R && e.S, "Signature without R or S"),
    r.isPoint(e.R) && (this._R = e.R),
    e.S instanceof x7 && (this._S = e.S),
    (this._Rencoded = Array.isArray(e.R) ? e.R : e.Rencoded),
    (this._Sencoded = Array.isArray(e.S) ? e.S : e.Sencoded);
}
mu(aa, "S", function () {
  return this.eddsa.decodeInt(this.Sencoded());
});
mu(aa, "R", function () {
  return this.eddsa.decodePoint(this.Rencoded());
});
mu(aa, "Rencoded", function () {
  return this.eddsa.encodePoint(this.R());
});
mu(aa, "Sencoded", function () {
  return this.eddsa.encodeInt(this.S());
});
aa.prototype.toBytes = function () {
  return this.Rencoded().concat(this.Sencoded());
};
aa.prototype.toHex = function () {
  return bu.encode(this.toBytes(), "hex").toUpperCase();
};
var P7 = aa,
  O7 = sv,
  C7 = pu,
  za = Ii,
  R7 = za.assert,
  Nv = za.parseBytes,
  Tv = I7,
  Zp = P7;
function li(r) {
  if (
    (R7(r === "ed25519", "only tested with ed25519 so far"),
    !(this instanceof li))
  )
    return new li(r);
  (r = C7[r].curve),
    (this.curve = r),
    (this.g = r.g),
    this.g.precompute(r.n.bitLength() + 1),
    (this.pointClass = r.point().constructor),
    (this.encodingLength = Math.ceil(r.n.bitLength() / 8)),
    (this.hash = O7.sha512);
}
var N7 = li;
li.prototype.sign = function (e, t) {
  e = Nv(e);
  var i = this.keyFromSecret(t),
    n = this.hashInt(i.messagePrefix(), e),
    a = this.g.mul(n),
    f = this.encodePoint(a),
    h = this.hashInt(f, i.pubBytes(), e).mul(i.priv()),
    b = n.add(h).umod(this.curve.n);
  return this.makeSignature({ R: a, S: b, Rencoded: f });
};
li.prototype.verify = function (e, t, i) {
  if (
    ((e = Nv(e)),
    (t = this.makeSignature(t)),
    t.S().gte(t.eddsa.curve.n) || t.S().isNeg())
  )
    return !1;
  var n = this.keyFromPublic(i),
    a = this.hashInt(t.Rencoded(), n.pubBytes(), e),
    f = this.g.mul(t.S()),
    h = t.R().add(n.pub().mul(a));
  return h.eq(f);
};
li.prototype.hashInt = function () {
  for (var e = this.hash(), t = 0; t < arguments.length; t++)
    e.update(arguments[t]);
  return za.intFromLE(e.digest()).umod(this.curve.n);
};
li.prototype.keyFromPublic = function (e) {
  return Tv.fromPublic(this, e);
};
li.prototype.keyFromSecret = function (e) {
  return Tv.fromSecret(this, e);
};
li.prototype.makeSignature = function (e) {
  return e instanceof Zp ? e : new Zp(this, e);
};
li.prototype.encodePoint = function (e) {
  var t = e.getY().toArray("le", this.encodingLength);
  return (t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0), t;
};
li.prototype.decodePoint = function (e) {
  e = za.parseBytes(e);
  var t = e.length - 1,
    i = e.slice(0, t).concat(e[t] & -129),
    n = (e[t] & 128) !== 0,
    a = za.intFromLE(i);
  return this.curve.pointFromY(a, n);
};
li.prototype.encodeInt = function (e) {
  return e.toArray("le", this.encodingLength);
};
li.prototype.decodeInt = function (e) {
  return za.intFromLE(e);
};
li.prototype.isPoint = function (e) {
  return e instanceof this.pointClass;
};
(function (r) {
  var e = r;
  (e.version = a7.version),
    (e.utils = Ii),
    (e.rand = av()),
    (e.curve = od),
    (e.curves = pu),
    (e.ec = M7),
    (e.eddsa = N7);
})(Dv);
var hd = {},
  Fv = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = yt,
    t = Mi;
  (r.DIGEST_LENGTH = 64), (r.BLOCK_SIZE = 128);
  var i = (function () {
    function h() {
      (this.digestLength = r.DIGEST_LENGTH),
        (this.blockSize = r.BLOCK_SIZE),
        (this._stateHi = new Int32Array(8)),
        (this._stateLo = new Int32Array(8)),
        (this._tempHi = new Int32Array(16)),
        (this._tempLo = new Int32Array(16)),
        (this._buffer = new Uint8Array(256)),
        (this._bufferLength = 0),
        (this._bytesHashed = 0),
        (this._finished = !1),
        this.reset();
    }
    return (
      (h.prototype._initState = function () {
        (this._stateHi[0] = 1779033703),
          (this._stateHi[1] = 3144134277),
          (this._stateHi[2] = 1013904242),
          (this._stateHi[3] = 2773480762),
          (this._stateHi[4] = 1359893119),
          (this._stateHi[5] = 2600822924),
          (this._stateHi[6] = 528734635),
          (this._stateHi[7] = 1541459225),
          (this._stateLo[0] = 4089235720),
          (this._stateLo[1] = 2227873595),
          (this._stateLo[2] = 4271175723),
          (this._stateLo[3] = 1595750129),
          (this._stateLo[4] = 2917565137),
          (this._stateLo[5] = 725511199),
          (this._stateLo[6] = 4215389547),
          (this._stateLo[7] = 327033209);
      }),
      (h.prototype.reset = function () {
        return (
          this._initState(),
          (this._bufferLength = 0),
          (this._bytesHashed = 0),
          (this._finished = !1),
          this
        );
      }),
      (h.prototype.clean = function () {
        t.wipe(this._buffer),
          t.wipe(this._tempHi),
          t.wipe(this._tempLo),
          this.reset();
      }),
      (h.prototype.update = function (b, v) {
        if ((v === void 0 && (v = b.length), this._finished))
          throw new Error("SHA512: can't update because hash was finished.");
        var y = 0;
        if (((this._bytesHashed += v), this._bufferLength > 0)) {
          for (; this._bufferLength < r.BLOCK_SIZE && v > 0; )
            (this._buffer[this._bufferLength++] = b[y++]), v--;
          this._bufferLength === this.blockSize &&
            (a(
              this._tempHi,
              this._tempLo,
              this._stateHi,
              this._stateLo,
              this._buffer,
              0,
              this.blockSize
            ),
            (this._bufferLength = 0));
        }
        for (
          v >= this.blockSize &&
          ((y = a(
            this._tempHi,
            this._tempLo,
            this._stateHi,
            this._stateLo,
            b,
            y,
            v
          )),
          (v %= this.blockSize));
          v > 0;

        )
          (this._buffer[this._bufferLength++] = b[y++]), v--;
        return this;
      }),
      (h.prototype.finish = function (b) {
        if (!this._finished) {
          var v = this._bytesHashed,
            y = this._bufferLength,
            S = (v / 536870912) | 0,
            O = v << 3,
            P = v % 128 < 112 ? 128 : 256;
          this._buffer[y] = 128;
          for (var C = y + 1; C < P - 8; C++) this._buffer[C] = 0;
          e.writeUint32BE(S, this._buffer, P - 8),
            e.writeUint32BE(O, this._buffer, P - 4),
            a(
              this._tempHi,
              this._tempLo,
              this._stateHi,
              this._stateLo,
              this._buffer,
              0,
              P
            ),
            (this._finished = !0);
        }
        for (var C = 0; C < this.digestLength / 8; C++)
          e.writeUint32BE(this._stateHi[C], b, C * 8),
            e.writeUint32BE(this._stateLo[C], b, C * 8 + 4);
        return this;
      }),
      (h.prototype.digest = function () {
        var b = new Uint8Array(this.digestLength);
        return this.finish(b), b;
      }),
      (h.prototype.saveState = function () {
        if (this._finished)
          throw new Error("SHA256: cannot save finished state");
        return {
          stateHi: new Int32Array(this._stateHi),
          stateLo: new Int32Array(this._stateLo),
          buffer:
            this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
          bufferLength: this._bufferLength,
          bytesHashed: this._bytesHashed,
        };
      }),
      (h.prototype.restoreState = function (b) {
        return (
          this._stateHi.set(b.stateHi),
          this._stateLo.set(b.stateLo),
          (this._bufferLength = b.bufferLength),
          b.buffer && this._buffer.set(b.buffer),
          (this._bytesHashed = b.bytesHashed),
          (this._finished = !1),
          this
        );
      }),
      (h.prototype.cleanSavedState = function (b) {
        t.wipe(b.stateHi),
          t.wipe(b.stateLo),
          b.buffer && t.wipe(b.buffer),
          (b.bufferLength = 0),
          (b.bytesHashed = 0);
      }),
      h
    );
  })();
  r.SHA512 = i;
  var n = new Int32Array([
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ]);
  function a(h, b, v, y, S, O, P) {
    for (
      var C = v[0],
        H = v[1],
        V = v[2],
        Q = v[3],
        j = v[4],
        Y = v[5],
        U = v[6],
        z = v[7],
        G = y[0],
        A = y[1],
        F = y[2],
        ae = y[3],
        de = y[4],
        B = y[5],
        m = y[6],
        c = y[7],
        u,
        g,
        _,
        I,
        x,
        M,
        d,
        p;
      P >= 128;

    ) {
      for (var N = 0; N < 16; N++) {
        var Z = 8 * N + O;
        (h[N] = e.readUint32BE(S, Z)), (b[N] = e.readUint32BE(S, Z + 4));
      }
      for (var N = 0; N < 80; N++) {
        var se = C,
          D = H,
          ee = V,
          q = Q,
          k = j,
          K = Y,
          w = U,
          $ = z,
          ne = G,
          ce = A,
          ue = F,
          ye = ae,
          we = de,
          Re = B,
          Qe = m,
          Pe = c;
        if (
          ((u = z),
          (g = c),
          (x = g & 65535),
          (M = g >>> 16),
          (d = u & 65535),
          (p = u >>> 16),
          (u =
            ((j >>> 14) | (de << 18)) ^
            ((j >>> 18) | (de << 14)) ^
            ((de >>> 9) | (j << 23))),
          (g =
            ((de >>> 14) | (j << 18)) ^
            ((de >>> 18) | (j << 14)) ^
            ((j >>> 9) | (de << 23))),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (u = (j & Y) ^ (~j & U)),
          (g = (de & B) ^ (~de & m)),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (u = n[N * 2]),
          (g = n[N * 2 + 1]),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (u = h[N % 16]),
          (g = b[N % 16]),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (M += x >>> 16),
          (d += M >>> 16),
          (p += d >>> 16),
          (_ = (d & 65535) | (p << 16)),
          (I = (x & 65535) | (M << 16)),
          (u = _),
          (g = I),
          (x = g & 65535),
          (M = g >>> 16),
          (d = u & 65535),
          (p = u >>> 16),
          (u =
            ((C >>> 28) | (G << 4)) ^
            ((G >>> 2) | (C << 30)) ^
            ((G >>> 7) | (C << 25))),
          (g =
            ((G >>> 28) | (C << 4)) ^
            ((C >>> 2) | (G << 30)) ^
            ((C >>> 7) | (G << 25))),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (u = (C & H) ^ (C & V) ^ (H & V)),
          (g = (G & A) ^ (G & F) ^ (A & F)),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (M += x >>> 16),
          (d += M >>> 16),
          (p += d >>> 16),
          ($ = (d & 65535) | (p << 16)),
          (Pe = (x & 65535) | (M << 16)),
          (u = q),
          (g = ye),
          (x = g & 65535),
          (M = g >>> 16),
          (d = u & 65535),
          (p = u >>> 16),
          (u = _),
          (g = I),
          (x += g & 65535),
          (M += g >>> 16),
          (d += u & 65535),
          (p += u >>> 16),
          (M += x >>> 16),
          (d += M >>> 16),
          (p += d >>> 16),
          (q = (d & 65535) | (p << 16)),
          (ye = (x & 65535) | (M << 16)),
          (H = se),
          (V = D),
          (Q = ee),
          (j = q),
          (Y = k),
          (U = K),
          (z = w),
          (C = $),
          (A = ne),
          (F = ce),
          (ae = ue),
          (de = ye),
          (B = we),
          (m = Re),
          (c = Qe),
          (G = Pe),
          N % 16 === 15)
        )
          for (var Z = 0; Z < 16; Z++)
            (u = h[Z]),
              (g = b[Z]),
              (x = g & 65535),
              (M = g >>> 16),
              (d = u & 65535),
              (p = u >>> 16),
              (u = h[(Z + 9) % 16]),
              (g = b[(Z + 9) % 16]),
              (x += g & 65535),
              (M += g >>> 16),
              (d += u & 65535),
              (p += u >>> 16),
              (_ = h[(Z + 1) % 16]),
              (I = b[(Z + 1) % 16]),
              (u =
                ((_ >>> 1) | (I << 31)) ^ ((_ >>> 8) | (I << 24)) ^ (_ >>> 7)),
              (g =
                ((I >>> 1) | (_ << 31)) ^
                ((I >>> 8) | (_ << 24)) ^
                ((I >>> 7) | (_ << 25))),
              (x += g & 65535),
              (M += g >>> 16),
              (d += u & 65535),
              (p += u >>> 16),
              (_ = h[(Z + 14) % 16]),
              (I = b[(Z + 14) % 16]),
              (u =
                ((_ >>> 19) | (I << 13)) ^ ((I >>> 29) | (_ << 3)) ^ (_ >>> 6)),
              (g =
                ((I >>> 19) | (_ << 13)) ^
                ((_ >>> 29) | (I << 3)) ^
                ((I >>> 6) | (_ << 26))),
              (x += g & 65535),
              (M += g >>> 16),
              (d += u & 65535),
              (p += u >>> 16),
              (M += x >>> 16),
              (d += M >>> 16),
              (p += d >>> 16),
              (h[Z] = (d & 65535) | (p << 16)),
              (b[Z] = (x & 65535) | (M << 16));
      }
      (u = C),
        (g = G),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[0]),
        (g = y[0]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[0] = C = (d & 65535) | (p << 16)),
        (y[0] = G = (x & 65535) | (M << 16)),
        (u = H),
        (g = A),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[1]),
        (g = y[1]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[1] = H = (d & 65535) | (p << 16)),
        (y[1] = A = (x & 65535) | (M << 16)),
        (u = V),
        (g = F),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[2]),
        (g = y[2]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[2] = V = (d & 65535) | (p << 16)),
        (y[2] = F = (x & 65535) | (M << 16)),
        (u = Q),
        (g = ae),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[3]),
        (g = y[3]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[3] = Q = (d & 65535) | (p << 16)),
        (y[3] = ae = (x & 65535) | (M << 16)),
        (u = j),
        (g = de),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[4]),
        (g = y[4]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[4] = j = (d & 65535) | (p << 16)),
        (y[4] = de = (x & 65535) | (M << 16)),
        (u = Y),
        (g = B),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[5]),
        (g = y[5]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[5] = Y = (d & 65535) | (p << 16)),
        (y[5] = B = (x & 65535) | (M << 16)),
        (u = U),
        (g = m),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[6]),
        (g = y[6]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[6] = U = (d & 65535) | (p << 16)),
        (y[6] = m = (x & 65535) | (M << 16)),
        (u = z),
        (g = c),
        (x = g & 65535),
        (M = g >>> 16),
        (d = u & 65535),
        (p = u >>> 16),
        (u = v[7]),
        (g = y[7]),
        (x += g & 65535),
        (M += g >>> 16),
        (d += u & 65535),
        (p += u >>> 16),
        (M += x >>> 16),
        (d += M >>> 16),
        (p += d >>> 16),
        (v[7] = z = (d & 65535) | (p << 16)),
        (y[7] = c = (x & 65535) | (M << 16)),
        (O += 128),
        (P -= 128);
    }
    return O;
  }
  function f(h) {
    var b = new i();
    b.update(h);
    var v = b.digest();
    return b.clean(), v;
  }
  r.hash = f;
})(Fv);
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 }),
    (r.convertSecretKeyToX25519 =
      r.convertPublicKeyToX25519 =
      r.verify =
      r.sign =
      r.extractPublicKeyFromSecretKey =
      r.generateKeyPair =
      r.generateKeyPairFromSeed =
      r.SEED_LENGTH =
      r.SECRET_KEY_LENGTH =
      r.PUBLIC_KEY_LENGTH =
      r.SIGNATURE_LENGTH =
        void 0);
  const e = Ps,
    t = Fv,
    i = Mi;
  (r.SIGNATURE_LENGTH = 64),
    (r.PUBLIC_KEY_LENGTH = 32),
    (r.SECRET_KEY_LENGTH = 64),
    (r.SEED_LENGTH = 32);
  function n(q) {
    const k = new Float64Array(16);
    if (q) for (let K = 0; K < q.length; K++) k[K] = q[K];
    return k;
  }
  const a = new Uint8Array(32);
  a[0] = 9;
  const f = n(),
    h = n([1]),
    b = n([
      30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505,
      36039, 65139, 11119, 27886, 20995,
    ]),
    v = n([
      61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010,
      6542, 64743, 22239, 55772, 9222,
    ]),
    y = n([
      54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982,
      57905, 49316, 21502, 52590, 14035, 8553,
    ]),
    S = n([
      26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214,
      26214, 26214, 26214, 26214, 26214, 26214,
    ]),
    O = n([
      41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153,
      11085, 57099, 20417, 9344, 11139,
    ]);
  function P(q, k) {
    for (let K = 0; K < 16; K++) q[K] = k[K] | 0;
  }
  function C(q) {
    let k = 1;
    for (let K = 0; K < 16; K++) {
      let w = q[K] + k + 65535;
      (k = Math.floor(w / 65536)), (q[K] = w - k * 65536);
    }
    q[0] += k - 1 + 37 * (k - 1);
  }
  function H(q, k, K) {
    const w = ~(K - 1);
    for (let $ = 0; $ < 16; $++) {
      const ne = w & (q[$] ^ k[$]);
      (q[$] ^= ne), (k[$] ^= ne);
    }
  }
  function V(q, k) {
    const K = n(),
      w = n();
    for (let $ = 0; $ < 16; $++) w[$] = k[$];
    C(w), C(w), C(w);
    for (let $ = 0; $ < 2; $++) {
      K[0] = w[0] - 65517;
      for (let ce = 1; ce < 15; ce++)
        (K[ce] = w[ce] - 65535 - ((K[ce - 1] >> 16) & 1)), (K[ce - 1] &= 65535);
      K[15] = w[15] - 32767 - ((K[14] >> 16) & 1);
      const ne = (K[15] >> 16) & 1;
      (K[14] &= 65535), H(w, K, 1 - ne);
    }
    for (let $ = 0; $ < 16; $++)
      (q[2 * $] = w[$] & 255), (q[2 * $ + 1] = w[$] >> 8);
  }
  function Q(q, k) {
    let K = 0;
    for (let w = 0; w < 32; w++) K |= q[w] ^ k[w];
    return (1 & ((K - 1) >>> 8)) - 1;
  }
  function j(q, k) {
    const K = new Uint8Array(32),
      w = new Uint8Array(32);
    return V(K, q), V(w, k), Q(K, w);
  }
  function Y(q) {
    const k = new Uint8Array(32);
    return V(k, q), k[0] & 1;
  }
  function U(q, k) {
    for (let K = 0; K < 16; K++) q[K] = k[2 * K] + (k[2 * K + 1] << 8);
    q[15] &= 32767;
  }
  function z(q, k, K) {
    for (let w = 0; w < 16; w++) q[w] = k[w] + K[w];
  }
  function G(q, k, K) {
    for (let w = 0; w < 16; w++) q[w] = k[w] - K[w];
  }
  function A(q, k, K) {
    let w,
      $,
      ne = 0,
      ce = 0,
      ue = 0,
      ye = 0,
      we = 0,
      Re = 0,
      Qe = 0,
      Pe = 0,
      Ne = 0,
      Ie = 0,
      me = 0,
      Oe = 0,
      Te = 0,
      ve = 0,
      Ce = 0,
      Me = 0,
      be = 0,
      Le = 0,
      xe = 0,
      _e = 0,
      He = 0,
      Ve = 0,
      Ee = 0,
      Ke = 0,
      ht = 0,
      Ge = 0,
      At = 0,
      lt = 0,
      Je = 0,
      St = 0,
      xt = 0,
      Fe = K[0],
      Xe = K[1],
      tt = K[2],
      Be = K[3],
      et = K[4],
      Ze = K[5],
      $e = K[6],
      ft = K[7],
      rt = K[8],
      je = K[9],
      it = K[10],
      st = K[11],
      qe = K[12],
      Ye = K[13],
      ut = K[14],
      ze = K[15];
    (w = k[0]),
      (ne += w * Fe),
      (ce += w * Xe),
      (ue += w * tt),
      (ye += w * Be),
      (we += w * et),
      (Re += w * Ze),
      (Qe += w * $e),
      (Pe += w * ft),
      (Ne += w * rt),
      (Ie += w * je),
      (me += w * it),
      (Oe += w * st),
      (Te += w * qe),
      (ve += w * Ye),
      (Ce += w * ut),
      (Me += w * ze),
      (w = k[1]),
      (ce += w * Fe),
      (ue += w * Xe),
      (ye += w * tt),
      (we += w * Be),
      (Re += w * et),
      (Qe += w * Ze),
      (Pe += w * $e),
      (Ne += w * ft),
      (Ie += w * rt),
      (me += w * je),
      (Oe += w * it),
      (Te += w * st),
      (ve += w * qe),
      (Ce += w * Ye),
      (Me += w * ut),
      (be += w * ze),
      (w = k[2]),
      (ue += w * Fe),
      (ye += w * Xe),
      (we += w * tt),
      (Re += w * Be),
      (Qe += w * et),
      (Pe += w * Ze),
      (Ne += w * $e),
      (Ie += w * ft),
      (me += w * rt),
      (Oe += w * je),
      (Te += w * it),
      (ve += w * st),
      (Ce += w * qe),
      (Me += w * Ye),
      (be += w * ut),
      (Le += w * ze),
      (w = k[3]),
      (ye += w * Fe),
      (we += w * Xe),
      (Re += w * tt),
      (Qe += w * Be),
      (Pe += w * et),
      (Ne += w * Ze),
      (Ie += w * $e),
      (me += w * ft),
      (Oe += w * rt),
      (Te += w * je),
      (ve += w * it),
      (Ce += w * st),
      (Me += w * qe),
      (be += w * Ye),
      (Le += w * ut),
      (xe += w * ze),
      (w = k[4]),
      (we += w * Fe),
      (Re += w * Xe),
      (Qe += w * tt),
      (Pe += w * Be),
      (Ne += w * et),
      (Ie += w * Ze),
      (me += w * $e),
      (Oe += w * ft),
      (Te += w * rt),
      (ve += w * je),
      (Ce += w * it),
      (Me += w * st),
      (be += w * qe),
      (Le += w * Ye),
      (xe += w * ut),
      (_e += w * ze),
      (w = k[5]),
      (Re += w * Fe),
      (Qe += w * Xe),
      (Pe += w * tt),
      (Ne += w * Be),
      (Ie += w * et),
      (me += w * Ze),
      (Oe += w * $e),
      (Te += w * ft),
      (ve += w * rt),
      (Ce += w * je),
      (Me += w * it),
      (be += w * st),
      (Le += w * qe),
      (xe += w * Ye),
      (_e += w * ut),
      (He += w * ze),
      (w = k[6]),
      (Qe += w * Fe),
      (Pe += w * Xe),
      (Ne += w * tt),
      (Ie += w * Be),
      (me += w * et),
      (Oe += w * Ze),
      (Te += w * $e),
      (ve += w * ft),
      (Ce += w * rt),
      (Me += w * je),
      (be += w * it),
      (Le += w * st),
      (xe += w * qe),
      (_e += w * Ye),
      (He += w * ut),
      (Ve += w * ze),
      (w = k[7]),
      (Pe += w * Fe),
      (Ne += w * Xe),
      (Ie += w * tt),
      (me += w * Be),
      (Oe += w * et),
      (Te += w * Ze),
      (ve += w * $e),
      (Ce += w * ft),
      (Me += w * rt),
      (be += w * je),
      (Le += w * it),
      (xe += w * st),
      (_e += w * qe),
      (He += w * Ye),
      (Ve += w * ut),
      (Ee += w * ze),
      (w = k[8]),
      (Ne += w * Fe),
      (Ie += w * Xe),
      (me += w * tt),
      (Oe += w * Be),
      (Te += w * et),
      (ve += w * Ze),
      (Ce += w * $e),
      (Me += w * ft),
      (be += w * rt),
      (Le += w * je),
      (xe += w * it),
      (_e += w * st),
      (He += w * qe),
      (Ve += w * Ye),
      (Ee += w * ut),
      (Ke += w * ze),
      (w = k[9]),
      (Ie += w * Fe),
      (me += w * Xe),
      (Oe += w * tt),
      (Te += w * Be),
      (ve += w * et),
      (Ce += w * Ze),
      (Me += w * $e),
      (be += w * ft),
      (Le += w * rt),
      (xe += w * je),
      (_e += w * it),
      (He += w * st),
      (Ve += w * qe),
      (Ee += w * Ye),
      (Ke += w * ut),
      (ht += w * ze),
      (w = k[10]),
      (me += w * Fe),
      (Oe += w * Xe),
      (Te += w * tt),
      (ve += w * Be),
      (Ce += w * et),
      (Me += w * Ze),
      (be += w * $e),
      (Le += w * ft),
      (xe += w * rt),
      (_e += w * je),
      (He += w * it),
      (Ve += w * st),
      (Ee += w * qe),
      (Ke += w * Ye),
      (ht += w * ut),
      (Ge += w * ze),
      (w = k[11]),
      (Oe += w * Fe),
      (Te += w * Xe),
      (ve += w * tt),
      (Ce += w * Be),
      (Me += w * et),
      (be += w * Ze),
      (Le += w * $e),
      (xe += w * ft),
      (_e += w * rt),
      (He += w * je),
      (Ve += w * it),
      (Ee += w * st),
      (Ke += w * qe),
      (ht += w * Ye),
      (Ge += w * ut),
      (At += w * ze),
      (w = k[12]),
      (Te += w * Fe),
      (ve += w * Xe),
      (Ce += w * tt),
      (Me += w * Be),
      (be += w * et),
      (Le += w * Ze),
      (xe += w * $e),
      (_e += w * ft),
      (He += w * rt),
      (Ve += w * je),
      (Ee += w * it),
      (Ke += w * st),
      (ht += w * qe),
      (Ge += w * Ye),
      (At += w * ut),
      (lt += w * ze),
      (w = k[13]),
      (ve += w * Fe),
      (Ce += w * Xe),
      (Me += w * tt),
      (be += w * Be),
      (Le += w * et),
      (xe += w * Ze),
      (_e += w * $e),
      (He += w * ft),
      (Ve += w * rt),
      (Ee += w * je),
      (Ke += w * it),
      (ht += w * st),
      (Ge += w * qe),
      (At += w * Ye),
      (lt += w * ut),
      (Je += w * ze),
      (w = k[14]),
      (Ce += w * Fe),
      (Me += w * Xe),
      (be += w * tt),
      (Le += w * Be),
      (xe += w * et),
      (_e += w * Ze),
      (He += w * $e),
      (Ve += w * ft),
      (Ee += w * rt),
      (Ke += w * je),
      (ht += w * it),
      (Ge += w * st),
      (At += w * qe),
      (lt += w * Ye),
      (Je += w * ut),
      (St += w * ze),
      (w = k[15]),
      (Me += w * Fe),
      (be += w * Xe),
      (Le += w * tt),
      (xe += w * Be),
      (_e += w * et),
      (He += w * Ze),
      (Ve += w * $e),
      (Ee += w * ft),
      (Ke += w * rt),
      (ht += w * je),
      (Ge += w * it),
      (At += w * st),
      (lt += w * qe),
      (Je += w * Ye),
      (St += w * ut),
      (xt += w * ze),
      (ne += 38 * be),
      (ce += 38 * Le),
      (ue += 38 * xe),
      (ye += 38 * _e),
      (we += 38 * He),
      (Re += 38 * Ve),
      (Qe += 38 * Ee),
      (Pe += 38 * Ke),
      (Ne += 38 * ht),
      (Ie += 38 * Ge),
      (me += 38 * At),
      (Oe += 38 * lt),
      (Te += 38 * Je),
      (ve += 38 * St),
      (Ce += 38 * xt),
      ($ = 1),
      (w = ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ne = w - $ * 65536),
      (w = ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ce = w - $ * 65536),
      (w = ue + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ue = w - $ * 65536),
      (w = ye + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ye = w - $ * 65536),
      (w = we + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (we = w - $ * 65536),
      (w = Re + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Re = w - $ * 65536),
      (w = Qe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Qe = w - $ * 65536),
      (w = Pe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Pe = w - $ * 65536),
      (w = Ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ne = w - $ * 65536),
      (w = Ie + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ie = w - $ * 65536),
      (w = me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (me = w - $ * 65536),
      (w = Oe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Oe = w - $ * 65536),
      (w = Te + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Te = w - $ * 65536),
      (w = ve + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ve = w - $ * 65536),
      (w = Ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ce = w - $ * 65536),
      (w = Me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Me = w - $ * 65536),
      (ne += $ - 1 + 37 * ($ - 1)),
      ($ = 1),
      (w = ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ne = w - $ * 65536),
      (w = ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ce = w - $ * 65536),
      (w = ue + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ue = w - $ * 65536),
      (w = ye + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ye = w - $ * 65536),
      (w = we + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (we = w - $ * 65536),
      (w = Re + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Re = w - $ * 65536),
      (w = Qe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Qe = w - $ * 65536),
      (w = Pe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Pe = w - $ * 65536),
      (w = Ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ne = w - $ * 65536),
      (w = Ie + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ie = w - $ * 65536),
      (w = me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (me = w - $ * 65536),
      (w = Oe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Oe = w - $ * 65536),
      (w = Te + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Te = w - $ * 65536),
      (w = ve + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ve = w - $ * 65536),
      (w = Ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ce = w - $ * 65536),
      (w = Me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Me = w - $ * 65536),
      (ne += $ - 1 + 37 * ($ - 1)),
      (q[0] = ne),
      (q[1] = ce),
      (q[2] = ue),
      (q[3] = ye),
      (q[4] = we),
      (q[5] = Re),
      (q[6] = Qe),
      (q[7] = Pe),
      (q[8] = Ne),
      (q[9] = Ie),
      (q[10] = me),
      (q[11] = Oe),
      (q[12] = Te),
      (q[13] = ve),
      (q[14] = Ce),
      (q[15] = Me);
  }
  function F(q, k) {
    A(q, k, k);
  }
  function ae(q, k) {
    const K = n();
    let w;
    for (w = 0; w < 16; w++) K[w] = k[w];
    for (w = 253; w >= 0; w--) F(K, K), w !== 2 && w !== 4 && A(K, K, k);
    for (w = 0; w < 16; w++) q[w] = K[w];
  }
  function de(q, k) {
    const K = n();
    let w;
    for (w = 0; w < 16; w++) K[w] = k[w];
    for (w = 250; w >= 0; w--) F(K, K), w !== 1 && A(K, K, k);
    for (w = 0; w < 16; w++) q[w] = K[w];
  }
  function B(q, k) {
    const K = n(),
      w = n(),
      $ = n(),
      ne = n(),
      ce = n(),
      ue = n(),
      ye = n(),
      we = n(),
      Re = n();
    G(K, q[1], q[0]),
      G(Re, k[1], k[0]),
      A(K, K, Re),
      z(w, q[0], q[1]),
      z(Re, k[0], k[1]),
      A(w, w, Re),
      A($, q[3], k[3]),
      A($, $, v),
      A(ne, q[2], k[2]),
      z(ne, ne, ne),
      G(ce, w, K),
      G(ue, ne, $),
      z(ye, ne, $),
      z(we, w, K),
      A(q[0], ce, ue),
      A(q[1], we, ye),
      A(q[2], ye, ue),
      A(q[3], ce, we);
  }
  function m(q, k, K) {
    for (let w = 0; w < 4; w++) H(q[w], k[w], K);
  }
  function c(q, k) {
    const K = n(),
      w = n(),
      $ = n();
    ae($, k[2]), A(K, k[0], $), A(w, k[1], $), V(q, w), (q[31] ^= Y(K) << 7);
  }
  function u(q, k, K) {
    P(q[0], f), P(q[1], h), P(q[2], h), P(q[3], f);
    for (let w = 255; w >= 0; --w) {
      const $ = (K[(w / 8) | 0] >> (w & 7)) & 1;
      m(q, k, $), B(k, q), B(q, q), m(q, k, $);
    }
  }
  function g(q, k) {
    const K = [n(), n(), n(), n()];
    P(K[0], y), P(K[1], S), P(K[2], h), A(K[3], y, S), u(q, K, k);
  }
  function _(q) {
    if (q.length !== r.SEED_LENGTH)
      throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);
    const k = (0, t.hash)(q);
    (k[0] &= 248), (k[31] &= 127), (k[31] |= 64);
    const K = new Uint8Array(32),
      w = [n(), n(), n(), n()];
    g(w, k), c(K, w);
    const $ = new Uint8Array(64);
    return $.set(q), $.set(K, 32), { publicKey: K, secretKey: $ };
  }
  r.generateKeyPairFromSeed = _;
  function I(q) {
    const k = (0, e.randomBytes)(32, q),
      K = _(k);
    return (0, i.wipe)(k), K;
  }
  r.generateKeyPair = I;
  function x(q) {
    if (q.length !== r.SECRET_KEY_LENGTH)
      throw new Error(
        `ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`
      );
    return new Uint8Array(q.subarray(32));
  }
  r.extractPublicKeyFromSecretKey = x;
  const M = new Float64Array([
    237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16,
  ]);
  function d(q, k) {
    let K, w, $, ne;
    for (w = 63; w >= 32; --w) {
      for (K = 0, $ = w - 32, ne = w - 12; $ < ne; ++$)
        (k[$] += K - 16 * k[w] * M[$ - (w - 32)]),
          (K = Math.floor((k[$] + 128) / 256)),
          (k[$] -= K * 256);
      (k[$] += K), (k[w] = 0);
    }
    for (K = 0, $ = 0; $ < 32; $++)
      (k[$] += K - (k[31] >> 4) * M[$]), (K = k[$] >> 8), (k[$] &= 255);
    for ($ = 0; $ < 32; $++) k[$] -= K * M[$];
    for (w = 0; w < 32; w++) (k[w + 1] += k[w] >> 8), (q[w] = k[w] & 255);
  }
  function p(q) {
    const k = new Float64Array(64);
    for (let K = 0; K < 64; K++) k[K] = q[K];
    for (let K = 0; K < 64; K++) q[K] = 0;
    d(q, k);
  }
  function N(q, k) {
    const K = new Float64Array(64),
      w = [n(), n(), n(), n()],
      $ = (0, t.hash)(q.subarray(0, 32));
    ($[0] &= 248), ($[31] &= 127), ($[31] |= 64);
    const ne = new Uint8Array(64);
    ne.set($.subarray(32), 32);
    const ce = new t.SHA512();
    ce.update(ne.subarray(32)), ce.update(k);
    const ue = ce.digest();
    ce.clean(),
      p(ue),
      g(w, ue),
      c(ne, w),
      ce.reset(),
      ce.update(ne.subarray(0, 32)),
      ce.update(q.subarray(32)),
      ce.update(k);
    const ye = ce.digest();
    p(ye);
    for (let we = 0; we < 32; we++) K[we] = ue[we];
    for (let we = 0; we < 32; we++)
      for (let Re = 0; Re < 32; Re++) K[we + Re] += ye[we] * $[Re];
    return d(ne.subarray(32), K), ne;
  }
  r.sign = N;
  function Z(q, k) {
    const K = n(),
      w = n(),
      $ = n(),
      ne = n(),
      ce = n(),
      ue = n(),
      ye = n();
    return (
      P(q[2], h),
      U(q[1], k),
      F($, q[1]),
      A(ne, $, b),
      G($, $, q[2]),
      z(ne, q[2], ne),
      F(ce, ne),
      F(ue, ce),
      A(ye, ue, ce),
      A(K, ye, $),
      A(K, K, ne),
      de(K, K),
      A(K, K, $),
      A(K, K, ne),
      A(K, K, ne),
      A(q[0], K, ne),
      F(w, q[0]),
      A(w, w, ne),
      j(w, $) && A(q[0], q[0], O),
      F(w, q[0]),
      A(w, w, ne),
      j(w, $)
        ? -1
        : (Y(q[0]) === k[31] >> 7 && G(q[0], f, q[0]), A(q[3], q[0], q[1]), 0)
    );
  }
  function se(q, k, K) {
    const w = new Uint8Array(32),
      $ = [n(), n(), n(), n()],
      ne = [n(), n(), n(), n()];
    if (K.length !== r.SIGNATURE_LENGTH)
      throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);
    if (Z(ne, q)) return !1;
    const ce = new t.SHA512();
    ce.update(K.subarray(0, 32)), ce.update(q), ce.update(k);
    const ue = ce.digest();
    return (
      p(ue), u($, ne, ue), g(ne, K.subarray(32)), B($, ne), c(w, $), !Q(K, w)
    );
  }
  r.verify = se;
  function D(q) {
    let k = [n(), n(), n(), n()];
    if (Z(k, q)) throw new Error("Ed25519: invalid public key");
    let K = n(),
      w = n(),
      $ = k[1];
    z(K, h, $), G(w, h, $), ae(w, w), A(K, K, w);
    let ne = new Uint8Array(32);
    return V(ne, K), ne;
  }
  r.convertPublicKeyToX25519 = D;
  function ee(q) {
    const k = (0, t.hash)(q.subarray(0, 32));
    (k[0] &= 248), (k[31] &= 127), (k[31] |= 64);
    const K = new Uint8Array(k.subarray(0, 32));
    return (0, i.wipe)(k), K;
  }
  r.convertSecretKeyToX25519 = ee;
})(hd);
const T7 = "EdDSA",
  F7 = "JWT",
  kf = ".",
  yu = "base64url",
  Bv = "utf8",
  qv = "utf8",
  B7 = ":",
  q7 = "did",
  L7 = "key",
  e1 = "base58btc",
  U7 = "z",
  $7 = "K36",
  j7 = 32,
  z7 = (r) =>
    JSON.stringify(r, (e, t) =>
      typeof t == "bigint" ? t.toString() + "n" : t
    ),
  k7 = (r) => {
    const e =
        /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,
      t = r.replace(e, '$1"$2n"$3');
    return JSON.parse(t, (i, n) =>
      typeof n == "string" && n.match(/^\d+n$/)
        ? BigInt(n.substring(0, n.length - 1))
        : n
    );
  };
function ra(r) {
  if (typeof r != "string")
    throw new Error(`Cannot safe json parse value of type ${typeof r}`);
  try {
    return k7(r);
  } catch {
    return r;
  }
}
function cs(r) {
  return typeof r == "string" ? r : z7(r) || "";
}
function t1(r) {
  return ra(mr(br(r, yu), Bv));
}
function Hf(r) {
  return mr(br(cs(r), Bv), yu);
}
function Lv(r) {
  const e = br($7, e1),
    t = U7 + mr(Lo([e, r]), e1);
  return [q7, L7, t].join(B7);
}
function H7(r) {
  return mr(r, yu);
}
function K7(r) {
  return br(r, yu);
}
function V7(r) {
  return br([Hf(r.header), Hf(r.payload)].join(kf), qv);
}
function G7(r) {
  return [Hf(r.header), Hf(r.payload), H7(r.signature)].join(kf);
}
function Nl(r) {
  const e = r.split(kf),
    t = t1(e[0]),
    i = t1(e[1]),
    n = K7(e[2]),
    a = br(e.slice(0, 2).join(kf), qv);
  return { header: t, payload: i, signature: n, data: a };
}
function r1(r = Ps.randomBytes(j7)) {
  return hd.generateKeyPairFromSeed(r);
}
async function W7(r, e, t, i, n = Se.fromMiliseconds(Date.now())) {
  const a = { alg: T7, typ: F7 },
    f = Lv(i.publicKey),
    h = n + t,
    b = { iss: f, sub: r, aud: e, iat: n, exp: h },
    v = V7({ header: a, payload: b }),
    y = hd.sign(i.secretKey, v);
  return G7({ header: a, payload: b, signature: y });
}
const J7 = {
  waku: {
    publish: "waku_publish",
    batchPublish: "waku_batchPublish",
    subscribe: "waku_subscribe",
    batchSubscribe: "waku_batchSubscribe",
    subscription: "waku_subscription",
    unsubscribe: "waku_unsubscribe",
    batchUnsubscribe: "waku_batchUnsubscribe",
    batchFetchMessages: "waku_batchFetchMessages",
  },
  irn: {
    publish: "irn_publish",
    batchPublish: "irn_batchPublish",
    subscribe: "irn_subscribe",
    batchSubscribe: "irn_batchSubscribe",
    subscription: "irn_subscription",
    unsubscribe: "irn_unsubscribe",
    batchUnsubscribe: "irn_batchUnsubscribe",
    batchFetchMessages: "irn_batchFetchMessages",
  },
  iridium: {
    publish: "iridium_publish",
    batchPublish: "iridium_batchPublish",
    subscribe: "iridium_subscribe",
    batchSubscribe: "iridium_batchSubscribe",
    subscription: "iridium_subscription",
    unsubscribe: "iridium_unsubscribe",
    batchUnsubscribe: "iridium_batchUnsubscribe",
    batchFetchMessages: "iridium_batchFetchMessages",
  },
};
var Y7 = {};
const Q7 = ":";
function Uo(r) {
  const [e, t] = r.split(Q7);
  return { namespace: e, reference: t };
}
function i1(r, e = []) {
  const t = [];
  return (
    Object.keys(r).forEach((i) => {
      if (e.length && !e.includes(i)) return;
      const n = r[i];
      t.push(...n.accounts);
    }),
    t
  );
}
function Uv(r, e) {
  return r.includes(":") ? [r] : e.chains || [];
}
var X7 = Object.defineProperty,
  n1 = Object.getOwnPropertySymbols,
  Z7 = Object.prototype.hasOwnProperty,
  e9 = Object.prototype.propertyIsEnumerable,
  s1 = (r, e, t) =>
    e in r
      ? X7(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  a1 = (r, e) => {
    for (var t in e || (e = {})) Z7.call(e, t) && s1(r, t, e[t]);
    if (n1) for (var t of n1(e)) e9.call(e, t) && s1(r, t, e[t]);
    return r;
  };
const t9 = "ReactNative",
  _i = {
    reactNative: "react-native",
    node: "node",
    browser: "browser",
    unknown: "unknown",
  },
  r9 = "js";
function Kf() {
  return (
    typeof hi < "u" && typeof hi.versions < "u" && typeof hi.versions.node < "u"
  );
}
function Ja() {
  return !su() && !!td() && navigator.product === t9;
}
function sc() {
  return !Kf() && !!td() && !!su();
}
function ac() {
  return Ja()
    ? _i.reactNative
    : Kf()
    ? _i.node
    : sc()
    ? _i.browser
    : _i.unknown;
}
function i9() {
  var r;
  try {
    return Ja() &&
      typeof pt < "u" &&
      typeof (pt == null ? void 0 : pt.Application) < "u"
      ? (r = pt.Application) == null
        ? void 0
        : r.applicationId
      : void 0;
  } catch {
    return;
  }
}
function n9(r, e) {
  let t = Vo.parse(r);
  return (t = a1(a1({}, t), e)), (r = Vo.stringify(t)), r;
}
function $v() {
  return uv() || { name: "", description: "", url: "", icons: [""] };
}
function s9() {
  if (
    ac() === _i.reactNative &&
    typeof pt < "u" &&
    typeof (pt == null ? void 0 : pt.Platform) < "u"
  ) {
    const { OS: t, Version: i } = pt.Platform;
    return [t, i].join("-");
  }
  const r = d8();
  if (r === null) return "unknown";
  const e = r.os ? r.os.replace(" ", "").toLowerCase() : "unknown";
  return r.type === "browser"
    ? [e, r.name, r.version].join("-")
    : [e, r.version].join("-");
}
function a9() {
  var r;
  const e = ac();
  return e === _i.browser
    ? [e, ((r = fv()) == null ? void 0 : r.host) || "unknown"].join(":")
    : e;
}
function jv(r, e, t) {
  const i = s9(),
    n = a9();
  return [[r, e].join("-"), [r9, t].join("-"), i, n].join("/");
}
function o9({
  protocol: r,
  version: e,
  relayUrl: t,
  sdkVersion: i,
  auth: n,
  projectId: a,
  useOnCloseEvent: f,
  bundleId: h,
}) {
  const b = t.split("?"),
    v = jv(r, e, i),
    y = {
      auth: n,
      ua: v,
      projectId: a,
      useOnCloseEvent: f || void 0,
      origin: h || void 0,
    },
    S = n9(b[1] || "", y);
  return b[0] + "?" + S;
}
function Zs(r, e) {
  return r.filter((t) => e.includes(t)).length === r.length;
}
function zv(r) {
  return Object.fromEntries(r.entries());
}
function kv(r) {
  return new Map(Object.entries(r));
}
function Ys(r = Se.FIVE_MINUTES, e) {
  const t = Se.toMiliseconds(r || Se.FIVE_MINUTES);
  let i, n, a;
  return {
    resolve: (f) => {
      a && i && (clearTimeout(a), i(f));
    },
    reject: (f) => {
      a && n && (clearTimeout(a), n(f));
    },
    done: () =>
      new Promise((f, h) => {
        (a = setTimeout(() => {
          h(new Error(e));
        }, t)),
          (i = f),
          (n = h);
      }),
  };
}
function Ua(r, e, t) {
  return new Promise(async (i, n) => {
    const a = setTimeout(() => n(new Error(t)), e);
    try {
      const f = await r;
      i(f);
    } catch (f) {
      n(f);
    }
    clearTimeout(a);
  });
}
function Hv(r, e) {
  if (typeof e == "string" && e.startsWith(`${r}:`)) return e;
  if (r.toLowerCase() === "topic") {
    if (typeof e != "string")
      throw new Error('Value must be "string" for expirer target type: topic');
    return `topic:${e}`;
  } else if (r.toLowerCase() === "id") {
    if (typeof e != "number")
      throw new Error('Value must be "number" for expirer target type: id');
    return `id:${e}`;
  }
  throw new Error(`Unknown expirer target type: ${r}`);
}
function c9(r) {
  return Hv("topic", r);
}
function f9(r) {
  return Hv("id", r);
}
function Kv(r) {
  const [e, t] = r.split(":"),
    i = { id: void 0, topic: void 0 };
  if (e === "topic" && typeof t == "string") i.topic = t;
  else if (e === "id" && Number.isInteger(Number(t))) i.id = Number(t);
  else
    throw new Error(
      `Invalid target, expected id:number or topic:string, got ${e}:${t}`
    );
  return i;
}
function vr(r, e) {
  return Se.fromMiliseconds(Date.now() + Se.toMiliseconds(r));
}
function _s(r) {
  return Date.now() >= Se.toMiliseconds(r);
}
function It(r, e) {
  return `${r}${e ? `:${e}` : ""}`;
}
function Pf(r = [], e = []) {
  return [...new Set([...r, ...e])];
}
async function u9({ id: r, topic: e, wcDeepLink: t }) {
  var i;
  try {
    if (!t) return;
    const n = typeof t == "string" ? JSON.parse(t) : t,
      a = n == null ? void 0 : n.href;
    if (typeof a != "string") return;
    const f = h9(a, r, e),
      h = ac();
    if (h === _i.browser) {
      if (!((i = su()) != null && i.hasFocus())) return;
      f.startsWith("https://") || f.startsWith("http://")
        ? window.open(f, "_blank", "noreferrer noopener")
        : window.open(f, d9() ? "_blank" : "_self", "noreferrer noopener");
    } else
      h === _i.reactNative &&
        typeof (pt == null ? void 0 : pt.Linking) < "u" &&
        (await pt.Linking.openURL(f));
  } catch {}
}
function h9(r, e, t) {
  const i = `requestId=${e}&sessionTopic=${t}`;
  r.endsWith("/") && (r = r.slice(0, -1));
  let n = `${r}`;
  if (r.startsWith("https://t.me/oxy_ai_channel")) {
    const a = r.includes("?") ? "&startapp=" : "?startapp=";
    n = `${n}${a}${p9(i, !0)}`;
  } else n = `${n}/wc?${i}`;
  return n;
}
async function l9(r, e) {
  let t = "";
  try {
    if (sc() && ((t = localStorage.getItem(e)), t)) return t;
    t = await r.getItem(e);
  } catch {}
  return t;
}
function o1(r, e) {
  if (!r.includes(e)) return null;
  const t = r.split(/([&,?,=])/),
    i = t.indexOf(e);
  return t[i + 2];
}
function c1() {
  return typeof crypto < "u" && crypto != null && crypto.randomUUID
    ? crypto.randomUUID()
    : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu, (r) => {
        const e = (Math.random() * 16) | 0;
        return (r === "x" ? e : (e & 3) | 8).toString(16);
      });
}
function ld() {
  return typeof hi < "u" && Y7.IS_VITEST === "true";
}
function d9() {
  return (
    typeof window < "u" &&
    (!!window.TelegramWebviewProxy ||
      !!window.Telegram ||
      !!window.TelegramWebviewProxyProto)
  );
}
function p9(r, e = !1) {
  const t = Ki.from(r).toString("base64");
  return e ? t.replace(/[=]/g, "") : t;
}
function Vv(r) {
  return Ki.from(r, "base64").toString("utf-8");
}
var Gv =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof pt < "u"
    ? pt
    : typeof self < "u"
    ? self
    : {};
function g9(r) {
  var e = r.default;
  if (typeof e == "function") {
    var t = function () {
      return e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return (
    Object.defineProperty(t, "__esModule", { value: !0 }),
    Object.keys(r).forEach(function (i) {
      var n = Object.getOwnPropertyDescriptor(r, i);
      Object.defineProperty(
        t,
        i,
        n.get
          ? n
          : {
              enumerable: !0,
              get: function () {
                return r[i];
              },
            }
      );
    }),
    t
  );
}
var Wv = { exports: {} };
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */ (function (r) {
  (function () {
    var e = "input is invalid type",
      t = "finalize already called",
      i = typeof window == "object",
      n = i ? window : {};
    n.JS_SHA3_NO_WINDOW && (i = !1);
    var a = !i && typeof self == "object",
      f =
        !n.JS_SHA3_NO_NODE_JS &&
        typeof hi == "object" &&
        hi.versions &&
        hi.versions.node;
    f ? (n = Gv) : a && (n = self);
    var h = !n.JS_SHA3_NO_COMMON_JS && !0 && r.exports,
      b = !n.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u",
      v = "0123456789abcdef".split(""),
      y = [31, 7936, 2031616, 520093696],
      S = [4, 1024, 262144, 67108864],
      O = [1, 256, 65536, 16777216],
      P = [6, 1536, 393216, 100663296],
      C = [0, 8, 16, 24],
      H = [
        1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0,
        2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136,
        0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905,
        2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648,
        32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896,
        2147483648, 2147483649, 0, 2147516424, 2147483648,
      ],
      V = [224, 256, 384, 512],
      Q = [128, 256],
      j = ["hex", "buffer", "arrayBuffer", "array", "digest"],
      Y = { 128: 168, 256: 136 };
    (n.JS_SHA3_NO_NODE_JS || !Array.isArray) &&
      (Array.isArray = function (D) {
        return Object.prototype.toString.call(D) === "[object Array]";
      }),
      b &&
        (n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) &&
        (ArrayBuffer.isView = function (D) {
          return (
            typeof D == "object" &&
            D.buffer &&
            D.buffer.constructor === ArrayBuffer
          );
        });
    for (
      var U = function (D, ee, q) {
          return function (k) {
            return new N(D, ee, D).update(k)[q]();
          };
        },
        z = function (D, ee, q) {
          return function (k, K) {
            return new N(D, ee, K).update(k)[q]();
          };
        },
        G = function (D, ee, q) {
          return function (k, K, w, $) {
            return u["cshake" + D].update(k, K, w, $)[q]();
          };
        },
        A = function (D, ee, q) {
          return function (k, K, w, $) {
            return u["kmac" + D].update(k, K, w, $)[q]();
          };
        },
        F = function (D, ee, q, k) {
          for (var K = 0; K < j.length; ++K) {
            var w = j[K];
            D[w] = ee(q, k, w);
          }
          return D;
        },
        ae = function (D, ee) {
          var q = U(D, ee, "hex");
          return (
            (q.create = function () {
              return new N(D, ee, D);
            }),
            (q.update = function (k) {
              return q.create().update(k);
            }),
            F(q, U, D, ee)
          );
        },
        de = function (D, ee) {
          var q = z(D, ee, "hex");
          return (
            (q.create = function (k) {
              return new N(D, ee, k);
            }),
            (q.update = function (k, K) {
              return q.create(K).update(k);
            }),
            F(q, z, D, ee)
          );
        },
        B = function (D, ee) {
          var q = Y[D],
            k = G(D, ee, "hex");
          return (
            (k.create = function (K, w, $) {
              return !w && !$
                ? u["shake" + D].create(K)
                : new N(D, ee, K).bytepad([w, $], q);
            }),
            (k.update = function (K, w, $, ne) {
              return k.create(w, $, ne).update(K);
            }),
            F(k, G, D, ee)
          );
        },
        m = function (D, ee) {
          var q = Y[D],
            k = A(D, ee, "hex");
          return (
            (k.create = function (K, w, $) {
              return new Z(D, ee, w).bytepad(["KMAC", $], q).bytepad([K], q);
            }),
            (k.update = function (K, w, $, ne) {
              return k.create(K, $, ne).update(w);
            }),
            F(k, A, D, ee)
          );
        },
        c = [
          { name: "keccak", padding: O, bits: V, createMethod: ae },
          { name: "sha3", padding: P, bits: V, createMethod: ae },
          { name: "shake", padding: y, bits: Q, createMethod: de },
          { name: "cshake", padding: S, bits: Q, createMethod: B },
          { name: "kmac", padding: S, bits: Q, createMethod: m },
        ],
        u = {},
        g = [],
        _ = 0;
      _ < c.length;
      ++_
    )
      for (var I = c[_], x = I.bits, M = 0; M < x.length; ++M) {
        var d = I.name + "_" + x[M];
        if (
          (g.push(d),
          (u[d] = I.createMethod(x[M], I.padding)),
          I.name !== "sha3")
        ) {
          var p = I.name + x[M];
          g.push(p), (u[p] = u[d]);
        }
      }
    function N(D, ee, q) {
      (this.blocks = []),
        (this.s = []),
        (this.padding = ee),
        (this.outputBits = q),
        (this.reset = !0),
        (this.finalized = !1),
        (this.block = 0),
        (this.start = 0),
        (this.blockCount = (1600 - (D << 1)) >> 5),
        (this.byteCount = this.blockCount << 2),
        (this.outputBlocks = q >> 5),
        (this.extraBytes = (q & 31) >> 3);
      for (var k = 0; k < 50; ++k) this.s[k] = 0;
    }
    (N.prototype.update = function (D) {
      if (this.finalized) throw new Error(t);
      var ee,
        q = typeof D;
      if (q !== "string") {
        if (q === "object") {
          if (D === null) throw new Error(e);
          if (b && D.constructor === ArrayBuffer) D = new Uint8Array(D);
          else if (!Array.isArray(D) && (!b || !ArrayBuffer.isView(D)))
            throw new Error(e);
        } else throw new Error(e);
        ee = !0;
      }
      for (
        var k = this.blocks,
          K = this.byteCount,
          w = D.length,
          $ = this.blockCount,
          ne = 0,
          ce = this.s,
          ue,
          ye;
        ne < w;

      ) {
        if (this.reset)
          for (this.reset = !1, k[0] = this.block, ue = 1; ue < $ + 1; ++ue)
            k[ue] = 0;
        if (ee)
          for (ue = this.start; ne < w && ue < K; ++ne)
            k[ue >> 2] |= D[ne] << C[ue++ & 3];
        else
          for (ue = this.start; ne < w && ue < K; ++ne)
            (ye = D.charCodeAt(ne)),
              ye < 128
                ? (k[ue >> 2] |= ye << C[ue++ & 3])
                : ye < 2048
                ? ((k[ue >> 2] |= (192 | (ye >> 6)) << C[ue++ & 3]),
                  (k[ue >> 2] |= (128 | (ye & 63)) << C[ue++ & 3]))
                : ye < 55296 || ye >= 57344
                ? ((k[ue >> 2] |= (224 | (ye >> 12)) << C[ue++ & 3]),
                  (k[ue >> 2] |= (128 | ((ye >> 6) & 63)) << C[ue++ & 3]),
                  (k[ue >> 2] |= (128 | (ye & 63)) << C[ue++ & 3]))
                : ((ye =
                    65536 +
                    (((ye & 1023) << 10) | (D.charCodeAt(++ne) & 1023))),
                  (k[ue >> 2] |= (240 | (ye >> 18)) << C[ue++ & 3]),
                  (k[ue >> 2] |= (128 | ((ye >> 12) & 63)) << C[ue++ & 3]),
                  (k[ue >> 2] |= (128 | ((ye >> 6) & 63)) << C[ue++ & 3]),
                  (k[ue >> 2] |= (128 | (ye & 63)) << C[ue++ & 3]));
        if (((this.lastByteIndex = ue), ue >= K)) {
          for (this.start = ue - K, this.block = k[$], ue = 0; ue < $; ++ue)
            ce[ue] ^= k[ue];
          se(ce), (this.reset = !0);
        } else this.start = ue;
      }
      return this;
    }),
      (N.prototype.encode = function (D, ee) {
        var q = D & 255,
          k = 1,
          K = [q];
        for (D = D >> 8, q = D & 255; q > 0; )
          K.unshift(q), (D = D >> 8), (q = D & 255), ++k;
        return ee ? K.push(k) : K.unshift(k), this.update(K), K.length;
      }),
      (N.prototype.encodeString = function (D) {
        var ee,
          q = typeof D;
        if (q !== "string") {
          if (q === "object") {
            if (D === null) throw new Error(e);
            if (b && D.constructor === ArrayBuffer) D = new Uint8Array(D);
            else if (!Array.isArray(D) && (!b || !ArrayBuffer.isView(D)))
              throw new Error(e);
          } else throw new Error(e);
          ee = !0;
        }
        var k = 0,
          K = D.length;
        if (ee) k = K;
        else
          for (var w = 0; w < D.length; ++w) {
            var $ = D.charCodeAt(w);
            $ < 128
              ? (k += 1)
              : $ < 2048
              ? (k += 2)
              : $ < 55296 || $ >= 57344
              ? (k += 3)
              : (($ =
                  65536 + ((($ & 1023) << 10) | (D.charCodeAt(++w) & 1023))),
                (k += 4));
          }
        return (k += this.encode(k * 8)), this.update(D), k;
      }),
      (N.prototype.bytepad = function (D, ee) {
        for (var q = this.encode(ee), k = 0; k < D.length; ++k)
          q += this.encodeString(D[k]);
        var K = ee - (q % ee),
          w = [];
        return (w.length = K), this.update(w), this;
      }),
      (N.prototype.finalize = function () {
        if (!this.finalized) {
          this.finalized = !0;
          var D = this.blocks,
            ee = this.lastByteIndex,
            q = this.blockCount,
            k = this.s;
          if (
            ((D[ee >> 2] |= this.padding[ee & 3]),
            this.lastByteIndex === this.byteCount)
          )
            for (D[0] = D[q], ee = 1; ee < q + 1; ++ee) D[ee] = 0;
          for (D[q - 1] |= 2147483648, ee = 0; ee < q; ++ee) k[ee] ^= D[ee];
          se(k);
        }
      }),
      (N.prototype.toString = N.prototype.hex =
        function () {
          this.finalize();
          for (
            var D = this.blockCount,
              ee = this.s,
              q = this.outputBlocks,
              k = this.extraBytes,
              K = 0,
              w = 0,
              $ = "",
              ne;
            w < q;

          ) {
            for (K = 0; K < D && w < q; ++K, ++w)
              (ne = ee[K]),
                ($ +=
                  v[(ne >> 4) & 15] +
                  v[ne & 15] +
                  v[(ne >> 12) & 15] +
                  v[(ne >> 8) & 15] +
                  v[(ne >> 20) & 15] +
                  v[(ne >> 16) & 15] +
                  v[(ne >> 28) & 15] +
                  v[(ne >> 24) & 15]);
            w % D === 0 && (se(ee), (K = 0));
          }
          return (
            k &&
              ((ne = ee[K]),
              ($ += v[(ne >> 4) & 15] + v[ne & 15]),
              k > 1 && ($ += v[(ne >> 12) & 15] + v[(ne >> 8) & 15]),
              k > 2 && ($ += v[(ne >> 20) & 15] + v[(ne >> 16) & 15])),
            $
          );
        }),
      (N.prototype.arrayBuffer = function () {
        this.finalize();
        var D = this.blockCount,
          ee = this.s,
          q = this.outputBlocks,
          k = this.extraBytes,
          K = 0,
          w = 0,
          $ = this.outputBits >> 3,
          ne;
        k ? (ne = new ArrayBuffer((q + 1) << 2)) : (ne = new ArrayBuffer($));
        for (var ce = new Uint32Array(ne); w < q; ) {
          for (K = 0; K < D && w < q; ++K, ++w) ce[w] = ee[K];
          w % D === 0 && se(ee);
        }
        return k && ((ce[K] = ee[K]), (ne = ne.slice(0, $))), ne;
      }),
      (N.prototype.buffer = N.prototype.arrayBuffer),
      (N.prototype.digest = N.prototype.array =
        function () {
          this.finalize();
          for (
            var D = this.blockCount,
              ee = this.s,
              q = this.outputBlocks,
              k = this.extraBytes,
              K = 0,
              w = 0,
              $ = [],
              ne,
              ce;
            w < q;

          ) {
            for (K = 0; K < D && w < q; ++K, ++w)
              (ne = w << 2),
                (ce = ee[K]),
                ($[ne] = ce & 255),
                ($[ne + 1] = (ce >> 8) & 255),
                ($[ne + 2] = (ce >> 16) & 255),
                ($[ne + 3] = (ce >> 24) & 255);
            w % D === 0 && se(ee);
          }
          return (
            k &&
              ((ne = w << 2),
              (ce = ee[K]),
              ($[ne] = ce & 255),
              k > 1 && ($[ne + 1] = (ce >> 8) & 255),
              k > 2 && ($[ne + 2] = (ce >> 16) & 255)),
            $
          );
        });
    function Z(D, ee, q) {
      N.call(this, D, ee, q);
    }
    (Z.prototype = new N()),
      (Z.prototype.finalize = function () {
        return (
          this.encode(this.outputBits, !0), N.prototype.finalize.call(this)
        );
      });
    var se = function (D) {
      var ee,
        q,
        k,
        K,
        w,
        $,
        ne,
        ce,
        ue,
        ye,
        we,
        Re,
        Qe,
        Pe,
        Ne,
        Ie,
        me,
        Oe,
        Te,
        ve,
        Ce,
        Me,
        be,
        Le,
        xe,
        _e,
        He,
        Ve,
        Ee,
        Ke,
        ht,
        Ge,
        At,
        lt,
        Je,
        St,
        xt,
        Fe,
        Xe,
        tt,
        Be,
        et,
        Ze,
        $e,
        ft,
        rt,
        je,
        it,
        st,
        qe,
        Ye,
        ut,
        ze,
        Nt,
        Tt,
        at,
        mt,
        Nr,
        Tr,
        Fr,
        Br,
        qr,
        er;
      for (k = 0; k < 48; k += 2)
        (K = D[0] ^ D[10] ^ D[20] ^ D[30] ^ D[40]),
          (w = D[1] ^ D[11] ^ D[21] ^ D[31] ^ D[41]),
          ($ = D[2] ^ D[12] ^ D[22] ^ D[32] ^ D[42]),
          (ne = D[3] ^ D[13] ^ D[23] ^ D[33] ^ D[43]),
          (ce = D[4] ^ D[14] ^ D[24] ^ D[34] ^ D[44]),
          (ue = D[5] ^ D[15] ^ D[25] ^ D[35] ^ D[45]),
          (ye = D[6] ^ D[16] ^ D[26] ^ D[36] ^ D[46]),
          (we = D[7] ^ D[17] ^ D[27] ^ D[37] ^ D[47]),
          (Re = D[8] ^ D[18] ^ D[28] ^ D[38] ^ D[48]),
          (Qe = D[9] ^ D[19] ^ D[29] ^ D[39] ^ D[49]),
          (ee = Re ^ (($ << 1) | (ne >>> 31))),
          (q = Qe ^ ((ne << 1) | ($ >>> 31))),
          (D[0] ^= ee),
          (D[1] ^= q),
          (D[10] ^= ee),
          (D[11] ^= q),
          (D[20] ^= ee),
          (D[21] ^= q),
          (D[30] ^= ee),
          (D[31] ^= q),
          (D[40] ^= ee),
          (D[41] ^= q),
          (ee = K ^ ((ce << 1) | (ue >>> 31))),
          (q = w ^ ((ue << 1) | (ce >>> 31))),
          (D[2] ^= ee),
          (D[3] ^= q),
          (D[12] ^= ee),
          (D[13] ^= q),
          (D[22] ^= ee),
          (D[23] ^= q),
          (D[32] ^= ee),
          (D[33] ^= q),
          (D[42] ^= ee),
          (D[43] ^= q),
          (ee = $ ^ ((ye << 1) | (we >>> 31))),
          (q = ne ^ ((we << 1) | (ye >>> 31))),
          (D[4] ^= ee),
          (D[5] ^= q),
          (D[14] ^= ee),
          (D[15] ^= q),
          (D[24] ^= ee),
          (D[25] ^= q),
          (D[34] ^= ee),
          (D[35] ^= q),
          (D[44] ^= ee),
          (D[45] ^= q),
          (ee = ce ^ ((Re << 1) | (Qe >>> 31))),
          (q = ue ^ ((Qe << 1) | (Re >>> 31))),
          (D[6] ^= ee),
          (D[7] ^= q),
          (D[16] ^= ee),
          (D[17] ^= q),
          (D[26] ^= ee),
          (D[27] ^= q),
          (D[36] ^= ee),
          (D[37] ^= q),
          (D[46] ^= ee),
          (D[47] ^= q),
          (ee = ye ^ ((K << 1) | (w >>> 31))),
          (q = we ^ ((w << 1) | (K >>> 31))),
          (D[8] ^= ee),
          (D[9] ^= q),
          (D[18] ^= ee),
          (D[19] ^= q),
          (D[28] ^= ee),
          (D[29] ^= q),
          (D[38] ^= ee),
          (D[39] ^= q),
          (D[48] ^= ee),
          (D[49] ^= q),
          (Pe = D[0]),
          (Ne = D[1]),
          (rt = (D[11] << 4) | (D[10] >>> 28)),
          (je = (D[10] << 4) | (D[11] >>> 28)),
          (Ve = (D[20] << 3) | (D[21] >>> 29)),
          (Ee = (D[21] << 3) | (D[20] >>> 29)),
          (Fr = (D[31] << 9) | (D[30] >>> 23)),
          (Br = (D[30] << 9) | (D[31] >>> 23)),
          (et = (D[40] << 18) | (D[41] >>> 14)),
          (Ze = (D[41] << 18) | (D[40] >>> 14)),
          (lt = (D[2] << 1) | (D[3] >>> 31)),
          (Je = (D[3] << 1) | (D[2] >>> 31)),
          (Ie = (D[13] << 12) | (D[12] >>> 20)),
          (me = (D[12] << 12) | (D[13] >>> 20)),
          (it = (D[22] << 10) | (D[23] >>> 22)),
          (st = (D[23] << 10) | (D[22] >>> 22)),
          (Ke = (D[33] << 13) | (D[32] >>> 19)),
          (ht = (D[32] << 13) | (D[33] >>> 19)),
          (qr = (D[42] << 2) | (D[43] >>> 30)),
          (er = (D[43] << 2) | (D[42] >>> 30)),
          (Nt = (D[5] << 30) | (D[4] >>> 2)),
          (Tt = (D[4] << 30) | (D[5] >>> 2)),
          (St = (D[14] << 6) | (D[15] >>> 26)),
          (xt = (D[15] << 6) | (D[14] >>> 26)),
          (Oe = (D[25] << 11) | (D[24] >>> 21)),
          (Te = (D[24] << 11) | (D[25] >>> 21)),
          (qe = (D[34] << 15) | (D[35] >>> 17)),
          (Ye = (D[35] << 15) | (D[34] >>> 17)),
          (Ge = (D[45] << 29) | (D[44] >>> 3)),
          (At = (D[44] << 29) | (D[45] >>> 3)),
          (Le = (D[6] << 28) | (D[7] >>> 4)),
          (xe = (D[7] << 28) | (D[6] >>> 4)),
          (at = (D[17] << 23) | (D[16] >>> 9)),
          (mt = (D[16] << 23) | (D[17] >>> 9)),
          (Fe = (D[26] << 25) | (D[27] >>> 7)),
          (Xe = (D[27] << 25) | (D[26] >>> 7)),
          (ve = (D[36] << 21) | (D[37] >>> 11)),
          (Ce = (D[37] << 21) | (D[36] >>> 11)),
          (ut = (D[47] << 24) | (D[46] >>> 8)),
          (ze = (D[46] << 24) | (D[47] >>> 8)),
          ($e = (D[8] << 27) | (D[9] >>> 5)),
          (ft = (D[9] << 27) | (D[8] >>> 5)),
          (_e = (D[18] << 20) | (D[19] >>> 12)),
          (He = (D[19] << 20) | (D[18] >>> 12)),
          (Nr = (D[29] << 7) | (D[28] >>> 25)),
          (Tr = (D[28] << 7) | (D[29] >>> 25)),
          (tt = (D[38] << 8) | (D[39] >>> 24)),
          (Be = (D[39] << 8) | (D[38] >>> 24)),
          (Me = (D[48] << 14) | (D[49] >>> 18)),
          (be = (D[49] << 14) | (D[48] >>> 18)),
          (D[0] = Pe ^ (~Ie & Oe)),
          (D[1] = Ne ^ (~me & Te)),
          (D[10] = Le ^ (~_e & Ve)),
          (D[11] = xe ^ (~He & Ee)),
          (D[20] = lt ^ (~St & Fe)),
          (D[21] = Je ^ (~xt & Xe)),
          (D[30] = $e ^ (~rt & it)),
          (D[31] = ft ^ (~je & st)),
          (D[40] = Nt ^ (~at & Nr)),
          (D[41] = Tt ^ (~mt & Tr)),
          (D[2] = Ie ^ (~Oe & ve)),
          (D[3] = me ^ (~Te & Ce)),
          (D[12] = _e ^ (~Ve & Ke)),
          (D[13] = He ^ (~Ee & ht)),
          (D[22] = St ^ (~Fe & tt)),
          (D[23] = xt ^ (~Xe & Be)),
          (D[32] = rt ^ (~it & qe)),
          (D[33] = je ^ (~st & Ye)),
          (D[42] = at ^ (~Nr & Fr)),
          (D[43] = mt ^ (~Tr & Br)),
          (D[4] = Oe ^ (~ve & Me)),
          (D[5] = Te ^ (~Ce & be)),
          (D[14] = Ve ^ (~Ke & Ge)),
          (D[15] = Ee ^ (~ht & At)),
          (D[24] = Fe ^ (~tt & et)),
          (D[25] = Xe ^ (~Be & Ze)),
          (D[34] = it ^ (~qe & ut)),
          (D[35] = st ^ (~Ye & ze)),
          (D[44] = Nr ^ (~Fr & qr)),
          (D[45] = Tr ^ (~Br & er)),
          (D[6] = ve ^ (~Me & Pe)),
          (D[7] = Ce ^ (~be & Ne)),
          (D[16] = Ke ^ (~Ge & Le)),
          (D[17] = ht ^ (~At & xe)),
          (D[26] = tt ^ (~et & lt)),
          (D[27] = Be ^ (~Ze & Je)),
          (D[36] = qe ^ (~ut & $e)),
          (D[37] = Ye ^ (~ze & ft)),
          (D[46] = Fr ^ (~qr & Nt)),
          (D[47] = Br ^ (~er & Tt)),
          (D[8] = Me ^ (~Pe & Ie)),
          (D[9] = be ^ (~Ne & me)),
          (D[18] = Ge ^ (~Le & _e)),
          (D[19] = At ^ (~xe & He)),
          (D[28] = et ^ (~lt & St)),
          (D[29] = Ze ^ (~Je & xt)),
          (D[38] = ut ^ (~$e & rt)),
          (D[39] = ze ^ (~ft & je)),
          (D[48] = qr ^ (~Nt & at)),
          (D[49] = er ^ (~Tt & mt)),
          (D[0] ^= H[k]),
          (D[1] ^= H[k + 1]);
    };
    if (h) r.exports = u;
    else for (_ = 0; _ < g.length; ++_) n[g[_]] = u[g[_]];
  })();
})(Wv);
var v9 = Wv.exports;
const b9 = "logger/5.7.0";
let f1 = !1,
  u1 = !1;
const Of = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let h1 = Of.default,
  Gh = null;
function m9() {
  try {
    const r = [];
    if (
      (["NFD", "NFC", "NFKD", "NFKC"].forEach((e) => {
        try {
          if ("test".normalize(e) !== "test") throw new Error("bad normalize");
        } catch {
          r.push(e);
        }
      }),
      r.length)
    )
      throw new Error("missing " + r.join(", "));
    if ("é".normalize("NFD") !== "é") throw new Error("broken implementation");
  } catch (r) {
    return r.message;
  }
  return null;
}
const l1 = m9();
var Tl;
(function (r) {
  (r.DEBUG = "DEBUG"),
    (r.INFO = "INFO"),
    (r.WARNING = "WARNING"),
    (r.ERROR = "ERROR"),
    (r.OFF = "OFF");
})(Tl || (Tl = {}));
var dn;
(function (r) {
  (r.UNKNOWN_ERROR = "UNKNOWN_ERROR"),
    (r.NOT_IMPLEMENTED = "NOT_IMPLEMENTED"),
    (r.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION"),
    (r.NETWORK_ERROR = "NETWORK_ERROR"),
    (r.SERVER_ERROR = "SERVER_ERROR"),
    (r.TIMEOUT = "TIMEOUT"),
    (r.BUFFER_OVERRUN = "BUFFER_OVERRUN"),
    (r.NUMERIC_FAULT = "NUMERIC_FAULT"),
    (r.MISSING_NEW = "MISSING_NEW"),
    (r.INVALID_ARGUMENT = "INVALID_ARGUMENT"),
    (r.MISSING_ARGUMENT = "MISSING_ARGUMENT"),
    (r.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT"),
    (r.CALL_EXCEPTION = "CALL_EXCEPTION"),
    (r.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS"),
    (r.NONCE_EXPIRED = "NONCE_EXPIRED"),
    (r.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED"),
    (r.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT"),
    (r.TRANSACTION_REPLACED = "TRANSACTION_REPLACED"),
    (r.ACTION_REJECTED = "ACTION_REJECTED");
})(dn || (dn = {}));
const d1 = "0123456789abcdef";
let Pr = class gr {
  constructor(e) {
    Object.defineProperty(this, "version", {
      enumerable: !0,
      value: e,
      writable: !1,
    });
  }
  _log(e, t) {
    const i = e.toLowerCase();
    Of[i] == null &&
      this.throwArgumentError("invalid log level name", "logLevel", e),
      h1 > Of[i];
  }
  debug(...e) {
    this._log(gr.levels.DEBUG, e);
  }
  info(...e) {
    this._log(gr.levels.INFO, e);
  }
  warn(...e) {
    this._log(gr.levels.WARNING, e);
  }
  makeError(e, t, i) {
    if (u1) return this.makeError("censored error", t, {});
    t || (t = gr.errors.UNKNOWN_ERROR), i || (i = {});
    const n = [];
    Object.keys(i).forEach((b) => {
      const v = i[b];
      try {
        if (v instanceof Uint8Array) {
          let y = "";
          for (let S = 0; S < v.length; S++)
            (y += d1[v[S] >> 4]), (y += d1[v[S] & 15]);
          n.push(b + "=Uint8Array(0x" + y + ")");
        } else n.push(b + "=" + JSON.stringify(v));
      } catch {
        n.push(b + "=" + JSON.stringify(i[b].toString()));
      }
    }),
      n.push(`code=${t}`),
      n.push(`version=${this.version}`);
    const a = e;
    let f = "";
    switch (t) {
      case dn.NUMERIC_FAULT: {
        f = "NUMERIC_FAULT";
        const b = e;
        switch (b) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            f += "-" + b;
            break;
          case "negative-power":
          case "negative-width":
            f += "-unsupported";
            break;
          case "unbound-bitwise-result":
            f += "-unbound-result";
            break;
        }
        break;
      }
      case dn.CALL_EXCEPTION:
      case dn.INSUFFICIENT_FUNDS:
      case dn.MISSING_NEW:
      case dn.NONCE_EXPIRED:
      case dn.REPLACEMENT_UNDERPRICED:
      case dn.TRANSACTION_REPLACED:
      case dn.UNPREDICTABLE_GAS_LIMIT:
        f = t;
        break;
    }
    f && (e += " [ See: https://links.ethers.org/v5-errors-" + f + " ]"),
      n.length && (e += " (" + n.join(", ") + ")");
    const h = new Error(e);
    return (
      (h.reason = a),
      (h.code = t),
      Object.keys(i).forEach(function (b) {
        h[b] = i[b];
      }),
      h
    );
  }
  throwError(e, t, i) {
    throw this.makeError(e, t, i);
  }
  throwArgumentError(e, t, i) {
    return this.throwError(e, gr.errors.INVALID_ARGUMENT, {
      argument: t,
      value: i,
    });
  }
  assert(e, t, i, n) {
    e || this.throwError(t, i, n);
  }
  assertArgument(e, t, i, n) {
    e || this.throwArgumentError(t, i, n);
  }
  checkNormalize(e) {
    l1 &&
      this.throwError(
        "platform missing String.prototype.normalize",
        gr.errors.UNSUPPORTED_OPERATION,
        { operation: "String.prototype.normalize", form: l1 }
      );
  }
  checkSafeUint53(e, t) {
    typeof e == "number" &&
      (t == null && (t = "value not safe"),
      (e < 0 || e >= 9007199254740991) &&
        this.throwError(t, gr.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "out-of-safe-range",
          value: e,
        }),
      e % 1 &&
        this.throwError(t, gr.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "non-integer",
          value: e,
        }));
  }
  checkArgumentCount(e, t, i) {
    i ? (i = ": " + i) : (i = ""),
      e < t &&
        this.throwError("missing argument" + i, gr.errors.MISSING_ARGUMENT, {
          count: e,
          expectedCount: t,
        }),
      e > t &&
        this.throwError(
          "too many arguments" + i,
          gr.errors.UNEXPECTED_ARGUMENT,
          { count: e, expectedCount: t }
        );
  }
  checkNew(e, t) {
    (e === Object || e == null) &&
      this.throwError("missing new", gr.errors.MISSING_NEW, { name: t.name });
  }
  checkAbstract(e, t) {
    e === t
      ? this.throwError(
          "cannot instantiate abstract class " +
            JSON.stringify(t.name) +
            " directly; use a sub-class",
          gr.errors.UNSUPPORTED_OPERATION,
          { name: e.name, operation: "new" }
        )
      : (e === Object || e == null) &&
        this.throwError("missing new", gr.errors.MISSING_NEW, { name: t.name });
  }
  static globalLogger() {
    return Gh || (Gh = new gr(b9)), Gh;
  }
  static setCensorship(e, t) {
    if (
      (!e &&
        t &&
        this.globalLogger().throwError(
          "cannot permanently disable censorship",
          gr.errors.UNSUPPORTED_OPERATION,
          { operation: "setCensorship" }
        ),
      f1)
    ) {
      if (!e) return;
      this.globalLogger().throwError(
        "error censorship permanent",
        gr.errors.UNSUPPORTED_OPERATION,
        { operation: "setCensorship" }
      );
    }
    (u1 = !!e), (f1 = !!t);
  }
  static setLogLevel(e) {
    const t = Of[e.toLowerCase()];
    if (t == null) {
      gr.globalLogger().warn("invalid log level - " + e);
      return;
    }
    h1 = t;
  }
  static from(e) {
    return new gr(e);
  }
};
(Pr.errors = dn), (Pr.levels = Tl);
const y9 = "bytes/5.7.0",
  cr = new Pr(y9);
function Jv(r) {
  return !!r.toHexString;
}
function $a(r) {
  return (
    r.slice ||
      (r.slice = function () {
        const e = Array.prototype.slice.call(arguments);
        return $a(new Uint8Array(Array.prototype.slice.apply(r, e)));
      }),
    r
  );
}
function w9(r) {
  return (Ai(r) && !(r.length % 2)) || Ya(r);
}
function p1(r) {
  return typeof r == "number" && r == r && r % 1 === 0;
}
function Ya(r) {
  if (r == null) return !1;
  if (r.constructor === Uint8Array) return !0;
  if (typeof r == "string" || !p1(r.length) || r.length < 0) return !1;
  for (let e = 0; e < r.length; e++) {
    const t = r[e];
    if (!p1(t) || t < 0 || t >= 256) return !1;
  }
  return !0;
}
function ir(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    cr.checkSafeUint53(r, "invalid arrayify value");
    const t = [];
    for (; r; ) t.unshift(r & 255), (r = parseInt(String(r / 256)));
    return t.length === 0 && t.push(0), $a(new Uint8Array(t));
  }
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    Jv(r) && (r = r.toHexString()),
    Ai(r))
  ) {
    let t = r.substring(2);
    t.length % 2 &&
      (e.hexPad === "left"
        ? (t = "0" + t)
        : e.hexPad === "right"
        ? (t += "0")
        : cr.throwArgumentError("hex data is odd-length", "value", r));
    const i = [];
    for (let n = 0; n < t.length; n += 2)
      i.push(parseInt(t.substring(n, n + 2), 16));
    return $a(new Uint8Array(i));
  }
  return Ya(r)
    ? $a(new Uint8Array(r))
    : cr.throwArgumentError("invalid arrayify value", "value", r);
}
function _9(r) {
  const e = r.map((n) => ir(n)),
    t = e.reduce((n, a) => n + a.length, 0),
    i = new Uint8Array(t);
  return e.reduce((n, a) => (i.set(a, n), n + a.length), 0), $a(i);
}
function A9(r, e) {
  (r = ir(r)),
    r.length > e &&
      cr.throwArgumentError("value out of range", "value", arguments[0]);
  const t = new Uint8Array(e);
  return t.set(r, e - r.length), $a(t);
}
function Ai(r, e) {
  return !(
    typeof r != "string" ||
    !r.match(/^0x[0-9A-Fa-f]*$/) ||
    (e && r.length !== 2 + 2 * e)
  );
}
const Wh = "0123456789abcdef";
function fi(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    cr.checkSafeUint53(r, "invalid hexlify value");
    let t = "";
    for (; r; ) (t = Wh[r & 15] + t), (r = Math.floor(r / 16));
    return t.length ? (t.length % 2 && (t = "0" + t), "0x" + t) : "0x00";
  }
  if (typeof r == "bigint")
    return (r = r.toString(16)), r.length % 2 ? "0x0" + r : "0x" + r;
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    Jv(r))
  )
    return r.toHexString();
  if (Ai(r))
    return (
      r.length % 2 &&
        (e.hexPad === "left"
          ? (r = "0x0" + r.substring(2))
          : e.hexPad === "right"
          ? (r += "0")
          : cr.throwArgumentError("hex data is odd-length", "value", r)),
      r.toLowerCase()
    );
  if (Ya(r)) {
    let t = "0x";
    for (let i = 0; i < r.length; i++) {
      let n = r[i];
      t += Wh[(n & 240) >> 4] + Wh[n & 15];
    }
    return t;
  }
  return cr.throwArgumentError("invalid hexlify value", "value", r);
}
function E9(r) {
  if (typeof r != "string") r = fi(r);
  else if (!Ai(r) || r.length % 2) return null;
  return (r.length - 2) / 2;
}
function g1(r, e, t) {
  return (
    typeof r != "string"
      ? (r = fi(r))
      : (!Ai(r) || r.length % 2) &&
        cr.throwArgumentError("invalid hexData", "value", r),
    (e = 2 + 2 * e),
    t != null ? "0x" + r.substring(e, 2 + 2 * t) : "0x" + r.substring(e)
  );
}
function Nn(r, e) {
  for (
    typeof r != "string"
      ? (r = fi(r))
      : Ai(r) || cr.throwArgumentError("invalid hex string", "value", r),
      r.length > 2 * e + 2 &&
        cr.throwArgumentError("value out of range", "value", arguments[1]);
    r.length < 2 * e + 2;

  )
    r = "0x0" + r.substring(2);
  return r;
}
function Yv(r) {
  const e = {
    r: "0x",
    s: "0x",
    _vs: "0x",
    recoveryParam: 0,
    v: 0,
    yParityAndS: "0x",
    compact: "0x",
  };
  if (w9(r)) {
    let t = ir(r);
    t.length === 64
      ? ((e.v = 27 + (t[32] >> 7)),
        (t[32] &= 127),
        (e.r = fi(t.slice(0, 32))),
        (e.s = fi(t.slice(32, 64))))
      : t.length === 65
      ? ((e.r = fi(t.slice(0, 32))), (e.s = fi(t.slice(32, 64))), (e.v = t[64]))
      : cr.throwArgumentError("invalid signature string", "signature", r),
      e.v < 27 &&
        (e.v === 0 || e.v === 1
          ? (e.v += 27)
          : cr.throwArgumentError("signature invalid v byte", "signature", r)),
      (e.recoveryParam = 1 - (e.v % 2)),
      e.recoveryParam && (t[32] |= 128),
      (e._vs = fi(t.slice(32, 64)));
  } else {
    if (
      ((e.r = r.r),
      (e.s = r.s),
      (e.v = r.v),
      (e.recoveryParam = r.recoveryParam),
      (e._vs = r._vs),
      e._vs != null)
    ) {
      const n = A9(ir(e._vs), 32);
      e._vs = fi(n);
      const a = n[0] >= 128 ? 1 : 0;
      e.recoveryParam == null
        ? (e.recoveryParam = a)
        : e.recoveryParam !== a &&
          cr.throwArgumentError(
            "signature recoveryParam mismatch _vs",
            "signature",
            r
          ),
        (n[0] &= 127);
      const f = fi(n);
      e.s == null
        ? (e.s = f)
        : e.s !== f &&
          cr.throwArgumentError("signature v mismatch _vs", "signature", r);
    }
    if (e.recoveryParam == null)
      e.v == null
        ? cr.throwArgumentError(
            "signature missing v and recoveryParam",
            "signature",
            r
          )
        : e.v === 0 || e.v === 1
        ? (e.recoveryParam = e.v)
        : (e.recoveryParam = 1 - (e.v % 2));
    else if (e.v == null) e.v = 27 + e.recoveryParam;
    else {
      const n = e.v === 0 || e.v === 1 ? e.v : 1 - (e.v % 2);
      e.recoveryParam !== n &&
        cr.throwArgumentError(
          "signature recoveryParam mismatch v",
          "signature",
          r
        );
    }
    e.r == null || !Ai(e.r)
      ? cr.throwArgumentError("signature missing or invalid r", "signature", r)
      : (e.r = Nn(e.r, 32)),
      e.s == null || !Ai(e.s)
        ? cr.throwArgumentError(
            "signature missing or invalid s",
            "signature",
            r
          )
        : (e.s = Nn(e.s, 32));
    const t = ir(e.s);
    t[0] >= 128 &&
      cr.throwArgumentError("signature s out of range", "signature", r),
      e.recoveryParam && (t[0] |= 128);
    const i = fi(t);
    e._vs &&
      (Ai(e._vs) ||
        cr.throwArgumentError("signature invalid _vs", "signature", r),
      (e._vs = Nn(e._vs, 32))),
      e._vs == null
        ? (e._vs = i)
        : e._vs !== i &&
          cr.throwArgumentError(
            "signature _vs mismatch v and s",
            "signature",
            r
          );
  }
  return (
    (e.yParityAndS = e._vs), (e.compact = e.r + e.yParityAndS.substring(2)), e
  );
}
function dd(r) {
  return "0x" + v9.keccak_256(ir(r));
}
var Qv = { exports: {} },
  S9 = {},
  M9 = Object.freeze({ __proto__: null, default: S9 }),
  I9 = g9(M9);
(function (r) {
  (function (e, t) {
    function i(c, u) {
      if (!c) throw new Error(u || "Assertion failed");
    }
    function n(c, u) {
      c.super_ = u;
      var g = function () {};
      (g.prototype = u.prototype),
        (c.prototype = new g()),
        (c.prototype.constructor = c);
    }
    function a(c, u, g) {
      if (a.isBN(c)) return c;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        c !== null &&
          ((u === "le" || u === "be") && ((g = u), (u = 10)),
          this._init(c || 0, u || 10, g || "be"));
    }
    typeof e == "object" ? (e.exports = a) : (t.BN = a),
      (a.BN = a),
      (a.wordSize = 26);
    var f;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (f = window.Buffer)
        : (f = I9.Buffer);
    } catch {}
    (a.isBN = function (c) {
      return c instanceof a
        ? !0
        : c !== null &&
            typeof c == "object" &&
            c.constructor.wordSize === a.wordSize &&
            Array.isArray(c.words);
    }),
      (a.max = function (c, u) {
        return c.cmp(u) > 0 ? c : u;
      }),
      (a.min = function (c, u) {
        return c.cmp(u) < 0 ? c : u;
      }),
      (a.prototype._init = function (c, u, g) {
        if (typeof c == "number") return this._initNumber(c, u, g);
        if (typeof c == "object") return this._initArray(c, u, g);
        u === "hex" && (u = 16),
          i(u === (u | 0) && u >= 2 && u <= 36),
          (c = c.toString().replace(/\s+/g, ""));
        var _ = 0;
        c[0] === "-" && (_++, (this.negative = 1)),
          _ < c.length &&
            (u === 16
              ? this._parseHex(c, _, g)
              : (this._parseBase(c, u, _),
                g === "le" && this._initArray(this.toArray(), u, g)));
      }),
      (a.prototype._initNumber = function (c, u, g) {
        c < 0 && ((this.negative = 1), (c = -c)),
          c < 67108864
            ? ((this.words = [c & 67108863]), (this.length = 1))
            : c < 4503599627370496
            ? ((this.words = [c & 67108863, (c / 67108864) & 67108863]),
              (this.length = 2))
            : (i(c < 9007199254740992),
              (this.words = [c & 67108863, (c / 67108864) & 67108863, 1]),
              (this.length = 3)),
          g === "le" && this._initArray(this.toArray(), u, g);
      }),
      (a.prototype._initArray = function (c, u, g) {
        if ((i(typeof c.length == "number"), c.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(c.length / 3)),
          (this.words = new Array(this.length));
        for (var _ = 0; _ < this.length; _++) this.words[_] = 0;
        var I,
          x,
          M = 0;
        if (g === "be")
          for (_ = c.length - 1, I = 0; _ >= 0; _ -= 3)
            (x = c[_] | (c[_ - 1] << 8) | (c[_ - 2] << 16)),
              (this.words[I] |= (x << M) & 67108863),
              (this.words[I + 1] = (x >>> (26 - M)) & 67108863),
              (M += 24),
              M >= 26 && ((M -= 26), I++);
        else if (g === "le")
          for (_ = 0, I = 0; _ < c.length; _ += 3)
            (x = c[_] | (c[_ + 1] << 8) | (c[_ + 2] << 16)),
              (this.words[I] |= (x << M) & 67108863),
              (this.words[I + 1] = (x >>> (26 - M)) & 67108863),
              (M += 24),
              M >= 26 && ((M -= 26), I++);
        return this._strip();
      });
    function h(c, u) {
      var g = c.charCodeAt(u);
      if (g >= 48 && g <= 57) return g - 48;
      if (g >= 65 && g <= 70) return g - 55;
      if (g >= 97 && g <= 102) return g - 87;
      i(!1, "Invalid character in " + c);
    }
    function b(c, u, g) {
      var _ = h(c, g);
      return g - 1 >= u && (_ |= h(c, g - 1) << 4), _;
    }
    a.prototype._parseHex = function (c, u, g) {
      (this.length = Math.ceil((c.length - u) / 6)),
        (this.words = new Array(this.length));
      for (var _ = 0; _ < this.length; _++) this.words[_] = 0;
      var I = 0,
        x = 0,
        M;
      if (g === "be")
        for (_ = c.length - 1; _ >= u; _ -= 2)
          (M = b(c, u, _) << I),
            (this.words[x] |= M & 67108863),
            I >= 18
              ? ((I -= 18), (x += 1), (this.words[x] |= M >>> 26))
              : (I += 8);
      else {
        var d = c.length - u;
        for (_ = d % 2 === 0 ? u + 1 : u; _ < c.length; _ += 2)
          (M = b(c, u, _) << I),
            (this.words[x] |= M & 67108863),
            I >= 18
              ? ((I -= 18), (x += 1), (this.words[x] |= M >>> 26))
              : (I += 8);
      }
      this._strip();
    };
    function v(c, u, g, _) {
      for (var I = 0, x = 0, M = Math.min(c.length, g), d = u; d < M; d++) {
        var p = c.charCodeAt(d) - 48;
        (I *= _),
          p >= 49 ? (x = p - 49 + 10) : p >= 17 ? (x = p - 17 + 10) : (x = p),
          i(p >= 0 && x < _, "Invalid character"),
          (I += x);
      }
      return I;
    }
    (a.prototype._parseBase = function (c, u, g) {
      (this.words = [0]), (this.length = 1);
      for (var _ = 0, I = 1; I <= 67108863; I *= u) _++;
      _--, (I = (I / u) | 0);
      for (
        var x = c.length - g,
          M = x % _,
          d = Math.min(x, x - M) + g,
          p = 0,
          N = g;
        N < d;
        N += _
      )
        (p = v(c, N, N + _, u)),
          this.imuln(I),
          this.words[0] + p < 67108864 ? (this.words[0] += p) : this._iaddn(p);
      if (M !== 0) {
        var Z = 1;
        for (p = v(c, N, c.length, u), N = 0; N < M; N++) Z *= u;
        this.imuln(Z),
          this.words[0] + p < 67108864 ? (this.words[0] += p) : this._iaddn(p);
      }
      this._strip();
    }),
      (a.prototype.copy = function (c) {
        c.words = new Array(this.length);
        for (var u = 0; u < this.length; u++) c.words[u] = this.words[u];
        (c.length = this.length),
          (c.negative = this.negative),
          (c.red = this.red);
      });
    function y(c, u) {
      (c.words = u.words),
        (c.length = u.length),
        (c.negative = u.negative),
        (c.red = u.red);
    }
    if (
      ((a.prototype._move = function (c) {
        y(c, this);
      }),
      (a.prototype.clone = function () {
        var c = new a(null);
        return this.copy(c), c;
      }),
      (a.prototype._expand = function (c) {
        for (; this.length < c; ) this.words[this.length++] = 0;
        return this;
      }),
      (a.prototype._strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (a.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      typeof Symbol < "u" && typeof Symbol.for == "function")
    )
      try {
        a.prototype[Symbol.for("nodejs.util.inspect.custom")] = S;
      } catch {
        a.prototype.inspect = S;
      }
    else a.prototype.inspect = S;
    function S() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var O = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      P = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      C = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (a.prototype.toString = function (c, u) {
      (c = c || 10), (u = u | 0 || 1);
      var g;
      if (c === 16 || c === "hex") {
        g = "";
        for (var _ = 0, I = 0, x = 0; x < this.length; x++) {
          var M = this.words[x],
            d = (((M << _) | I) & 16777215).toString(16);
          (I = (M >>> (24 - _)) & 16777215),
            (_ += 2),
            _ >= 26 && ((_ -= 26), x--),
            I !== 0 || x !== this.length - 1
              ? (g = O[6 - d.length] + d + g)
              : (g = d + g);
        }
        for (I !== 0 && (g = I.toString(16) + g); g.length % u !== 0; )
          g = "0" + g;
        return this.negative !== 0 && (g = "-" + g), g;
      }
      if (c === (c | 0) && c >= 2 && c <= 36) {
        var p = P[c],
          N = C[c];
        g = "";
        var Z = this.clone();
        for (Z.negative = 0; !Z.isZero(); ) {
          var se = Z.modrn(N).toString(c);
          (Z = Z.idivn(N)),
            Z.isZero() ? (g = se + g) : (g = O[p - se.length] + se + g);
        }
        for (this.isZero() && (g = "0" + g); g.length % u !== 0; ) g = "0" + g;
        return this.negative !== 0 && (g = "-" + g), g;
      }
      i(!1, "Base should be between 2 and 36");
    }),
      (a.prototype.toNumber = function () {
        var c = this.words[0];
        return (
          this.length === 2
            ? (c += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
            ? (c += 4503599627370496 + this.words[1] * 67108864)
            : this.length > 2 &&
              i(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -c : c
        );
      }),
      (a.prototype.toJSON = function () {
        return this.toString(16, 2);
      }),
      f &&
        (a.prototype.toBuffer = function (c, u) {
          return this.toArrayLike(f, c, u);
        }),
      (a.prototype.toArray = function (c, u) {
        return this.toArrayLike(Array, c, u);
      });
    var H = function (c, u) {
      return c.allocUnsafe ? c.allocUnsafe(u) : new c(u);
    };
    (a.prototype.toArrayLike = function (c, u, g) {
      this._strip();
      var _ = this.byteLength(),
        I = g || Math.max(1, _);
      i(_ <= I, "byte array longer than desired length"),
        i(I > 0, "Requested array length <= 0");
      var x = H(c, I),
        M = u === "le" ? "LE" : "BE";
      return this["_toArrayLike" + M](x, _), x;
    }),
      (a.prototype._toArrayLikeLE = function (c, u) {
        for (var g = 0, _ = 0, I = 0, x = 0; I < this.length; I++) {
          var M = (this.words[I] << x) | _;
          (c[g++] = M & 255),
            g < c.length && (c[g++] = (M >> 8) & 255),
            g < c.length && (c[g++] = (M >> 16) & 255),
            x === 6
              ? (g < c.length && (c[g++] = (M >> 24) & 255), (_ = 0), (x = 0))
              : ((_ = M >>> 24), (x += 2));
        }
        if (g < c.length) for (c[g++] = _; g < c.length; ) c[g++] = 0;
      }),
      (a.prototype._toArrayLikeBE = function (c, u) {
        for (var g = c.length - 1, _ = 0, I = 0, x = 0; I < this.length; I++) {
          var M = (this.words[I] << x) | _;
          (c[g--] = M & 255),
            g >= 0 && (c[g--] = (M >> 8) & 255),
            g >= 0 && (c[g--] = (M >> 16) & 255),
            x === 6
              ? (g >= 0 && (c[g--] = (M >> 24) & 255), (_ = 0), (x = 0))
              : ((_ = M >>> 24), (x += 2));
        }
        if (g >= 0) for (c[g--] = _; g >= 0; ) c[g--] = 0;
      }),
      Math.clz32
        ? (a.prototype._countBits = function (c) {
            return 32 - Math.clz32(c);
          })
        : (a.prototype._countBits = function (c) {
            var u = c,
              g = 0;
            return (
              u >= 4096 && ((g += 13), (u >>>= 13)),
              u >= 64 && ((g += 7), (u >>>= 7)),
              u >= 8 && ((g += 4), (u >>>= 4)),
              u >= 2 && ((g += 2), (u >>>= 2)),
              g + u
            );
          }),
      (a.prototype._zeroBits = function (c) {
        if (c === 0) return 26;
        var u = c,
          g = 0;
        return (
          u & 8191 || ((g += 13), (u >>>= 13)),
          u & 127 || ((g += 7), (u >>>= 7)),
          u & 15 || ((g += 4), (u >>>= 4)),
          u & 3 || ((g += 2), (u >>>= 2)),
          u & 1 || g++,
          g
        );
      }),
      (a.prototype.bitLength = function () {
        var c = this.words[this.length - 1],
          u = this._countBits(c);
        return (this.length - 1) * 26 + u;
      });
    function V(c) {
      for (var u = new Array(c.bitLength()), g = 0; g < u.length; g++) {
        var _ = (g / 26) | 0,
          I = g % 26;
        u[g] = (c.words[_] >>> I) & 1;
      }
      return u;
    }
    (a.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var c = 0, u = 0; u < this.length; u++) {
        var g = this._zeroBits(this.words[u]);
        if (((c += g), g !== 26)) break;
      }
      return c;
    }),
      (a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (a.prototype.toTwos = function (c) {
        return this.negative !== 0
          ? this.abs().inotn(c).iaddn(1)
          : this.clone();
      }),
      (a.prototype.fromTwos = function (c) {
        return this.testn(c - 1) ? this.notn(c).iaddn(1).ineg() : this.clone();
      }),
      (a.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (a.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (a.prototype.iuor = function (c) {
        for (; this.length < c.length; ) this.words[this.length++] = 0;
        for (var u = 0; u < c.length; u++)
          this.words[u] = this.words[u] | c.words[u];
        return this._strip();
      }),
      (a.prototype.ior = function (c) {
        return i((this.negative | c.negative) === 0), this.iuor(c);
      }),
      (a.prototype.or = function (c) {
        return this.length > c.length
          ? this.clone().ior(c)
          : c.clone().ior(this);
      }),
      (a.prototype.uor = function (c) {
        return this.length > c.length
          ? this.clone().iuor(c)
          : c.clone().iuor(this);
      }),
      (a.prototype.iuand = function (c) {
        var u;
        this.length > c.length ? (u = c) : (u = this);
        for (var g = 0; g < u.length; g++)
          this.words[g] = this.words[g] & c.words[g];
        return (this.length = u.length), this._strip();
      }),
      (a.prototype.iand = function (c) {
        return i((this.negative | c.negative) === 0), this.iuand(c);
      }),
      (a.prototype.and = function (c) {
        return this.length > c.length
          ? this.clone().iand(c)
          : c.clone().iand(this);
      }),
      (a.prototype.uand = function (c) {
        return this.length > c.length
          ? this.clone().iuand(c)
          : c.clone().iuand(this);
      }),
      (a.prototype.iuxor = function (c) {
        var u, g;
        this.length > c.length ? ((u = this), (g = c)) : ((u = c), (g = this));
        for (var _ = 0; _ < g.length; _++)
          this.words[_] = u.words[_] ^ g.words[_];
        if (this !== u) for (; _ < u.length; _++) this.words[_] = u.words[_];
        return (this.length = u.length), this._strip();
      }),
      (a.prototype.ixor = function (c) {
        return i((this.negative | c.negative) === 0), this.iuxor(c);
      }),
      (a.prototype.xor = function (c) {
        return this.length > c.length
          ? this.clone().ixor(c)
          : c.clone().ixor(this);
      }),
      (a.prototype.uxor = function (c) {
        return this.length > c.length
          ? this.clone().iuxor(c)
          : c.clone().iuxor(this);
      }),
      (a.prototype.inotn = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = Math.ceil(c / 26) | 0,
          g = c % 26;
        this._expand(u), g > 0 && u--;
        for (var _ = 0; _ < u; _++) this.words[_] = ~this.words[_] & 67108863;
        return (
          g > 0 && (this.words[_] = ~this.words[_] & (67108863 >> (26 - g))),
          this._strip()
        );
      }),
      (a.prototype.notn = function (c) {
        return this.clone().inotn(c);
      }),
      (a.prototype.setn = function (c, u) {
        i(typeof c == "number" && c >= 0);
        var g = (c / 26) | 0,
          _ = c % 26;
        return (
          this._expand(g + 1),
          u
            ? (this.words[g] = this.words[g] | (1 << _))
            : (this.words[g] = this.words[g] & ~(1 << _)),
          this._strip()
        );
      }),
      (a.prototype.iadd = function (c) {
        var u;
        if (this.negative !== 0 && c.negative === 0)
          return (
            (this.negative = 0),
            (u = this.isub(c)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && c.negative !== 0)
          return (
            (c.negative = 0),
            (u = this.isub(c)),
            (c.negative = 1),
            u._normSign()
          );
        var g, _;
        this.length > c.length ? ((g = this), (_ = c)) : ((g = c), (_ = this));
        for (var I = 0, x = 0; x < _.length; x++)
          (u = (g.words[x] | 0) + (_.words[x] | 0) + I),
            (this.words[x] = u & 67108863),
            (I = u >>> 26);
        for (; I !== 0 && x < g.length; x++)
          (u = (g.words[x] | 0) + I),
            (this.words[x] = u & 67108863),
            (I = u >>> 26);
        if (((this.length = g.length), I !== 0))
          (this.words[this.length] = I), this.length++;
        else if (g !== this)
          for (; x < g.length; x++) this.words[x] = g.words[x];
        return this;
      }),
      (a.prototype.add = function (c) {
        var u;
        return c.negative !== 0 && this.negative === 0
          ? ((c.negative = 0), (u = this.sub(c)), (c.negative ^= 1), u)
          : c.negative === 0 && this.negative !== 0
          ? ((this.negative = 0), (u = c.sub(this)), (this.negative = 1), u)
          : this.length > c.length
          ? this.clone().iadd(c)
          : c.clone().iadd(this);
      }),
      (a.prototype.isub = function (c) {
        if (c.negative !== 0) {
          c.negative = 0;
          var u = this.iadd(c);
          return (c.negative = 1), u._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(c),
            (this.negative = 1),
            this._normSign()
          );
        var g = this.cmp(c);
        if (g === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var _, I;
        g > 0 ? ((_ = this), (I = c)) : ((_ = c), (I = this));
        for (var x = 0, M = 0; M < I.length; M++)
          (u = (_.words[M] | 0) - (I.words[M] | 0) + x),
            (x = u >> 26),
            (this.words[M] = u & 67108863);
        for (; x !== 0 && M < _.length; M++)
          (u = (_.words[M] | 0) + x),
            (x = u >> 26),
            (this.words[M] = u & 67108863);
        if (x === 0 && M < _.length && _ !== this)
          for (; M < _.length; M++) this.words[M] = _.words[M];
        return (
          (this.length = Math.max(this.length, M)),
          _ !== this && (this.negative = 1),
          this._strip()
        );
      }),
      (a.prototype.sub = function (c) {
        return this.clone().isub(c);
      });
    function Q(c, u, g) {
      g.negative = u.negative ^ c.negative;
      var _ = (c.length + u.length) | 0;
      (g.length = _), (_ = (_ - 1) | 0);
      var I = c.words[0] | 0,
        x = u.words[0] | 0,
        M = I * x,
        d = M & 67108863,
        p = (M / 67108864) | 0;
      g.words[0] = d;
      for (var N = 1; N < _; N++) {
        for (
          var Z = p >>> 26,
            se = p & 67108863,
            D = Math.min(N, u.length - 1),
            ee = Math.max(0, N - c.length + 1);
          ee <= D;
          ee++
        ) {
          var q = (N - ee) | 0;
          (I = c.words[q] | 0),
            (x = u.words[ee] | 0),
            (M = I * x + se),
            (Z += (M / 67108864) | 0),
            (se = M & 67108863);
        }
        (g.words[N] = se | 0), (p = Z | 0);
      }
      return p !== 0 ? (g.words[N] = p | 0) : g.length--, g._strip();
    }
    var j = function (c, u, g) {
      var _ = c.words,
        I = u.words,
        x = g.words,
        M = 0,
        d,
        p,
        N,
        Z = _[0] | 0,
        se = Z & 8191,
        D = Z >>> 13,
        ee = _[1] | 0,
        q = ee & 8191,
        k = ee >>> 13,
        K = _[2] | 0,
        w = K & 8191,
        $ = K >>> 13,
        ne = _[3] | 0,
        ce = ne & 8191,
        ue = ne >>> 13,
        ye = _[4] | 0,
        we = ye & 8191,
        Re = ye >>> 13,
        Qe = _[5] | 0,
        Pe = Qe & 8191,
        Ne = Qe >>> 13,
        Ie = _[6] | 0,
        me = Ie & 8191,
        Oe = Ie >>> 13,
        Te = _[7] | 0,
        ve = Te & 8191,
        Ce = Te >>> 13,
        Me = _[8] | 0,
        be = Me & 8191,
        Le = Me >>> 13,
        xe = _[9] | 0,
        _e = xe & 8191,
        He = xe >>> 13,
        Ve = I[0] | 0,
        Ee = Ve & 8191,
        Ke = Ve >>> 13,
        ht = I[1] | 0,
        Ge = ht & 8191,
        At = ht >>> 13,
        lt = I[2] | 0,
        Je = lt & 8191,
        St = lt >>> 13,
        xt = I[3] | 0,
        Fe = xt & 8191,
        Xe = xt >>> 13,
        tt = I[4] | 0,
        Be = tt & 8191,
        et = tt >>> 13,
        Ze = I[5] | 0,
        $e = Ze & 8191,
        ft = Ze >>> 13,
        rt = I[6] | 0,
        je = rt & 8191,
        it = rt >>> 13,
        st = I[7] | 0,
        qe = st & 8191,
        Ye = st >>> 13,
        ut = I[8] | 0,
        ze = ut & 8191,
        Nt = ut >>> 13,
        Tt = I[9] | 0,
        at = Tt & 8191,
        mt = Tt >>> 13;
      (g.negative = c.negative ^ u.negative),
        (g.length = 19),
        (d = Math.imul(se, Ee)),
        (p = Math.imul(se, Ke)),
        (p = (p + Math.imul(D, Ee)) | 0),
        (N = Math.imul(D, Ke));
      var Nr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Nr >>> 26)) | 0),
        (Nr &= 67108863),
        (d = Math.imul(q, Ee)),
        (p = Math.imul(q, Ke)),
        (p = (p + Math.imul(k, Ee)) | 0),
        (N = Math.imul(k, Ke)),
        (d = (d + Math.imul(se, Ge)) | 0),
        (p = (p + Math.imul(se, At)) | 0),
        (p = (p + Math.imul(D, Ge)) | 0),
        (N = (N + Math.imul(D, At)) | 0);
      var Tr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Tr >>> 26)) | 0),
        (Tr &= 67108863),
        (d = Math.imul(w, Ee)),
        (p = Math.imul(w, Ke)),
        (p = (p + Math.imul($, Ee)) | 0),
        (N = Math.imul($, Ke)),
        (d = (d + Math.imul(q, Ge)) | 0),
        (p = (p + Math.imul(q, At)) | 0),
        (p = (p + Math.imul(k, Ge)) | 0),
        (N = (N + Math.imul(k, At)) | 0),
        (d = (d + Math.imul(se, Je)) | 0),
        (p = (p + Math.imul(se, St)) | 0),
        (p = (p + Math.imul(D, Je)) | 0),
        (N = (N + Math.imul(D, St)) | 0);
      var Fr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Fr >>> 26)) | 0),
        (Fr &= 67108863),
        (d = Math.imul(ce, Ee)),
        (p = Math.imul(ce, Ke)),
        (p = (p + Math.imul(ue, Ee)) | 0),
        (N = Math.imul(ue, Ke)),
        (d = (d + Math.imul(w, Ge)) | 0),
        (p = (p + Math.imul(w, At)) | 0),
        (p = (p + Math.imul($, Ge)) | 0),
        (N = (N + Math.imul($, At)) | 0),
        (d = (d + Math.imul(q, Je)) | 0),
        (p = (p + Math.imul(q, St)) | 0),
        (p = (p + Math.imul(k, Je)) | 0),
        (N = (N + Math.imul(k, St)) | 0),
        (d = (d + Math.imul(se, Fe)) | 0),
        (p = (p + Math.imul(se, Xe)) | 0),
        (p = (p + Math.imul(D, Fe)) | 0),
        (N = (N + Math.imul(D, Xe)) | 0);
      var Br = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Br >>> 26)) | 0),
        (Br &= 67108863),
        (d = Math.imul(we, Ee)),
        (p = Math.imul(we, Ke)),
        (p = (p + Math.imul(Re, Ee)) | 0),
        (N = Math.imul(Re, Ke)),
        (d = (d + Math.imul(ce, Ge)) | 0),
        (p = (p + Math.imul(ce, At)) | 0),
        (p = (p + Math.imul(ue, Ge)) | 0),
        (N = (N + Math.imul(ue, At)) | 0),
        (d = (d + Math.imul(w, Je)) | 0),
        (p = (p + Math.imul(w, St)) | 0),
        (p = (p + Math.imul($, Je)) | 0),
        (N = (N + Math.imul($, St)) | 0),
        (d = (d + Math.imul(q, Fe)) | 0),
        (p = (p + Math.imul(q, Xe)) | 0),
        (p = (p + Math.imul(k, Fe)) | 0),
        (N = (N + Math.imul(k, Xe)) | 0),
        (d = (d + Math.imul(se, Be)) | 0),
        (p = (p + Math.imul(se, et)) | 0),
        (p = (p + Math.imul(D, Be)) | 0),
        (N = (N + Math.imul(D, et)) | 0);
      var qr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (qr >>> 26)) | 0),
        (qr &= 67108863),
        (d = Math.imul(Pe, Ee)),
        (p = Math.imul(Pe, Ke)),
        (p = (p + Math.imul(Ne, Ee)) | 0),
        (N = Math.imul(Ne, Ke)),
        (d = (d + Math.imul(we, Ge)) | 0),
        (p = (p + Math.imul(we, At)) | 0),
        (p = (p + Math.imul(Re, Ge)) | 0),
        (N = (N + Math.imul(Re, At)) | 0),
        (d = (d + Math.imul(ce, Je)) | 0),
        (p = (p + Math.imul(ce, St)) | 0),
        (p = (p + Math.imul(ue, Je)) | 0),
        (N = (N + Math.imul(ue, St)) | 0),
        (d = (d + Math.imul(w, Fe)) | 0),
        (p = (p + Math.imul(w, Xe)) | 0),
        (p = (p + Math.imul($, Fe)) | 0),
        (N = (N + Math.imul($, Xe)) | 0),
        (d = (d + Math.imul(q, Be)) | 0),
        (p = (p + Math.imul(q, et)) | 0),
        (p = (p + Math.imul(k, Be)) | 0),
        (N = (N + Math.imul(k, et)) | 0),
        (d = (d + Math.imul(se, $e)) | 0),
        (p = (p + Math.imul(se, ft)) | 0),
        (p = (p + Math.imul(D, $e)) | 0),
        (N = (N + Math.imul(D, ft)) | 0);
      var er = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (er >>> 26)) | 0),
        (er &= 67108863),
        (d = Math.imul(me, Ee)),
        (p = Math.imul(me, Ke)),
        (p = (p + Math.imul(Oe, Ee)) | 0),
        (N = Math.imul(Oe, Ke)),
        (d = (d + Math.imul(Pe, Ge)) | 0),
        (p = (p + Math.imul(Pe, At)) | 0),
        (p = (p + Math.imul(Ne, Ge)) | 0),
        (N = (N + Math.imul(Ne, At)) | 0),
        (d = (d + Math.imul(we, Je)) | 0),
        (p = (p + Math.imul(we, St)) | 0),
        (p = (p + Math.imul(Re, Je)) | 0),
        (N = (N + Math.imul(Re, St)) | 0),
        (d = (d + Math.imul(ce, Fe)) | 0),
        (p = (p + Math.imul(ce, Xe)) | 0),
        (p = (p + Math.imul(ue, Fe)) | 0),
        (N = (N + Math.imul(ue, Xe)) | 0),
        (d = (d + Math.imul(w, Be)) | 0),
        (p = (p + Math.imul(w, et)) | 0),
        (p = (p + Math.imul($, Be)) | 0),
        (N = (N + Math.imul($, et)) | 0),
        (d = (d + Math.imul(q, $e)) | 0),
        (p = (p + Math.imul(q, ft)) | 0),
        (p = (p + Math.imul(k, $e)) | 0),
        (N = (N + Math.imul(k, ft)) | 0),
        (d = (d + Math.imul(se, je)) | 0),
        (p = (p + Math.imul(se, it)) | 0),
        (p = (p + Math.imul(D, je)) | 0),
        (N = (N + Math.imul(D, it)) | 0);
      var Xr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Xr >>> 26)) | 0),
        (Xr &= 67108863),
        (d = Math.imul(ve, Ee)),
        (p = Math.imul(ve, Ke)),
        (p = (p + Math.imul(Ce, Ee)) | 0),
        (N = Math.imul(Ce, Ke)),
        (d = (d + Math.imul(me, Ge)) | 0),
        (p = (p + Math.imul(me, At)) | 0),
        (p = (p + Math.imul(Oe, Ge)) | 0),
        (N = (N + Math.imul(Oe, At)) | 0),
        (d = (d + Math.imul(Pe, Je)) | 0),
        (p = (p + Math.imul(Pe, St)) | 0),
        (p = (p + Math.imul(Ne, Je)) | 0),
        (N = (N + Math.imul(Ne, St)) | 0),
        (d = (d + Math.imul(we, Fe)) | 0),
        (p = (p + Math.imul(we, Xe)) | 0),
        (p = (p + Math.imul(Re, Fe)) | 0),
        (N = (N + Math.imul(Re, Xe)) | 0),
        (d = (d + Math.imul(ce, Be)) | 0),
        (p = (p + Math.imul(ce, et)) | 0),
        (p = (p + Math.imul(ue, Be)) | 0),
        (N = (N + Math.imul(ue, et)) | 0),
        (d = (d + Math.imul(w, $e)) | 0),
        (p = (p + Math.imul(w, ft)) | 0),
        (p = (p + Math.imul($, $e)) | 0),
        (N = (N + Math.imul($, ft)) | 0),
        (d = (d + Math.imul(q, je)) | 0),
        (p = (p + Math.imul(q, it)) | 0),
        (p = (p + Math.imul(k, je)) | 0),
        (N = (N + Math.imul(k, it)) | 0),
        (d = (d + Math.imul(se, qe)) | 0),
        (p = (p + Math.imul(se, Ye)) | 0),
        (p = (p + Math.imul(D, qe)) | 0),
        (N = (N + Math.imul(D, Ye)) | 0);
      var Qi = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Qi >>> 26)) | 0),
        (Qi &= 67108863),
        (d = Math.imul(be, Ee)),
        (p = Math.imul(be, Ke)),
        (p = (p + Math.imul(Le, Ee)) | 0),
        (N = Math.imul(Le, Ke)),
        (d = (d + Math.imul(ve, Ge)) | 0),
        (p = (p + Math.imul(ve, At)) | 0),
        (p = (p + Math.imul(Ce, Ge)) | 0),
        (N = (N + Math.imul(Ce, At)) | 0),
        (d = (d + Math.imul(me, Je)) | 0),
        (p = (p + Math.imul(me, St)) | 0),
        (p = (p + Math.imul(Oe, Je)) | 0),
        (N = (N + Math.imul(Oe, St)) | 0),
        (d = (d + Math.imul(Pe, Fe)) | 0),
        (p = (p + Math.imul(Pe, Xe)) | 0),
        (p = (p + Math.imul(Ne, Fe)) | 0),
        (N = (N + Math.imul(Ne, Xe)) | 0),
        (d = (d + Math.imul(we, Be)) | 0),
        (p = (p + Math.imul(we, et)) | 0),
        (p = (p + Math.imul(Re, Be)) | 0),
        (N = (N + Math.imul(Re, et)) | 0),
        (d = (d + Math.imul(ce, $e)) | 0),
        (p = (p + Math.imul(ce, ft)) | 0),
        (p = (p + Math.imul(ue, $e)) | 0),
        (N = (N + Math.imul(ue, ft)) | 0),
        (d = (d + Math.imul(w, je)) | 0),
        (p = (p + Math.imul(w, it)) | 0),
        (p = (p + Math.imul($, je)) | 0),
        (N = (N + Math.imul($, it)) | 0),
        (d = (d + Math.imul(q, qe)) | 0),
        (p = (p + Math.imul(q, Ye)) | 0),
        (p = (p + Math.imul(k, qe)) | 0),
        (N = (N + Math.imul(k, Ye)) | 0),
        (d = (d + Math.imul(se, ze)) | 0),
        (p = (p + Math.imul(se, Nt)) | 0),
        (p = (p + Math.imul(D, ze)) | 0),
        (N = (N + Math.imul(D, Nt)) | 0);
      var Zr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Zr >>> 26)) | 0),
        (Zr &= 67108863),
        (d = Math.imul(_e, Ee)),
        (p = Math.imul(_e, Ke)),
        (p = (p + Math.imul(He, Ee)) | 0),
        (N = Math.imul(He, Ke)),
        (d = (d + Math.imul(be, Ge)) | 0),
        (p = (p + Math.imul(be, At)) | 0),
        (p = (p + Math.imul(Le, Ge)) | 0),
        (N = (N + Math.imul(Le, At)) | 0),
        (d = (d + Math.imul(ve, Je)) | 0),
        (p = (p + Math.imul(ve, St)) | 0),
        (p = (p + Math.imul(Ce, Je)) | 0),
        (N = (N + Math.imul(Ce, St)) | 0),
        (d = (d + Math.imul(me, Fe)) | 0),
        (p = (p + Math.imul(me, Xe)) | 0),
        (p = (p + Math.imul(Oe, Fe)) | 0),
        (N = (N + Math.imul(Oe, Xe)) | 0),
        (d = (d + Math.imul(Pe, Be)) | 0),
        (p = (p + Math.imul(Pe, et)) | 0),
        (p = (p + Math.imul(Ne, Be)) | 0),
        (N = (N + Math.imul(Ne, et)) | 0),
        (d = (d + Math.imul(we, $e)) | 0),
        (p = (p + Math.imul(we, ft)) | 0),
        (p = (p + Math.imul(Re, $e)) | 0),
        (N = (N + Math.imul(Re, ft)) | 0),
        (d = (d + Math.imul(ce, je)) | 0),
        (p = (p + Math.imul(ce, it)) | 0),
        (p = (p + Math.imul(ue, je)) | 0),
        (N = (N + Math.imul(ue, it)) | 0),
        (d = (d + Math.imul(w, qe)) | 0),
        (p = (p + Math.imul(w, Ye)) | 0),
        (p = (p + Math.imul($, qe)) | 0),
        (N = (N + Math.imul($, Ye)) | 0),
        (d = (d + Math.imul(q, ze)) | 0),
        (p = (p + Math.imul(q, Nt)) | 0),
        (p = (p + Math.imul(k, ze)) | 0),
        (N = (N + Math.imul(k, Nt)) | 0),
        (d = (d + Math.imul(se, at)) | 0),
        (p = (p + Math.imul(se, mt)) | 0),
        (p = (p + Math.imul(D, at)) | 0),
        (N = (N + Math.imul(D, mt)) | 0);
      var Xi = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Xi >>> 26)) | 0),
        (Xi &= 67108863),
        (d = Math.imul(_e, Ge)),
        (p = Math.imul(_e, At)),
        (p = (p + Math.imul(He, Ge)) | 0),
        (N = Math.imul(He, At)),
        (d = (d + Math.imul(be, Je)) | 0),
        (p = (p + Math.imul(be, St)) | 0),
        (p = (p + Math.imul(Le, Je)) | 0),
        (N = (N + Math.imul(Le, St)) | 0),
        (d = (d + Math.imul(ve, Fe)) | 0),
        (p = (p + Math.imul(ve, Xe)) | 0),
        (p = (p + Math.imul(Ce, Fe)) | 0),
        (N = (N + Math.imul(Ce, Xe)) | 0),
        (d = (d + Math.imul(me, Be)) | 0),
        (p = (p + Math.imul(me, et)) | 0),
        (p = (p + Math.imul(Oe, Be)) | 0),
        (N = (N + Math.imul(Oe, et)) | 0),
        (d = (d + Math.imul(Pe, $e)) | 0),
        (p = (p + Math.imul(Pe, ft)) | 0),
        (p = (p + Math.imul(Ne, $e)) | 0),
        (N = (N + Math.imul(Ne, ft)) | 0),
        (d = (d + Math.imul(we, je)) | 0),
        (p = (p + Math.imul(we, it)) | 0),
        (p = (p + Math.imul(Re, je)) | 0),
        (N = (N + Math.imul(Re, it)) | 0),
        (d = (d + Math.imul(ce, qe)) | 0),
        (p = (p + Math.imul(ce, Ye)) | 0),
        (p = (p + Math.imul(ue, qe)) | 0),
        (N = (N + Math.imul(ue, Ye)) | 0),
        (d = (d + Math.imul(w, ze)) | 0),
        (p = (p + Math.imul(w, Nt)) | 0),
        (p = (p + Math.imul($, ze)) | 0),
        (N = (N + Math.imul($, Nt)) | 0),
        (d = (d + Math.imul(q, at)) | 0),
        (p = (p + Math.imul(q, mt)) | 0),
        (p = (p + Math.imul(k, at)) | 0),
        (N = (N + Math.imul(k, mt)) | 0);
      var Zi = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Zi >>> 26)) | 0),
        (Zi &= 67108863),
        (d = Math.imul(_e, Je)),
        (p = Math.imul(_e, St)),
        (p = (p + Math.imul(He, Je)) | 0),
        (N = Math.imul(He, St)),
        (d = (d + Math.imul(be, Fe)) | 0),
        (p = (p + Math.imul(be, Xe)) | 0),
        (p = (p + Math.imul(Le, Fe)) | 0),
        (N = (N + Math.imul(Le, Xe)) | 0),
        (d = (d + Math.imul(ve, Be)) | 0),
        (p = (p + Math.imul(ve, et)) | 0),
        (p = (p + Math.imul(Ce, Be)) | 0),
        (N = (N + Math.imul(Ce, et)) | 0),
        (d = (d + Math.imul(me, $e)) | 0),
        (p = (p + Math.imul(me, ft)) | 0),
        (p = (p + Math.imul(Oe, $e)) | 0),
        (N = (N + Math.imul(Oe, ft)) | 0),
        (d = (d + Math.imul(Pe, je)) | 0),
        (p = (p + Math.imul(Pe, it)) | 0),
        (p = (p + Math.imul(Ne, je)) | 0),
        (N = (N + Math.imul(Ne, it)) | 0),
        (d = (d + Math.imul(we, qe)) | 0),
        (p = (p + Math.imul(we, Ye)) | 0),
        (p = (p + Math.imul(Re, qe)) | 0),
        (N = (N + Math.imul(Re, Ye)) | 0),
        (d = (d + Math.imul(ce, ze)) | 0),
        (p = (p + Math.imul(ce, Nt)) | 0),
        (p = (p + Math.imul(ue, ze)) | 0),
        (N = (N + Math.imul(ue, Nt)) | 0),
        (d = (d + Math.imul(w, at)) | 0),
        (p = (p + Math.imul(w, mt)) | 0),
        (p = (p + Math.imul($, at)) | 0),
        (N = (N + Math.imul($, mt)) | 0);
      var ei = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (ei >>> 26)) | 0),
        (ei &= 67108863),
        (d = Math.imul(_e, Fe)),
        (p = Math.imul(_e, Xe)),
        (p = (p + Math.imul(He, Fe)) | 0),
        (N = Math.imul(He, Xe)),
        (d = (d + Math.imul(be, Be)) | 0),
        (p = (p + Math.imul(be, et)) | 0),
        (p = (p + Math.imul(Le, Be)) | 0),
        (N = (N + Math.imul(Le, et)) | 0),
        (d = (d + Math.imul(ve, $e)) | 0),
        (p = (p + Math.imul(ve, ft)) | 0),
        (p = (p + Math.imul(Ce, $e)) | 0),
        (N = (N + Math.imul(Ce, ft)) | 0),
        (d = (d + Math.imul(me, je)) | 0),
        (p = (p + Math.imul(me, it)) | 0),
        (p = (p + Math.imul(Oe, je)) | 0),
        (N = (N + Math.imul(Oe, it)) | 0),
        (d = (d + Math.imul(Pe, qe)) | 0),
        (p = (p + Math.imul(Pe, Ye)) | 0),
        (p = (p + Math.imul(Ne, qe)) | 0),
        (N = (N + Math.imul(Ne, Ye)) | 0),
        (d = (d + Math.imul(we, ze)) | 0),
        (p = (p + Math.imul(we, Nt)) | 0),
        (p = (p + Math.imul(Re, ze)) | 0),
        (N = (N + Math.imul(Re, Nt)) | 0),
        (d = (d + Math.imul(ce, at)) | 0),
        (p = (p + Math.imul(ce, mt)) | 0),
        (p = (p + Math.imul(ue, at)) | 0),
        (N = (N + Math.imul(ue, mt)) | 0);
      var xi = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (xi >>> 26)) | 0),
        (xi &= 67108863),
        (d = Math.imul(_e, Be)),
        (p = Math.imul(_e, et)),
        (p = (p + Math.imul(He, Be)) | 0),
        (N = Math.imul(He, et)),
        (d = (d + Math.imul(be, $e)) | 0),
        (p = (p + Math.imul(be, ft)) | 0),
        (p = (p + Math.imul(Le, $e)) | 0),
        (N = (N + Math.imul(Le, ft)) | 0),
        (d = (d + Math.imul(ve, je)) | 0),
        (p = (p + Math.imul(ve, it)) | 0),
        (p = (p + Math.imul(Ce, je)) | 0),
        (N = (N + Math.imul(Ce, it)) | 0),
        (d = (d + Math.imul(me, qe)) | 0),
        (p = (p + Math.imul(me, Ye)) | 0),
        (p = (p + Math.imul(Oe, qe)) | 0),
        (N = (N + Math.imul(Oe, Ye)) | 0),
        (d = (d + Math.imul(Pe, ze)) | 0),
        (p = (p + Math.imul(Pe, Nt)) | 0),
        (p = (p + Math.imul(Ne, ze)) | 0),
        (N = (N + Math.imul(Ne, Nt)) | 0),
        (d = (d + Math.imul(we, at)) | 0),
        (p = (p + Math.imul(we, mt)) | 0),
        (p = (p + Math.imul(Re, at)) | 0),
        (N = (N + Math.imul(Re, mt)) | 0);
      var Di = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (Di >>> 26)) | 0),
        (Di &= 67108863),
        (d = Math.imul(_e, $e)),
        (p = Math.imul(_e, ft)),
        (p = (p + Math.imul(He, $e)) | 0),
        (N = Math.imul(He, ft)),
        (d = (d + Math.imul(be, je)) | 0),
        (p = (p + Math.imul(be, it)) | 0),
        (p = (p + Math.imul(Le, je)) | 0),
        (N = (N + Math.imul(Le, it)) | 0),
        (d = (d + Math.imul(ve, qe)) | 0),
        (p = (p + Math.imul(ve, Ye)) | 0),
        (p = (p + Math.imul(Ce, qe)) | 0),
        (N = (N + Math.imul(Ce, Ye)) | 0),
        (d = (d + Math.imul(me, ze)) | 0),
        (p = (p + Math.imul(me, Nt)) | 0),
        (p = (p + Math.imul(Oe, ze)) | 0),
        (N = (N + Math.imul(Oe, Nt)) | 0),
        (d = (d + Math.imul(Pe, at)) | 0),
        (p = (p + Math.imul(Pe, mt)) | 0),
        (p = (p + Math.imul(Ne, at)) | 0),
        (N = (N + Math.imul(Ne, mt)) | 0);
      var lr = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (lr >>> 26)) | 0),
        (lr &= 67108863),
        (d = Math.imul(_e, je)),
        (p = Math.imul(_e, it)),
        (p = (p + Math.imul(He, je)) | 0),
        (N = Math.imul(He, it)),
        (d = (d + Math.imul(be, qe)) | 0),
        (p = (p + Math.imul(be, Ye)) | 0),
        (p = (p + Math.imul(Le, qe)) | 0),
        (N = (N + Math.imul(Le, Ye)) | 0),
        (d = (d + Math.imul(ve, ze)) | 0),
        (p = (p + Math.imul(ve, Nt)) | 0),
        (p = (p + Math.imul(Ce, ze)) | 0),
        (N = (N + Math.imul(Ce, Nt)) | 0),
        (d = (d + Math.imul(me, at)) | 0),
        (p = (p + Math.imul(me, mt)) | 0),
        (p = (p + Math.imul(Oe, at)) | 0),
        (N = (N + Math.imul(Oe, mt)) | 0);
      var en = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (en >>> 26)) | 0),
        (en &= 67108863),
        (d = Math.imul(_e, qe)),
        (p = Math.imul(_e, Ye)),
        (p = (p + Math.imul(He, qe)) | 0),
        (N = Math.imul(He, Ye)),
        (d = (d + Math.imul(be, ze)) | 0),
        (p = (p + Math.imul(be, Nt)) | 0),
        (p = (p + Math.imul(Le, ze)) | 0),
        (N = (N + Math.imul(Le, Nt)) | 0),
        (d = (d + Math.imul(ve, at)) | 0),
        (p = (p + Math.imul(ve, mt)) | 0),
        (p = (p + Math.imul(Ce, at)) | 0),
        (N = (N + Math.imul(Ce, mt)) | 0);
      var tn = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (tn >>> 26)) | 0),
        (tn &= 67108863),
        (d = Math.imul(_e, ze)),
        (p = Math.imul(_e, Nt)),
        (p = (p + Math.imul(He, ze)) | 0),
        (N = Math.imul(He, Nt)),
        (d = (d + Math.imul(be, at)) | 0),
        (p = (p + Math.imul(be, mt)) | 0),
        (p = (p + Math.imul(Le, at)) | 0),
        (N = (N + Math.imul(Le, mt)) | 0);
      var rn = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      (M = (((N + (p >>> 13)) | 0) + (rn >>> 26)) | 0),
        (rn &= 67108863),
        (d = Math.imul(_e, at)),
        (p = Math.imul(_e, mt)),
        (p = (p + Math.imul(He, at)) | 0),
        (N = Math.imul(He, mt));
      var Cs = (((M + d) | 0) + ((p & 8191) << 13)) | 0;
      return (
        (M = (((N + (p >>> 13)) | 0) + (Cs >>> 26)) | 0),
        (Cs &= 67108863),
        (x[0] = Nr),
        (x[1] = Tr),
        (x[2] = Fr),
        (x[3] = Br),
        (x[4] = qr),
        (x[5] = er),
        (x[6] = Xr),
        (x[7] = Qi),
        (x[8] = Zr),
        (x[9] = Xi),
        (x[10] = Zi),
        (x[11] = ei),
        (x[12] = xi),
        (x[13] = Di),
        (x[14] = lr),
        (x[15] = en),
        (x[16] = tn),
        (x[17] = rn),
        (x[18] = Cs),
        M !== 0 && ((x[19] = M), g.length++),
        g
      );
    };
    Math.imul || (j = Q);
    function Y(c, u, g) {
      (g.negative = u.negative ^ c.negative), (g.length = c.length + u.length);
      for (var _ = 0, I = 0, x = 0; x < g.length - 1; x++) {
        var M = I;
        I = 0;
        for (
          var d = _ & 67108863,
            p = Math.min(x, u.length - 1),
            N = Math.max(0, x - c.length + 1);
          N <= p;
          N++
        ) {
          var Z = x - N,
            se = c.words[Z] | 0,
            D = u.words[N] | 0,
            ee = se * D,
            q = ee & 67108863;
          (M = (M + ((ee / 67108864) | 0)) | 0),
            (q = (q + d) | 0),
            (d = q & 67108863),
            (M = (M + (q >>> 26)) | 0),
            (I += M >>> 26),
            (M &= 67108863);
        }
        (g.words[x] = d), (_ = M), (M = I);
      }
      return _ !== 0 ? (g.words[x] = _) : g.length--, g._strip();
    }
    function U(c, u, g) {
      return Y(c, u, g);
    }
    (a.prototype.mulTo = function (c, u) {
      var g,
        _ = this.length + c.length;
      return (
        this.length === 10 && c.length === 10
          ? (g = j(this, c, u))
          : _ < 63
          ? (g = Q(this, c, u))
          : _ < 1024
          ? (g = Y(this, c, u))
          : (g = U(this, c, u)),
        g
      );
    }),
      (a.prototype.mul = function (c) {
        var u = new a(null);
        return (u.words = new Array(this.length + c.length)), this.mulTo(c, u);
      }),
      (a.prototype.mulf = function (c) {
        var u = new a(null);
        return (u.words = new Array(this.length + c.length)), U(this, c, u);
      }),
      (a.prototype.imul = function (c) {
        return this.clone().mulTo(c, this);
      }),
      (a.prototype.imuln = function (c) {
        var u = c < 0;
        u && (c = -c), i(typeof c == "number"), i(c < 67108864);
        for (var g = 0, _ = 0; _ < this.length; _++) {
          var I = (this.words[_] | 0) * c,
            x = (I & 67108863) + (g & 67108863);
          (g >>= 26),
            (g += (I / 67108864) | 0),
            (g += x >>> 26),
            (this.words[_] = x & 67108863);
        }
        return (
          g !== 0 && ((this.words[_] = g), this.length++),
          u ? this.ineg() : this
        );
      }),
      (a.prototype.muln = function (c) {
        return this.clone().imuln(c);
      }),
      (a.prototype.sqr = function () {
        return this.mul(this);
      }),
      (a.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (a.prototype.pow = function (c) {
        var u = V(c);
        if (u.length === 0) return new a(1);
        for (var g = this, _ = 0; _ < u.length && u[_] === 0; _++, g = g.sqr());
        if (++_ < u.length)
          for (var I = g.sqr(); _ < u.length; _++, I = I.sqr())
            u[_] !== 0 && (g = g.mul(I));
        return g;
      }),
      (a.prototype.iushln = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = c % 26,
          g = (c - u) / 26,
          _ = (67108863 >>> (26 - u)) << (26 - u),
          I;
        if (u !== 0) {
          var x = 0;
          for (I = 0; I < this.length; I++) {
            var M = this.words[I] & _,
              d = ((this.words[I] | 0) - M) << u;
            (this.words[I] = d | x), (x = M >>> (26 - u));
          }
          x && ((this.words[I] = x), this.length++);
        }
        if (g !== 0) {
          for (I = this.length - 1; I >= 0; I--)
            this.words[I + g] = this.words[I];
          for (I = 0; I < g; I++) this.words[I] = 0;
          this.length += g;
        }
        return this._strip();
      }),
      (a.prototype.ishln = function (c) {
        return i(this.negative === 0), this.iushln(c);
      }),
      (a.prototype.iushrn = function (c, u, g) {
        i(typeof c == "number" && c >= 0);
        var _;
        u ? (_ = (u - (u % 26)) / 26) : (_ = 0);
        var I = c % 26,
          x = Math.min((c - I) / 26, this.length),
          M = 67108863 ^ ((67108863 >>> I) << I),
          d = g;
        if (((_ -= x), (_ = Math.max(0, _)), d)) {
          for (var p = 0; p < x; p++) d.words[p] = this.words[p];
          d.length = x;
        }
        if (x !== 0)
          if (this.length > x)
            for (this.length -= x, p = 0; p < this.length; p++)
              this.words[p] = this.words[p + x];
          else (this.words[0] = 0), (this.length = 1);
        var N = 0;
        for (p = this.length - 1; p >= 0 && (N !== 0 || p >= _); p--) {
          var Z = this.words[p] | 0;
          (this.words[p] = (N << (26 - I)) | (Z >>> I)), (N = Z & M);
        }
        return (
          d && N !== 0 && (d.words[d.length++] = N),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this._strip()
        );
      }),
      (a.prototype.ishrn = function (c, u, g) {
        return i(this.negative === 0), this.iushrn(c, u, g);
      }),
      (a.prototype.shln = function (c) {
        return this.clone().ishln(c);
      }),
      (a.prototype.ushln = function (c) {
        return this.clone().iushln(c);
      }),
      (a.prototype.shrn = function (c) {
        return this.clone().ishrn(c);
      }),
      (a.prototype.ushrn = function (c) {
        return this.clone().iushrn(c);
      }),
      (a.prototype.testn = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = c % 26,
          g = (c - u) / 26,
          _ = 1 << u;
        if (this.length <= g) return !1;
        var I = this.words[g];
        return !!(I & _);
      }),
      (a.prototype.imaskn = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = c % 26,
          g = (c - u) / 26;
        if (
          (i(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= g)
        )
          return this;
        if (
          (u !== 0 && g++, (this.length = Math.min(g, this.length)), u !== 0)
        ) {
          var _ = 67108863 ^ ((67108863 >>> u) << u);
          this.words[this.length - 1] &= _;
        }
        return this._strip();
      }),
      (a.prototype.maskn = function (c) {
        return this.clone().imaskn(c);
      }),
      (a.prototype.iaddn = function (c) {
        return (
          i(typeof c == "number"),
          i(c < 67108864),
          c < 0
            ? this.isubn(-c)
            : this.negative !== 0
            ? this.length === 1 && (this.words[0] | 0) <= c
              ? ((this.words[0] = c - (this.words[0] | 0)),
                (this.negative = 0),
                this)
              : ((this.negative = 0), this.isubn(c), (this.negative = 1), this)
            : this._iaddn(c)
        );
      }),
      (a.prototype._iaddn = function (c) {
        this.words[0] += c;
        for (var u = 0; u < this.length && this.words[u] >= 67108864; u++)
          (this.words[u] -= 67108864),
            u === this.length - 1
              ? (this.words[u + 1] = 1)
              : this.words[u + 1]++;
        return (this.length = Math.max(this.length, u + 1)), this;
      }),
      (a.prototype.isubn = function (c) {
        if ((i(typeof c == "number"), i(c < 67108864), c < 0))
          return this.iaddn(-c);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(c), (this.negative = 1), this;
        if (((this.words[0] -= c), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var u = 0; u < this.length && this.words[u] < 0; u++)
            (this.words[u] += 67108864), (this.words[u + 1] -= 1);
        return this._strip();
      }),
      (a.prototype.addn = function (c) {
        return this.clone().iaddn(c);
      }),
      (a.prototype.subn = function (c) {
        return this.clone().isubn(c);
      }),
      (a.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (a.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (a.prototype._ishlnsubmul = function (c, u, g) {
        var _ = c.length + g,
          I;
        this._expand(_);
        var x,
          M = 0;
        for (I = 0; I < c.length; I++) {
          x = (this.words[I + g] | 0) + M;
          var d = (c.words[I] | 0) * u;
          (x -= d & 67108863),
            (M = (x >> 26) - ((d / 67108864) | 0)),
            (this.words[I + g] = x & 67108863);
        }
        for (; I < this.length - g; I++)
          (x = (this.words[I + g] | 0) + M),
            (M = x >> 26),
            (this.words[I + g] = x & 67108863);
        if (M === 0) return this._strip();
        for (i(M === -1), M = 0, I = 0; I < this.length; I++)
          (x = -(this.words[I] | 0) + M),
            (M = x >> 26),
            (this.words[I] = x & 67108863);
        return (this.negative = 1), this._strip();
      }),
      (a.prototype._wordDiv = function (c, u) {
        var g = this.length - c.length,
          _ = this.clone(),
          I = c,
          x = I.words[I.length - 1] | 0,
          M = this._countBits(x);
        (g = 26 - M),
          g !== 0 &&
            ((I = I.ushln(g)), _.iushln(g), (x = I.words[I.length - 1] | 0));
        var d = _.length - I.length,
          p;
        if (u !== "mod") {
          (p = new a(null)),
            (p.length = d + 1),
            (p.words = new Array(p.length));
          for (var N = 0; N < p.length; N++) p.words[N] = 0;
        }
        var Z = _.clone()._ishlnsubmul(I, 1, d);
        Z.negative === 0 && ((_ = Z), p && (p.words[d] = 1));
        for (var se = d - 1; se >= 0; se--) {
          var D =
            (_.words[I.length + se] | 0) * 67108864 +
            (_.words[I.length + se - 1] | 0);
          for (
            D = Math.min((D / x) | 0, 67108863), _._ishlnsubmul(I, D, se);
            _.negative !== 0;

          )
            D--,
              (_.negative = 0),
              _._ishlnsubmul(I, 1, se),
              _.isZero() || (_.negative ^= 1);
          p && (p.words[se] = D);
        }
        return (
          p && p._strip(),
          _._strip(),
          u !== "div" && g !== 0 && _.iushrn(g),
          { div: p || null, mod: _ }
        );
      }),
      (a.prototype.divmod = function (c, u, g) {
        if ((i(!c.isZero()), this.isZero()))
          return { div: new a(0), mod: new a(0) };
        var _, I, x;
        return this.negative !== 0 && c.negative === 0
          ? ((x = this.neg().divmod(c, u)),
            u !== "mod" && (_ = x.div.neg()),
            u !== "div" &&
              ((I = x.mod.neg()), g && I.negative !== 0 && I.iadd(c)),
            { div: _, mod: I })
          : this.negative === 0 && c.negative !== 0
          ? ((x = this.divmod(c.neg(), u)),
            u !== "mod" && (_ = x.div.neg()),
            { div: _, mod: x.mod })
          : this.negative & c.negative
          ? ((x = this.neg().divmod(c.neg(), u)),
            u !== "div" &&
              ((I = x.mod.neg()), g && I.negative !== 0 && I.isub(c)),
            { div: x.div, mod: I })
          : c.length > this.length || this.cmp(c) < 0
          ? { div: new a(0), mod: this }
          : c.length === 1
          ? u === "div"
            ? { div: this.divn(c.words[0]), mod: null }
            : u === "mod"
            ? { div: null, mod: new a(this.modrn(c.words[0])) }
            : { div: this.divn(c.words[0]), mod: new a(this.modrn(c.words[0])) }
          : this._wordDiv(c, u);
      }),
      (a.prototype.div = function (c) {
        return this.divmod(c, "div", !1).div;
      }),
      (a.prototype.mod = function (c) {
        return this.divmod(c, "mod", !1).mod;
      }),
      (a.prototype.umod = function (c) {
        return this.divmod(c, "mod", !0).mod;
      }),
      (a.prototype.divRound = function (c) {
        var u = this.divmod(c);
        if (u.mod.isZero()) return u.div;
        var g = u.div.negative !== 0 ? u.mod.isub(c) : u.mod,
          _ = c.ushrn(1),
          I = c.andln(1),
          x = g.cmp(_);
        return x < 0 || (I === 1 && x === 0)
          ? u.div
          : u.div.negative !== 0
          ? u.div.isubn(1)
          : u.div.iaddn(1);
      }),
      (a.prototype.modrn = function (c) {
        var u = c < 0;
        u && (c = -c), i(c <= 67108863);
        for (var g = (1 << 26) % c, _ = 0, I = this.length - 1; I >= 0; I--)
          _ = (g * _ + (this.words[I] | 0)) % c;
        return u ? -_ : _;
      }),
      (a.prototype.modn = function (c) {
        return this.modrn(c);
      }),
      (a.prototype.idivn = function (c) {
        var u = c < 0;
        u && (c = -c), i(c <= 67108863);
        for (var g = 0, _ = this.length - 1; _ >= 0; _--) {
          var I = (this.words[_] | 0) + g * 67108864;
          (this.words[_] = (I / c) | 0), (g = I % c);
        }
        return this._strip(), u ? this.ineg() : this;
      }),
      (a.prototype.divn = function (c) {
        return this.clone().idivn(c);
      }),
      (a.prototype.egcd = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var u = this,
          g = c.clone();
        u.negative !== 0 ? (u = u.umod(c)) : (u = u.clone());
        for (
          var _ = new a(1), I = new a(0), x = new a(0), M = new a(1), d = 0;
          u.isEven() && g.isEven();

        )
          u.iushrn(1), g.iushrn(1), ++d;
        for (var p = g.clone(), N = u.clone(); !u.isZero(); ) {
          for (var Z = 0, se = 1; !(u.words[0] & se) && Z < 26; ++Z, se <<= 1);
          if (Z > 0)
            for (u.iushrn(Z); Z-- > 0; )
              (_.isOdd() || I.isOdd()) && (_.iadd(p), I.isub(N)),
                _.iushrn(1),
                I.iushrn(1);
          for (var D = 0, ee = 1; !(g.words[0] & ee) && D < 26; ++D, ee <<= 1);
          if (D > 0)
            for (g.iushrn(D); D-- > 0; )
              (x.isOdd() || M.isOdd()) && (x.iadd(p), M.isub(N)),
                x.iushrn(1),
                M.iushrn(1);
          u.cmp(g) >= 0
            ? (u.isub(g), _.isub(x), I.isub(M))
            : (g.isub(u), x.isub(_), M.isub(I));
        }
        return { a: x, b: M, gcd: g.iushln(d) };
      }),
      (a.prototype._invmp = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var u = this,
          g = c.clone();
        u.negative !== 0 ? (u = u.umod(c)) : (u = u.clone());
        for (
          var _ = new a(1), I = new a(0), x = g.clone();
          u.cmpn(1) > 0 && g.cmpn(1) > 0;

        ) {
          for (var M = 0, d = 1; !(u.words[0] & d) && M < 26; ++M, d <<= 1);
          if (M > 0)
            for (u.iushrn(M); M-- > 0; ) _.isOdd() && _.iadd(x), _.iushrn(1);
          for (var p = 0, N = 1; !(g.words[0] & N) && p < 26; ++p, N <<= 1);
          if (p > 0)
            for (g.iushrn(p); p-- > 0; ) I.isOdd() && I.iadd(x), I.iushrn(1);
          u.cmp(g) >= 0 ? (u.isub(g), _.isub(I)) : (g.isub(u), I.isub(_));
        }
        var Z;
        return (
          u.cmpn(1) === 0 ? (Z = _) : (Z = I), Z.cmpn(0) < 0 && Z.iadd(c), Z
        );
      }),
      (a.prototype.gcd = function (c) {
        if (this.isZero()) return c.abs();
        if (c.isZero()) return this.abs();
        var u = this.clone(),
          g = c.clone();
        (u.negative = 0), (g.negative = 0);
        for (var _ = 0; u.isEven() && g.isEven(); _++) u.iushrn(1), g.iushrn(1);
        do {
          for (; u.isEven(); ) u.iushrn(1);
          for (; g.isEven(); ) g.iushrn(1);
          var I = u.cmp(g);
          if (I < 0) {
            var x = u;
            (u = g), (g = x);
          } else if (I === 0 || g.cmpn(1) === 0) break;
          u.isub(g);
        } while (!0);
        return g.iushln(_);
      }),
      (a.prototype.invm = function (c) {
        return this.egcd(c).a.umod(c);
      }),
      (a.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (a.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (a.prototype.andln = function (c) {
        return this.words[0] & c;
      }),
      (a.prototype.bincn = function (c) {
        i(typeof c == "number");
        var u = c % 26,
          g = (c - u) / 26,
          _ = 1 << u;
        if (this.length <= g)
          return this._expand(g + 1), (this.words[g] |= _), this;
        for (var I = _, x = g; I !== 0 && x < this.length; x++) {
          var M = this.words[x] | 0;
          (M += I), (I = M >>> 26), (M &= 67108863), (this.words[x] = M);
        }
        return I !== 0 && ((this.words[x] = I), this.length++), this;
      }),
      (a.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (a.prototype.cmpn = function (c) {
        var u = c < 0;
        if (this.negative !== 0 && !u) return -1;
        if (this.negative === 0 && u) return 1;
        this._strip();
        var g;
        if (this.length > 1) g = 1;
        else {
          u && (c = -c), i(c <= 67108863, "Number is too big");
          var _ = this.words[0] | 0;
          g = _ === c ? 0 : _ < c ? -1 : 1;
        }
        return this.negative !== 0 ? -g | 0 : g;
      }),
      (a.prototype.cmp = function (c) {
        if (this.negative !== 0 && c.negative === 0) return -1;
        if (this.negative === 0 && c.negative !== 0) return 1;
        var u = this.ucmp(c);
        return this.negative !== 0 ? -u | 0 : u;
      }),
      (a.prototype.ucmp = function (c) {
        if (this.length > c.length) return 1;
        if (this.length < c.length) return -1;
        for (var u = 0, g = this.length - 1; g >= 0; g--) {
          var _ = this.words[g] | 0,
            I = c.words[g] | 0;
          if (_ !== I) {
            _ < I ? (u = -1) : _ > I && (u = 1);
            break;
          }
        }
        return u;
      }),
      (a.prototype.gtn = function (c) {
        return this.cmpn(c) === 1;
      }),
      (a.prototype.gt = function (c) {
        return this.cmp(c) === 1;
      }),
      (a.prototype.gten = function (c) {
        return this.cmpn(c) >= 0;
      }),
      (a.prototype.gte = function (c) {
        return this.cmp(c) >= 0;
      }),
      (a.prototype.ltn = function (c) {
        return this.cmpn(c) === -1;
      }),
      (a.prototype.lt = function (c) {
        return this.cmp(c) === -1;
      }),
      (a.prototype.lten = function (c) {
        return this.cmpn(c) <= 0;
      }),
      (a.prototype.lte = function (c) {
        return this.cmp(c) <= 0;
      }),
      (a.prototype.eqn = function (c) {
        return this.cmpn(c) === 0;
      }),
      (a.prototype.eq = function (c) {
        return this.cmp(c) === 0;
      }),
      (a.red = function (c) {
        return new B(c);
      }),
      (a.prototype.toRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          i(this.negative === 0, "red works only with positives"),
          c.convertTo(this)._forceRed(c)
        );
      }),
      (a.prototype.fromRed = function () {
        return (
          i(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (a.prototype._forceRed = function (c) {
        return (this.red = c), this;
      }),
      (a.prototype.forceRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          this._forceRed(c)
        );
      }),
      (a.prototype.redAdd = function (c) {
        return (
          i(this.red, "redAdd works only with red numbers"),
          this.red.add(this, c)
        );
      }),
      (a.prototype.redIAdd = function (c) {
        return (
          i(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, c)
        );
      }),
      (a.prototype.redSub = function (c) {
        return (
          i(this.red, "redSub works only with red numbers"),
          this.red.sub(this, c)
        );
      }),
      (a.prototype.redISub = function (c) {
        return (
          i(this.red, "redISub works only with red numbers"),
          this.red.isub(this, c)
        );
      }),
      (a.prototype.redShl = function (c) {
        return (
          i(this.red, "redShl works only with red numbers"),
          this.red.shl(this, c)
        );
      }),
      (a.prototype.redMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.mul(this, c)
        );
      }),
      (a.prototype.redIMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.imul(this, c)
        );
      }),
      (a.prototype.redSqr = function () {
        return (
          i(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (a.prototype.redISqr = function () {
        return (
          i(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (a.prototype.redSqrt = function () {
        return (
          i(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (a.prototype.redInvm = function () {
        return (
          i(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (a.prototype.redNeg = function () {
        return (
          i(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (a.prototype.redPow = function (c) {
        return (
          i(this.red && !c.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, c)
        );
      });
    var z = { k256: null, p224: null, p192: null, p25519: null };
    function G(c, u) {
      (this.name = c),
        (this.p = new a(u, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new a(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (G.prototype._tmp = function () {
      var c = new a(null);
      return (c.words = new Array(Math.ceil(this.n / 13))), c;
    }),
      (G.prototype.ireduce = function (c) {
        var u = c,
          g;
        do
          this.split(u, this.tmp),
            (u = this.imulK(u)),
            (u = u.iadd(this.tmp)),
            (g = u.bitLength());
        while (g > this.n);
        var _ = g < this.n ? -1 : u.ucmp(this.p);
        return (
          _ === 0
            ? ((u.words[0] = 0), (u.length = 1))
            : _ > 0
            ? u.isub(this.p)
            : u.strip !== void 0
            ? u.strip()
            : u._strip(),
          u
        );
      }),
      (G.prototype.split = function (c, u) {
        c.iushrn(this.n, 0, u);
      }),
      (G.prototype.imulK = function (c) {
        return c.imul(this.k);
      });
    function A() {
      G.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    n(A, G),
      (A.prototype.split = function (c, u) {
        for (var g = 4194303, _ = Math.min(c.length, 9), I = 0; I < _; I++)
          u.words[I] = c.words[I];
        if (((u.length = _), c.length <= 9)) {
          (c.words[0] = 0), (c.length = 1);
          return;
        }
        var x = c.words[9];
        for (u.words[u.length++] = x & g, I = 10; I < c.length; I++) {
          var M = c.words[I] | 0;
          (c.words[I - 10] = ((M & g) << 4) | (x >>> 22)), (x = M);
        }
        (x >>>= 22),
          (c.words[I - 10] = x),
          x === 0 && c.length > 10 ? (c.length -= 10) : (c.length -= 9);
      }),
      (A.prototype.imulK = function (c) {
        (c.words[c.length] = 0), (c.words[c.length + 1] = 0), (c.length += 2);
        for (var u = 0, g = 0; g < c.length; g++) {
          var _ = c.words[g] | 0;
          (u += _ * 977),
            (c.words[g] = u & 67108863),
            (u = _ * 64 + ((u / 67108864) | 0));
        }
        return (
          c.words[c.length - 1] === 0 &&
            (c.length--, c.words[c.length - 1] === 0 && c.length--),
          c
        );
      });
    function F() {
      G.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    n(F, G);
    function ae() {
      G.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    n(ae, G);
    function de() {
      G.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    n(de, G),
      (de.prototype.imulK = function (c) {
        for (var u = 0, g = 0; g < c.length; g++) {
          var _ = (c.words[g] | 0) * 19 + u,
            I = _ & 67108863;
          (_ >>>= 26), (c.words[g] = I), (u = _);
        }
        return u !== 0 && (c.words[c.length++] = u), c;
      }),
      (a._prime = function (c) {
        if (z[c]) return z[c];
        var u;
        if (c === "k256") u = new A();
        else if (c === "p224") u = new F();
        else if (c === "p192") u = new ae();
        else if (c === "p25519") u = new de();
        else throw new Error("Unknown prime " + c);
        return (z[c] = u), u;
      });
    function B(c) {
      if (typeof c == "string") {
        var u = a._prime(c);
        (this.m = u.p), (this.prime = u);
      } else
        i(c.gtn(1), "modulus must be greater than 1"),
          (this.m = c),
          (this.prime = null);
    }
    (B.prototype._verify1 = function (c) {
      i(c.negative === 0, "red works only with positives"),
        i(c.red, "red works only with red numbers");
    }),
      (B.prototype._verify2 = function (c, u) {
        i((c.negative | u.negative) === 0, "red works only with positives"),
          i(c.red && c.red === u.red, "red works only with red numbers");
      }),
      (B.prototype.imod = function (c) {
        return this.prime
          ? this.prime.ireduce(c)._forceRed(this)
          : (y(c, c.umod(this.m)._forceRed(this)), c);
      }),
      (B.prototype.neg = function (c) {
        return c.isZero() ? c.clone() : this.m.sub(c)._forceRed(this);
      }),
      (B.prototype.add = function (c, u) {
        this._verify2(c, u);
        var g = c.add(u);
        return g.cmp(this.m) >= 0 && g.isub(this.m), g._forceRed(this);
      }),
      (B.prototype.iadd = function (c, u) {
        this._verify2(c, u);
        var g = c.iadd(u);
        return g.cmp(this.m) >= 0 && g.isub(this.m), g;
      }),
      (B.prototype.sub = function (c, u) {
        this._verify2(c, u);
        var g = c.sub(u);
        return g.cmpn(0) < 0 && g.iadd(this.m), g._forceRed(this);
      }),
      (B.prototype.isub = function (c, u) {
        this._verify2(c, u);
        var g = c.isub(u);
        return g.cmpn(0) < 0 && g.iadd(this.m), g;
      }),
      (B.prototype.shl = function (c, u) {
        return this._verify1(c), this.imod(c.ushln(u));
      }),
      (B.prototype.imul = function (c, u) {
        return this._verify2(c, u), this.imod(c.imul(u));
      }),
      (B.prototype.mul = function (c, u) {
        return this._verify2(c, u), this.imod(c.mul(u));
      }),
      (B.prototype.isqr = function (c) {
        return this.imul(c, c.clone());
      }),
      (B.prototype.sqr = function (c) {
        return this.mul(c, c);
      }),
      (B.prototype.sqrt = function (c) {
        if (c.isZero()) return c.clone();
        var u = this.m.andln(3);
        if ((i(u % 2 === 1), u === 3)) {
          var g = this.m.add(new a(1)).iushrn(2);
          return this.pow(c, g);
        }
        for (var _ = this.m.subn(1), I = 0; !_.isZero() && _.andln(1) === 0; )
          I++, _.iushrn(1);
        i(!_.isZero());
        var x = new a(1).toRed(this),
          M = x.redNeg(),
          d = this.m.subn(1).iushrn(1),
          p = this.m.bitLength();
        for (p = new a(2 * p * p).toRed(this); this.pow(p, d).cmp(M) !== 0; )
          p.redIAdd(M);
        for (
          var N = this.pow(p, _),
            Z = this.pow(c, _.addn(1).iushrn(1)),
            se = this.pow(c, _),
            D = I;
          se.cmp(x) !== 0;

        ) {
          for (var ee = se, q = 0; ee.cmp(x) !== 0; q++) ee = ee.redSqr();
          i(q < D);
          var k = this.pow(N, new a(1).iushln(D - q - 1));
          (Z = Z.redMul(k)), (N = k.redSqr()), (se = se.redMul(N)), (D = q);
        }
        return Z;
      }),
      (B.prototype.invm = function (c) {
        var u = c._invmp(this.m);
        return u.negative !== 0
          ? ((u.negative = 0), this.imod(u).redNeg())
          : this.imod(u);
      }),
      (B.prototype.pow = function (c, u) {
        if (u.isZero()) return new a(1).toRed(this);
        if (u.cmpn(1) === 0) return c.clone();
        var g = 4,
          _ = new Array(1 << g);
        (_[0] = new a(1).toRed(this)), (_[1] = c);
        for (var I = 2; I < _.length; I++) _[I] = this.mul(_[I - 1], c);
        var x = _[0],
          M = 0,
          d = 0,
          p = u.bitLength() % 26;
        for (p === 0 && (p = 26), I = u.length - 1; I >= 0; I--) {
          for (var N = u.words[I], Z = p - 1; Z >= 0; Z--) {
            var se = (N >> Z) & 1;
            if ((x !== _[0] && (x = this.sqr(x)), se === 0 && M === 0)) {
              d = 0;
              continue;
            }
            (M <<= 1),
              (M |= se),
              d++,
              !(d !== g && (I !== 0 || Z !== 0)) &&
                ((x = this.mul(x, _[M])), (d = 0), (M = 0));
          }
          p = 26;
        }
        return x;
      }),
      (B.prototype.convertTo = function (c) {
        var u = c.umod(this.m);
        return u === c ? u.clone() : u;
      }),
      (B.prototype.convertFrom = function (c) {
        var u = c.clone();
        return (u.red = null), u;
      }),
      (a.mont = function (c) {
        return new m(c);
      });
    function m(c) {
      B.call(this, c),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new a(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    n(m, B),
      (m.prototype.convertTo = function (c) {
        return this.imod(c.ushln(this.shift));
      }),
      (m.prototype.convertFrom = function (c) {
        var u = this.imod(c.mul(this.rinv));
        return (u.red = null), u;
      }),
      (m.prototype.imul = function (c, u) {
        if (c.isZero() || u.isZero())
          return (c.words[0] = 0), (c.length = 1), c;
        var g = c.imul(u),
          _ = g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          I = g.isub(_).iushrn(this.shift),
          x = I;
        return (
          I.cmp(this.m) >= 0
            ? (x = I.isub(this.m))
            : I.cmpn(0) < 0 && (x = I.iadd(this.m)),
          x._forceRed(this)
        );
      }),
      (m.prototype.mul = function (c, u) {
        if (c.isZero() || u.isZero()) return new a(0)._forceRed(this);
        var g = c.mul(u),
          _ = g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          I = g.isub(_).iushrn(this.shift),
          x = I;
        return (
          I.cmp(this.m) >= 0
            ? (x = I.isub(this.m))
            : I.cmpn(0) < 0 && (x = I.iadd(this.m)),
          x._forceRed(this)
        );
      }),
      (m.prototype.invm = function (c) {
        var u = this.imod(c._invmp(this.m).mul(this.r2));
        return u._forceRed(this);
      });
  })(r, Gv);
})(Qv);
var bt = Qv.exports;
const Xv = "bignumber/5.7.0";
var Vf = bt.BN;
const rs = new Pr(Xv),
  Jh = {},
  v1 = 9007199254740991;
function x9(r) {
  return (
    r != null &&
    (Gt.isBigNumber(r) ||
      (typeof r == "number" && r % 1 === 0) ||
      (typeof r == "string" && !!r.match(/^-?[0-9]+$/)) ||
      Ai(r) ||
      typeof r == "bigint" ||
      Ya(r))
  );
}
let b1 = !1;
class Gt {
  constructor(e, t) {
    e !== Jh &&
      rs.throwError(
        "cannot call constructor directly; use BigNumber.from",
        Pr.errors.UNSUPPORTED_OPERATION,
        { operation: "new (BigNumber)" }
      ),
      (this._hex = t),
      (this._isBigNumber = !0),
      Object.freeze(this);
  }
  fromTwos(e) {
    return ai(Pt(this).fromTwos(e));
  }
  toTwos(e) {
    return ai(Pt(this).toTwos(e));
  }
  abs() {
    return this._hex[0] === "-" ? Gt.from(this._hex.substring(1)) : this;
  }
  add(e) {
    return ai(Pt(this).add(Pt(e)));
  }
  sub(e) {
    return ai(Pt(this).sub(Pt(e)));
  }
  div(e) {
    return (
      Gt.from(e).isZero() && qi("division-by-zero", "div"),
      ai(Pt(this).div(Pt(e)))
    );
  }
  mul(e) {
    return ai(Pt(this).mul(Pt(e)));
  }
  mod(e) {
    const t = Pt(e);
    return t.isNeg() && qi("division-by-zero", "mod"), ai(Pt(this).umod(t));
  }
  pow(e) {
    const t = Pt(e);
    return t.isNeg() && qi("negative-power", "pow"), ai(Pt(this).pow(t));
  }
  and(e) {
    const t = Pt(e);
    return (
      (this.isNegative() || t.isNeg()) && qi("unbound-bitwise-result", "and"),
      ai(Pt(this).and(t))
    );
  }
  or(e) {
    const t = Pt(e);
    return (
      (this.isNegative() || t.isNeg()) && qi("unbound-bitwise-result", "or"),
      ai(Pt(this).or(t))
    );
  }
  xor(e) {
    const t = Pt(e);
    return (
      (this.isNegative() || t.isNeg()) && qi("unbound-bitwise-result", "xor"),
      ai(Pt(this).xor(t))
    );
  }
  mask(e) {
    return (
      (this.isNegative() || e < 0) && qi("negative-width", "mask"),
      ai(Pt(this).maskn(e))
    );
  }
  shl(e) {
    return (
      (this.isNegative() || e < 0) && qi("negative-width", "shl"),
      ai(Pt(this).shln(e))
    );
  }
  shr(e) {
    return (
      (this.isNegative() || e < 0) && qi("negative-width", "shr"),
      ai(Pt(this).shrn(e))
    );
  }
  eq(e) {
    return Pt(this).eq(Pt(e));
  }
  lt(e) {
    return Pt(this).lt(Pt(e));
  }
  lte(e) {
    return Pt(this).lte(Pt(e));
  }
  gt(e) {
    return Pt(this).gt(Pt(e));
  }
  gte(e) {
    return Pt(this).gte(Pt(e));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Pt(this).isZero();
  }
  toNumber() {
    try {
      return Pt(this).toNumber();
    } catch {
      qi("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {}
    return rs.throwError(
      "this platform does not support BigInt",
      Pr.errors.UNSUPPORTED_OPERATION,
      { value: this.toString() }
    );
  }
  toString() {
    return (
      arguments.length > 0 &&
        (arguments[0] === 10
          ? b1 ||
            ((b1 = !0),
            rs.warn(
              "BigNumber.toString does not accept any parameters; base-10 is assumed"
            ))
          : arguments[0] === 16
          ? rs.throwError(
              "BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",
              Pr.errors.UNEXPECTED_ARGUMENT,
              {}
            )
          : rs.throwError(
              "BigNumber.toString does not accept parameters",
              Pr.errors.UNEXPECTED_ARGUMENT,
              {}
            )),
      Pt(this).toString(10)
    );
  }
  toHexString() {
    return this._hex;
  }
  toJSON(e) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(e) {
    if (e instanceof Gt) return e;
    if (typeof e == "string")
      return e.match(/^-?0x[0-9a-f]+$/i)
        ? new Gt(Jh, Go(e))
        : e.match(/^-?[0-9]+$/)
        ? new Gt(Jh, Go(new Vf(e)))
        : rs.throwArgumentError("invalid BigNumber string", "value", e);
    if (typeof e == "number")
      return (
        e % 1 && qi("underflow", "BigNumber.from", e),
        (e >= v1 || e <= -v1) && qi("overflow", "BigNumber.from", e),
        Gt.from(String(e))
      );
    const t = e;
    if (typeof t == "bigint") return Gt.from(t.toString());
    if (Ya(t)) return Gt.from(fi(t));
    if (t)
      if (t.toHexString) {
        const i = t.toHexString();
        if (typeof i == "string") return Gt.from(i);
      } else {
        let i = t._hex;
        if (
          (i == null && t.type === "BigNumber" && (i = t.hex),
          typeof i == "string" &&
            (Ai(i) || (i[0] === "-" && Ai(i.substring(1)))))
        )
          return Gt.from(i);
      }
    return rs.throwArgumentError("invalid BigNumber value", "value", e);
  }
  static isBigNumber(e) {
    return !!(e && e._isBigNumber);
  }
}
function Go(r) {
  if (typeof r != "string") return Go(r.toString(16));
  if (r[0] === "-")
    return (
      (r = r.substring(1)),
      r[0] === "-" && rs.throwArgumentError("invalid hex", "value", r),
      (r = Go(r)),
      r === "0x00" ? r : "-" + r
    );
  if ((r.substring(0, 2) !== "0x" && (r = "0x" + r), r === "0x")) return "0x00";
  for (
    r.length % 2 && (r = "0x0" + r.substring(2));
    r.length > 4 && r.substring(0, 4) === "0x00";

  )
    r = "0x" + r.substring(4);
  return r;
}
function ai(r) {
  return Gt.from(Go(r));
}
function Pt(r) {
  const e = Gt.from(r).toHexString();
  return e[0] === "-"
    ? new Vf("-" + e.substring(3), 16)
    : new Vf(e.substring(2), 16);
}
function qi(r, e, t) {
  const i = { fault: r, operation: e };
  return (
    t != null && (i.value = t), rs.throwError(r, Pr.errors.NUMERIC_FAULT, i)
  );
}
function D9(r) {
  return new Vf(r, 36).toString(16);
}
const Jr = new Pr(Xv),
  $o = {},
  Zv = Gt.from(0),
  eb = Gt.from(-1);
function tb(r, e, t, i) {
  const n = { fault: e, operation: t };
  return (
    i !== void 0 && (n.value = i), Jr.throwError(r, Pr.errors.NUMERIC_FAULT, n)
  );
}
let jo = "0";
for (; jo.length < 256; ) jo += jo;
function pd(r) {
  if (typeof r != "number")
    try {
      r = Gt.from(r).toNumber();
    } catch {}
  return typeof r == "number" && r >= 0 && r <= 256 && !(r % 1)
    ? "1" + jo.substring(0, r)
    : Jr.throwArgumentError("invalid decimal size", "decimals", r);
}
function Yh(r, e) {
  e == null && (e = 0);
  const t = pd(e);
  r = Gt.from(r);
  const i = r.lt(Zv);
  i && (r = r.mul(eb));
  let n = r.mod(t).toString();
  for (; n.length < t.length - 1; ) n = "0" + n;
  n = n.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const a = r.div(t).toString();
  return t.length === 1 ? (r = a) : (r = a + "." + n), i && (r = "-" + r), r;
}
function Xn(r, e) {
  e == null && (e = 0);
  const t = pd(e);
  (typeof r != "string" || !r.match(/^-?[0-9.]+$/)) &&
    Jr.throwArgumentError("invalid decimal value", "value", r);
  const i = r.substring(0, 1) === "-";
  i && (r = r.substring(1)),
    r === "." && Jr.throwArgumentError("missing value", "value", r);
  const n = r.split(".");
  n.length > 2 && Jr.throwArgumentError("too many decimal points", "value", r);
  let a = n[0],
    f = n[1];
  for (a || (a = "0"), f || (f = "0"); f[f.length - 1] === "0"; )
    f = f.substring(0, f.length - 1);
  for (
    f.length > t.length - 1 &&
      tb("fractional component exceeds decimals", "underflow", "parseFixed"),
      f === "" && (f = "0");
    f.length < t.length - 1;

  )
    f += "0";
  const h = Gt.from(a),
    b = Gt.from(f);
  let v = h.mul(t).add(b);
  return i && (v = v.mul(eb)), v;
}
let Qh = class Fl {
    constructor(e, t, i, n) {
      e !== $o &&
        Jr.throwError(
          "cannot use FixedFormat constructor; use FixedFormat.from",
          Pr.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" }
        ),
        (this.signed = t),
        (this.width = i),
        (this.decimals = n),
        (this.name = (t ? "" : "u") + "fixed" + String(i) + "x" + String(n)),
        (this._multiplier = pd(n)),
        Object.freeze(this);
    }
    static from(e) {
      if (e instanceof Fl) return e;
      typeof e == "number" && (e = `fixed128x${e}`);
      let t = !0,
        i = 128,
        n = 18;
      if (typeof e == "string") {
        if (e !== "fixed")
          if (e === "ufixed") t = !1;
          else {
            const a = e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
            a || Jr.throwArgumentError("invalid fixed format", "format", e),
              (t = a[1] !== "u"),
              (i = parseInt(a[2])),
              (n = parseInt(a[3]));
          }
      } else if (e) {
        const a = (f, h, b) =>
          e[f] == null
            ? b
            : (typeof e[f] !== h &&
                Jr.throwArgumentError(
                  "invalid fixed format (" + f + " not " + h + ")",
                  "format." + f,
                  e[f]
                ),
              e[f]);
        (t = a("signed", "boolean", t)),
          (i = a("width", "number", i)),
          (n = a("decimals", "number", n));
      }
      return (
        i % 8 &&
          Jr.throwArgumentError(
            "invalid fixed format width (not byte aligned)",
            "format.width",
            i
          ),
        n > 80 &&
          Jr.throwArgumentError(
            "invalid fixed format (decimals too large)",
            "format.decimals",
            n
          ),
        new Fl($o, t, i, n)
      );
    }
  },
  rb = class Gr {
    constructor(e, t, i, n) {
      e !== $o &&
        Jr.throwError(
          "cannot use FixedNumber constructor; use FixedNumber.from",
          Pr.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" }
        ),
        (this.format = n),
        (this._hex = t),
        (this._value = i),
        (this._isFixedNumber = !0),
        Object.freeze(this);
    }
    _checkFormat(e) {
      this.format.name !== e.format.name &&
        Jr.throwArgumentError(
          "incompatible format; use fixedNumber.toFormat",
          "other",
          e
        );
    }
    addUnsafe(e) {
      this._checkFormat(e);
      const t = Xn(this._value, this.format.decimals),
        i = Xn(e._value, e.format.decimals);
      return Gr.fromValue(t.add(i), this.format.decimals, this.format);
    }
    subUnsafe(e) {
      this._checkFormat(e);
      const t = Xn(this._value, this.format.decimals),
        i = Xn(e._value, e.format.decimals);
      return Gr.fromValue(t.sub(i), this.format.decimals, this.format);
    }
    mulUnsafe(e) {
      this._checkFormat(e);
      const t = Xn(this._value, this.format.decimals),
        i = Xn(e._value, e.format.decimals);
      return Gr.fromValue(
        t.mul(i).div(this.format._multiplier),
        this.format.decimals,
        this.format
      );
    }
    divUnsafe(e) {
      this._checkFormat(e);
      const t = Xn(this._value, this.format.decimals),
        i = Xn(e._value, e.format.decimals);
      return Gr.fromValue(
        t.mul(this.format._multiplier).div(i),
        this.format.decimals,
        this.format
      );
    }
    floor() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = Gr.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        this.isNegative() && i && (t = t.subUnsafe(m1.toFormat(t.format))), t
      );
    }
    ceiling() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = Gr.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        !this.isNegative() && i && (t = t.addUnsafe(m1.toFormat(t.format))), t
      );
    }
    round(e) {
      e == null && (e = 0);
      const t = this.toString().split(".");
      if (
        (t.length === 1 && t.push("0"),
        (e < 0 || e > 80 || e % 1) &&
          Jr.throwArgumentError("invalid decimal count", "decimals", e),
        t[1].length <= e)
      )
        return this;
      const i = Gr.from("1" + jo.substring(0, e), this.format),
        n = P9.toFormat(this.format);
      return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i);
    }
    isZero() {
      return this._value === "0.0" || this._value === "0";
    }
    isNegative() {
      return this._value[0] === "-";
    }
    toString() {
      return this._value;
    }
    toHexString(e) {
      if (e == null) return this._hex;
      e % 8 && Jr.throwArgumentError("invalid byte width", "width", e);
      const t = Gt.from(this._hex)
        .fromTwos(this.format.width)
        .toTwos(e)
        .toHexString();
      return Nn(t, e / 8);
    }
    toUnsafeFloat() {
      return parseFloat(this.toString());
    }
    toFormat(e) {
      return Gr.fromString(this._value, e);
    }
    static fromValue(e, t, i) {
      return (
        i == null && t != null && !x9(t) && ((i = t), (t = null)),
        t == null && (t = 0),
        i == null && (i = "fixed"),
        Gr.fromString(Yh(e, t), Qh.from(i))
      );
    }
    static fromString(e, t) {
      t == null && (t = "fixed");
      const i = Qh.from(t),
        n = Xn(e, i.decimals);
      !i.signed &&
        n.lt(Zv) &&
        tb("unsigned value cannot be negative", "overflow", "value", e);
      let a = null;
      i.signed
        ? (a = n.toTwos(i.width).toHexString())
        : ((a = n.toHexString()), (a = Nn(a, i.width / 8)));
      const f = Yh(n, i.decimals);
      return new Gr($o, a, f, i);
    }
    static fromBytes(e, t) {
      t == null && (t = "fixed");
      const i = Qh.from(t);
      if (ir(e).length > i.width / 8) throw new Error("overflow");
      let n = Gt.from(e);
      i.signed && (n = n.fromTwos(i.width));
      const a = n.toTwos((i.signed ? 0 : 1) + i.width).toHexString(),
        f = Yh(n, i.decimals);
      return new Gr($o, a, f, i);
    }
    static from(e, t) {
      if (typeof e == "string") return Gr.fromString(e, t);
      if (Ya(e)) return Gr.fromBytes(e, t);
      try {
        return Gr.fromValue(e, 0, t);
      } catch (i) {
        if (i.code !== Pr.errors.INVALID_ARGUMENT) throw i;
      }
      return Jr.throwArgumentError("invalid FixedNumber value", "value", e);
    }
    static isFixedNumber(e) {
      return !!(e && e._isFixedNumber);
    }
  };
const m1 = rb.from(1),
  P9 = rb.from("0.5"),
  O9 = "strings/5.7.0",
  C9 = new Pr(O9);
var Gf;
(function (r) {
  (r.current = ""),
    (r.NFC = "NFC"),
    (r.NFD = "NFD"),
    (r.NFKC = "NFKC"),
    (r.NFKD = "NFKD");
})(Gf || (Gf = {}));
var y1;
(function (r) {
  (r.UNEXPECTED_CONTINUE = "unexpected continuation byte"),
    (r.BAD_PREFIX = "bad codepoint prefix"),
    (r.OVERRUN = "string overrun"),
    (r.MISSING_CONTINUE = "missing continuation byte"),
    (r.OUT_OF_RANGE = "out of UTF-8 range"),
    (r.UTF16_SURROGATE = "UTF-16 surrogate"),
    (r.OVERLONG = "overlong representation");
})(y1 || (y1 = {}));
function Xh(r, e = Gf.current) {
  e != Gf.current && (C9.checkNormalize(), (r = r.normalize(e)));
  let t = [];
  for (let i = 0; i < r.length; i++) {
    const n = r.charCodeAt(i);
    if (n < 128) t.push(n);
    else if (n < 2048) t.push((n >> 6) | 192), t.push((n & 63) | 128);
    else if ((n & 64512) == 55296) {
      i++;
      const a = r.charCodeAt(i);
      if (i >= r.length || (a & 64512) !== 56320)
        throw new Error("invalid utf-8 string");
      const f = 65536 + ((n & 1023) << 10) + (a & 1023);
      t.push((f >> 18) | 240),
        t.push(((f >> 12) & 63) | 128),
        t.push(((f >> 6) & 63) | 128),
        t.push((f & 63) | 128);
    } else
      t.push((n >> 12) | 224),
        t.push(((n >> 6) & 63) | 128),
        t.push((n & 63) | 128);
  }
  return ir(t);
}
function R9(r) {
  if (r.length % 4 !== 0) throw new Error("bad data");
  let e = [];
  for (let t = 0; t < r.length; t += 4)
    e.push(parseInt(r.substring(t, t + 4), 16));
  return e;
}
function Zh(r, e) {
  e ||
    (e = function (n) {
      return [parseInt(n, 16)];
    });
  let t = 0,
    i = {};
  return (
    r.split(",").forEach((n) => {
      let a = n.split(":");
      (t += parseInt(a[0], 16)), (i[t] = e(a[1]));
    }),
    i
  );
}
function w1(r) {
  let e = 0;
  return r.split(",").map((t) => {
    let i = t.split("-");
    i.length === 1 ? (i[1] = "0") : i[1] === "" && (i[1] = "1");
    let n = e + parseInt(i[0], 16);
    return (e = parseInt(i[1], 16)), { l: n, h: e };
  });
}
w1(
  "221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"
),
  "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff"
    .split(",")
    .map((r) => parseInt(r, 16)),
  Zh(
    "b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"
  ),
  Zh(
    "179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"
  ),
  Zh(
    "df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",
    R9
  ),
  w1(
    "80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001"
  );
function N9(r) {
  r = atob(r);
  const e = [];
  for (let t = 0; t < r.length; t++) e.push(r.charCodeAt(t));
  return ir(e);
}
function ib(r, e) {
  e == null && (e = 1);
  const t = [],
    i = t.forEach,
    n = function (a, f) {
      i.call(a, function (h) {
        f > 0 && Array.isArray(h) ? n(h, f - 1) : t.push(h);
      });
    };
  return n(r, e), t;
}
function T9(r) {
  const e = {};
  for (let t = 0; t < r.length; t++) {
    const i = r[t];
    e[i[0]] = i[1];
  }
  return e;
}
function F9(r) {
  let e = 0;
  function t() {
    return (r[e++] << 8) | r[e++];
  }
  let i = t(),
    n = 1,
    a = [0, 1];
  for (let z = 1; z < i; z++) a.push((n += t()));
  let f = t(),
    h = e;
  e += f;
  let b = 0,
    v = 0;
  function y() {
    return b == 0 && ((v = (v << 8) | r[e++]), (b = 8)), (v >> --b) & 1;
  }
  const S = 31,
    O = Math.pow(2, S),
    P = O >>> 1,
    C = P >> 1,
    H = O - 1;
  let V = 0;
  for (let z = 0; z < S; z++) V = (V << 1) | y();
  let Q = [],
    j = 0,
    Y = O;
  for (;;) {
    let z = Math.floor(((V - j + 1) * n - 1) / Y),
      G = 0,
      A = i;
    for (; A - G > 1; ) {
      let de = (G + A) >>> 1;
      z < a[de] ? (A = de) : (G = de);
    }
    if (G == 0) break;
    Q.push(G);
    let F = j + Math.floor((Y * a[G]) / n),
      ae = j + Math.floor((Y * a[G + 1]) / n) - 1;
    for (; !((F ^ ae) & P); )
      (V = ((V << 1) & H) | y()),
        (F = (F << 1) & H),
        (ae = ((ae << 1) & H) | 1);
    for (; F & ~ae & C; )
      (V = (V & P) | ((V << 1) & (H >>> 1)) | y()),
        (F = (F << 1) ^ P),
        (ae = ((ae ^ P) << 1) | P | 1);
    (j = F), (Y = 1 + ae - F);
  }
  let U = i - 4;
  return Q.map((z) => {
    switch (z - U) {
      case 3:
        return U + 65792 + ((r[h++] << 16) | (r[h++] << 8) | r[h++]);
      case 2:
        return U + 256 + ((r[h++] << 8) | r[h++]);
      case 1:
        return U + r[h++];
      default:
        return z - 1;
    }
  });
}
function B9(r) {
  let e = 0;
  return () => r[e++];
}
function q9(r) {
  return B9(F9(r));
}
function L9(r) {
  return r & 1 ? ~r >> 1 : r >> 1;
}
function U9(r, e) {
  let t = Array(r);
  for (let i = 0; i < r; i++) t[i] = 1 + e();
  return t;
}
function _1(r, e) {
  let t = Array(r);
  for (let i = 0, n = -1; i < r; i++) t[i] = n += 1 + e();
  return t;
}
function $9(r, e) {
  let t = Array(r);
  for (let i = 0, n = 0; i < r; i++) t[i] = n += L9(e());
  return t;
}
function Wf(r, e) {
  let t = _1(r(), r),
    i = r(),
    n = _1(i, r),
    a = U9(i, r);
  for (let f = 0; f < i; f++) for (let h = 0; h < a[f]; h++) t.push(n[f] + h);
  return e ? t.map((f) => e[f]) : t;
}
function j9(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(k9(t, r));
  }
  for (;;) {
    let t = r() - 1;
    if (t < 0) break;
    e.push(H9(t, r));
  }
  return T9(ib(e));
}
function z9(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(t);
  }
  return e;
}
function nb(r, e, t) {
  let i = Array(r)
    .fill(void 0)
    .map(() => []);
  for (let n = 0; n < e; n++) $9(r, t).forEach((a, f) => i[f].push(a));
  return i;
}
function k9(r, e) {
  let t = 1 + e(),
    i = e(),
    n = z9(e),
    a = nb(n.length, 1 + r, e);
  return ib(
    a.map((f, h) => {
      const b = f[0],
        v = f.slice(1);
      return Array(n[h])
        .fill(void 0)
        .map((y, S) => {
          let O = S * i;
          return [b + S * t, v.map((P) => P + O)];
        });
    })
  );
}
function H9(r, e) {
  let t = 1 + e();
  return nb(t, 1 + r, e).map((i) => [i[0], i.slice(1)]);
}
function K9(r) {
  let e = Wf(r).sort((i, n) => i - n);
  return t();
  function t() {
    let i = [];
    for (;;) {
      let v = Wf(r, e);
      if (v.length == 0) break;
      i.push({ set: new Set(v), node: t() });
    }
    i.sort((v, y) => y.set.size - v.set.size);
    let n = r(),
      a = n % 3;
    n = (n / 3) | 0;
    let f = !!(n & 1);
    n >>= 1;
    let h = n == 1,
      b = n == 2;
    return { branches: i, valid: a, fe0f: f, save: h, check: b };
  }
}
function V9() {
  return q9(
    N9(
      "AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="
    )
  );
}
const bf = V9();
new Set(Wf(bf)), new Set(Wf(bf)), j9(bf), K9(bf);
const G9 = new Uint8Array(32);
G9.fill(0);
const W9 = `Ethereum Signed Message:
`;
function sb(r) {
  return (
    typeof r == "string" && (r = Xh(r)),
    dd(_9([Xh(W9), Xh(String(r.length)), r]))
  );
}
const J9 = "address/5.7.0",
  Fo = new Pr(J9);
function A1(r) {
  Ai(r, 20) || Fo.throwArgumentError("invalid address", "address", r),
    (r = r.toLowerCase());
  const e = r.substring(2).split(""),
    t = new Uint8Array(40);
  for (let n = 0; n < 40; n++) t[n] = e[n].charCodeAt(0);
  const i = ir(dd(t));
  for (let n = 0; n < 40; n += 2)
    i[n >> 1] >> 4 >= 8 && (e[n] = e[n].toUpperCase()),
      (i[n >> 1] & 15) >= 8 && (e[n + 1] = e[n + 1].toUpperCase());
  return "0x" + e.join("");
}
const Y9 = 9007199254740991;
function Q9(r) {
  return Math.log10 ? Math.log10(r) : Math.log(r) / Math.LN10;
}
const gd = {};
for (let r = 0; r < 10; r++) gd[String(r)] = String(r);
for (let r = 0; r < 26; r++) gd[String.fromCharCode(65 + r)] = String(10 + r);
const E1 = Math.floor(Q9(Y9));
function X9(r) {
  (r = r.toUpperCase()), (r = r.substring(4) + r.substring(0, 2) + "00");
  let e = r
    .split("")
    .map((i) => gd[i])
    .join("");
  for (; e.length >= E1; ) {
    let i = e.substring(0, E1);
    e = (parseInt(i, 10) % 97) + e.substring(i.length);
  }
  let t = String(98 - (parseInt(e, 10) % 97));
  for (; t.length < 2; ) t = "0" + t;
  return t;
}
function Z9(r) {
  let e = null;
  if (
    (typeof r != "string" &&
      Fo.throwArgumentError("invalid address", "address", r),
    r.match(/^(0x)?[0-9a-fA-F]{40}$/))
  )
    r.substring(0, 2) !== "0x" && (r = "0x" + r),
      (e = A1(r)),
      r.match(/([A-F].*[a-f])|([a-f].*[A-F])/) &&
        e !== r &&
        Fo.throwArgumentError("bad address checksum", "address", r);
  else if (r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {
    for (
      r.substring(2, 4) !== X9(r) &&
        Fo.throwArgumentError("bad icap checksum", "address", r),
        e = D9(r.substring(4));
      e.length < 40;

    )
      e = "0" + e;
    e = A1("0x" + e);
  } else Fo.throwArgumentError("invalid address", "address", r);
  return e;
}
function Mo(r, e, t) {
  Object.defineProperty(r, e, { enumerable: !0, value: t, writable: !1 });
}
const eA = new Uint8Array(32);
eA.fill(0), Gt.from(-1);
const tA = Gt.from(0),
  rA = Gt.from(1);
Gt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),
  Nn(rA.toHexString(), 32),
  Nn(tA.toHexString(), 32);
var xn = {},
  Ot = {},
  oc = ab;
function ab(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
ab.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var Bl = { exports: {} };
typeof Object.create == "function"
  ? (Bl.exports = function (r, e) {
      e &&
        ((r.super_ = e),
        (r.prototype = Object.create(e.prototype, {
          constructor: {
            value: r,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })));
    })
  : (Bl.exports = function (r, e) {
      if (e) {
        r.super_ = e;
        var t = function () {};
        (t.prototype = e.prototype),
          (r.prototype = new t()),
          (r.prototype.constructor = r);
      }
    });
var iA = oc,
  nA = Bl.exports;
Ot.inherits = nA;
function sA(r, e) {
  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length
    ? !1
    : (r.charCodeAt(e + 1) & 64512) === 56320;
}
function aA(r, e) {
  if (Array.isArray(r)) return r.slice();
  if (!r) return [];
  var t = [];
  if (typeof r == "string")
    if (e) {
      if (e === "hex")
        for (
          r = r.replace(/[^a-z0-9]+/gi, ""),
            r.length % 2 !== 0 && (r = "0" + r),
            n = 0;
          n < r.length;
          n += 2
        )
          t.push(parseInt(r[n] + r[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < r.length; n++) {
        var a = r.charCodeAt(n);
        a < 128
          ? (t[i++] = a)
          : a < 2048
          ? ((t[i++] = (a >> 6) | 192), (t[i++] = (a & 63) | 128))
          : sA(r, n)
          ? ((a = 65536 + ((a & 1023) << 10) + (r.charCodeAt(++n) & 1023)),
            (t[i++] = (a >> 18) | 240),
            (t[i++] = ((a >> 12) & 63) | 128),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128))
          : ((t[i++] = (a >> 12) | 224),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128));
      }
  else for (n = 0; n < r.length; n++) t[n] = r[n] | 0;
  return t;
}
Ot.toArray = aA;
function oA(r) {
  for (var e = "", t = 0; t < r.length; t++) e += cb(r[t].toString(16));
  return e;
}
Ot.toHex = oA;
function ob(r) {
  var e =
    (r >>> 24) |
    ((r >>> 8) & 65280) |
    ((r << 8) & 16711680) |
    ((r & 255) << 24);
  return e >>> 0;
}
Ot.htonl = ob;
function cA(r, e) {
  for (var t = "", i = 0; i < r.length; i++) {
    var n = r[i];
    e === "little" && (n = ob(n)), (t += fb(n.toString(16)));
  }
  return t;
}
Ot.toHex32 = cA;
function cb(r) {
  return r.length === 1 ? "0" + r : r;
}
Ot.zero2 = cb;
function fb(r) {
  return r.length === 7
    ? "0" + r
    : r.length === 6
    ? "00" + r
    : r.length === 5
    ? "000" + r
    : r.length === 4
    ? "0000" + r
    : r.length === 3
    ? "00000" + r
    : r.length === 2
    ? "000000" + r
    : r.length === 1
    ? "0000000" + r
    : r;
}
Ot.zero8 = fb;
function fA(r, e, t, i) {
  var n = t - e;
  iA(n % 4 === 0);
  for (var a = new Array(n / 4), f = 0, h = e; f < a.length; f++, h += 4) {
    var b;
    i === "big"
      ? (b = (r[h] << 24) | (r[h + 1] << 16) | (r[h + 2] << 8) | r[h + 3])
      : (b = (r[h + 3] << 24) | (r[h + 2] << 16) | (r[h + 1] << 8) | r[h]),
      (a[f] = b >>> 0);
  }
  return a;
}
Ot.join32 = fA;
function uA(r, e) {
  for (
    var t = new Array(r.length * 4), i = 0, n = 0;
    i < r.length;
    i++, n += 4
  ) {
    var a = r[i];
    e === "big"
      ? ((t[n] = a >>> 24),
        (t[n + 1] = (a >>> 16) & 255),
        (t[n + 2] = (a >>> 8) & 255),
        (t[n + 3] = a & 255))
      : ((t[n + 3] = a >>> 24),
        (t[n + 2] = (a >>> 16) & 255),
        (t[n + 1] = (a >>> 8) & 255),
        (t[n] = a & 255));
  }
  return t;
}
Ot.split32 = uA;
function hA(r, e) {
  return (r >>> e) | (r << (32 - e));
}
Ot.rotr32 = hA;
function lA(r, e) {
  return (r << e) | (r >>> (32 - e));
}
Ot.rotl32 = lA;
function dA(r, e) {
  return (r + e) >>> 0;
}
Ot.sum32 = dA;
function pA(r, e, t) {
  return (r + e + t) >>> 0;
}
Ot.sum32_3 = pA;
function gA(r, e, t, i) {
  return (r + e + t + i) >>> 0;
}
Ot.sum32_4 = gA;
function vA(r, e, t, i, n) {
  return (r + e + t + i + n) >>> 0;
}
Ot.sum32_5 = vA;
function bA(r, e, t, i) {
  var n = r[e],
    a = r[e + 1],
    f = (i + a) >>> 0,
    h = (f < i ? 1 : 0) + t + n;
  (r[e] = h >>> 0), (r[e + 1] = f);
}
Ot.sum64 = bA;
function mA(r, e, t, i) {
  var n = (e + i) >>> 0,
    a = (n < e ? 1 : 0) + r + t;
  return a >>> 0;
}
Ot.sum64_hi = mA;
function yA(r, e, t, i) {
  var n = e + i;
  return n >>> 0;
}
Ot.sum64_lo = yA;
function wA(r, e, t, i, n, a, f, h) {
  var b = 0,
    v = e;
  (v = (v + i) >>> 0),
    (b += v < e ? 1 : 0),
    (v = (v + a) >>> 0),
    (b += v < a ? 1 : 0),
    (v = (v + h) >>> 0),
    (b += v < h ? 1 : 0);
  var y = r + t + n + f + b;
  return y >>> 0;
}
Ot.sum64_4_hi = wA;
function _A(r, e, t, i, n, a, f, h) {
  var b = e + i + a + h;
  return b >>> 0;
}
Ot.sum64_4_lo = _A;
function AA(r, e, t, i, n, a, f, h, b, v) {
  var y = 0,
    S = e;
  (S = (S + i) >>> 0),
    (y += S < e ? 1 : 0),
    (S = (S + a) >>> 0),
    (y += S < a ? 1 : 0),
    (S = (S + h) >>> 0),
    (y += S < h ? 1 : 0),
    (S = (S + v) >>> 0),
    (y += S < v ? 1 : 0);
  var O = r + t + n + f + b + y;
  return O >>> 0;
}
Ot.sum64_5_hi = AA;
function EA(r, e, t, i, n, a, f, h, b, v) {
  var y = e + i + a + h + v;
  return y >>> 0;
}
Ot.sum64_5_lo = EA;
function SA(r, e, t) {
  var i = (e << (32 - t)) | (r >>> t);
  return i >>> 0;
}
Ot.rotr64_hi = SA;
function MA(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Ot.rotr64_lo = MA;
function IA(r, e, t) {
  return r >>> t;
}
Ot.shr64_hi = IA;
function xA(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Ot.shr64_lo = xA;
var Qa = {},
  S1 = Ot,
  DA = oc;
function mf() {
  (this.pending = null),
    (this.pendingTotal = 0),
    (this.blockSize = this.constructor.blockSize),
    (this.outSize = this.constructor.outSize),
    (this.hmacStrength = this.constructor.hmacStrength),
    (this.padLength = this.constructor.padLength / 8),
    (this.endian = "big"),
    (this._delta8 = this.blockSize / 8),
    (this._delta32 = this.blockSize / 32);
}
(Qa.BlockHash = mf),
  (mf.prototype.update = function (r, e) {
    if (
      ((r = S1.toArray(r, e)),
      this.pending
        ? (this.pending = this.pending.concat(r))
        : (this.pending = r),
      (this.pendingTotal += r.length),
      this.pending.length >= this._delta8)
    ) {
      r = this.pending;
      var t = r.length % this._delta8;
      (this.pending = r.slice(r.length - t, r.length)),
        this.pending.length === 0 && (this.pending = null),
        (r = S1.join32(r, 0, r.length - t, this.endian));
      for (var i = 0; i < r.length; i += this._delta32)
        this._update(r, i, i + this._delta32);
    }
    return this;
  }),
  (mf.prototype.digest = function (r) {
    return this.update(this._pad()), DA(this.pending === null), this._digest(r);
  }),
  (mf.prototype._pad = function () {
    var r = this.pendingTotal,
      e = this._delta8,
      t = e - ((r + this.padLength) % e),
      i = new Array(t + this.padLength);
    i[0] = 128;
    for (var n = 1; n < t; n++) i[n] = 0;
    if (((r <<= 3), this.endian === "big")) {
      for (var a = 8; a < this.padLength; a++) i[n++] = 0;
      (i[n++] = 0),
        (i[n++] = 0),
        (i[n++] = 0),
        (i[n++] = 0),
        (i[n++] = (r >>> 24) & 255),
        (i[n++] = (r >>> 16) & 255),
        (i[n++] = (r >>> 8) & 255),
        (i[n++] = r & 255);
    } else
      for (
        i[n++] = r & 255,
          i[n++] = (r >>> 8) & 255,
          i[n++] = (r >>> 16) & 255,
          i[n++] = (r >>> 24) & 255,
          i[n++] = 0,
          i[n++] = 0,
          i[n++] = 0,
          i[n++] = 0,
          a = 8;
        a < this.padLength;
        a++
      )
        i[n++] = 0;
    return i;
  });
var Ta = {},
  jn = {},
  PA = Ot,
  Tn = PA.rotr32;
function OA(r, e, t, i) {
  if (r === 0) return ub(e, t, i);
  if (r === 1 || r === 3) return lb(e, t, i);
  if (r === 2) return hb(e, t, i);
}
jn.ft_1 = OA;
function ub(r, e, t) {
  return (r & e) ^ (~r & t);
}
jn.ch32 = ub;
function hb(r, e, t) {
  return (r & e) ^ (r & t) ^ (e & t);
}
jn.maj32 = hb;
function lb(r, e, t) {
  return r ^ e ^ t;
}
jn.p32 = lb;
function CA(r) {
  return Tn(r, 2) ^ Tn(r, 13) ^ Tn(r, 22);
}
jn.s0_256 = CA;
function RA(r) {
  return Tn(r, 6) ^ Tn(r, 11) ^ Tn(r, 25);
}
jn.s1_256 = RA;
function NA(r) {
  return Tn(r, 7) ^ Tn(r, 18) ^ (r >>> 3);
}
jn.g0_256 = NA;
function TA(r) {
  return Tn(r, 17) ^ Tn(r, 19) ^ (r >>> 10);
}
jn.g1_256 = TA;
var ka = Ot,
  FA = Qa,
  BA = jn,
  el = ka.rotl32,
  Io = ka.sum32,
  qA = ka.sum32_5,
  LA = BA.ft_1,
  db = FA.BlockHash,
  UA = [1518500249, 1859775393, 2400959708, 3395469782];
function Cn() {
  if (!(this instanceof Cn)) return new Cn();
  db.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.W = new Array(80));
}
ka.inherits(Cn, db);
var $A = Cn;
(Cn.blockSize = 512),
  (Cn.outSize = 160),
  (Cn.hmacStrength = 80),
  (Cn.padLength = 64),
  (Cn.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = el(t[i - 3] ^ t[i - 8] ^ t[i - 14] ^ t[i - 16], 1);
    var n = this.h[0],
      a = this.h[1],
      f = this.h[2],
      h = this.h[3],
      b = this.h[4];
    for (i = 0; i < t.length; i++) {
      var v = ~~(i / 20),
        y = qA(el(n, 5), LA(v, a, f, h), b, t[i], UA[v]);
      (b = h), (h = f), (f = el(a, 30)), (a = n), (n = y);
    }
    (this.h[0] = Io(this.h[0], n)),
      (this.h[1] = Io(this.h[1], a)),
      (this.h[2] = Io(this.h[2], f)),
      (this.h[3] = Io(this.h[3], h)),
      (this.h[4] = Io(this.h[4], b));
  }),
  (Cn.prototype._digest = function (r) {
    return r === "hex" ? ka.toHex32(this.h, "big") : ka.split32(this.h, "big");
  });
var Ha = Ot,
  jA = Qa,
  Xa = jn,
  zA = oc,
  fn = Ha.sum32,
  kA = Ha.sum32_4,
  HA = Ha.sum32_5,
  KA = Xa.ch32,
  VA = Xa.maj32,
  GA = Xa.s0_256,
  WA = Xa.s1_256,
  JA = Xa.g0_256,
  YA = Xa.g1_256,
  pb = jA.BlockHash,
  QA = [
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ];
function Rn() {
  if (!(this instanceof Rn)) return new Rn();
  pb.call(this),
    (this.h = [
      1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
      528734635, 1541459225,
    ]),
    (this.k = QA),
    (this.W = new Array(64));
}
Ha.inherits(Rn, pb);
var gb = Rn;
(Rn.blockSize = 512),
  (Rn.outSize = 256),
  (Rn.hmacStrength = 192),
  (Rn.padLength = 64),
  (Rn.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = kA(YA(t[i - 2]), t[i - 7], JA(t[i - 15]), t[i - 16]);
    var n = this.h[0],
      a = this.h[1],
      f = this.h[2],
      h = this.h[3],
      b = this.h[4],
      v = this.h[5],
      y = this.h[6],
      S = this.h[7];
    for (zA(this.k.length === t.length), i = 0; i < t.length; i++) {
      var O = HA(S, WA(b), KA(b, v, y), this.k[i], t[i]),
        P = fn(GA(n), VA(n, a, f));
      (S = y),
        (y = v),
        (v = b),
        (b = fn(h, O)),
        (h = f),
        (f = a),
        (a = n),
        (n = fn(O, P));
    }
    (this.h[0] = fn(this.h[0], n)),
      (this.h[1] = fn(this.h[1], a)),
      (this.h[2] = fn(this.h[2], f)),
      (this.h[3] = fn(this.h[3], h)),
      (this.h[4] = fn(this.h[4], b)),
      (this.h[5] = fn(this.h[5], v)),
      (this.h[6] = fn(this.h[6], y)),
      (this.h[7] = fn(this.h[7], S));
  }),
  (Rn.prototype._digest = function (r) {
    return r === "hex" ? Ha.toHex32(this.h, "big") : Ha.split32(this.h, "big");
  });
var ql = Ot,
  vb = gb;
function ns() {
  if (!(this instanceof ns)) return new ns();
  vb.call(this),
    (this.h = [
      3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
      1694076839, 3204075428,
    ]);
}
ql.inherits(ns, vb);
var XA = ns;
(ns.blockSize = 512),
  (ns.outSize = 224),
  (ns.hmacStrength = 192),
  (ns.padLength = 64),
  (ns.prototype._digest = function (r) {
    return r === "hex"
      ? ql.toHex32(this.h.slice(0, 7), "big")
      : ql.split32(this.h.slice(0, 7), "big");
  });
var di = Ot,
  ZA = Qa,
  eE = oc,
  Fn = di.rotr64_hi,
  Bn = di.rotr64_lo,
  bb = di.shr64_hi,
  mb = di.shr64_lo,
  ws = di.sum64,
  tl = di.sum64_hi,
  rl = di.sum64_lo,
  tE = di.sum64_4_hi,
  rE = di.sum64_4_lo,
  iE = di.sum64_5_hi,
  nE = di.sum64_5_lo,
  yb = ZA.BlockHash,
  sE = [
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ];
function pn() {
  if (!(this instanceof pn)) return new pn();
  yb.call(this),
    (this.h = [
      1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
      2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
      528734635, 4215389547, 1541459225, 327033209,
    ]),
    (this.k = sE),
    (this.W = new Array(160));
}
di.inherits(pn, yb);
var wb = pn;
(pn.blockSize = 1024),
  (pn.outSize = 512),
  (pn.hmacStrength = 192),
  (pn.padLength = 128),
  (pn.prototype._prepareBlock = function (r, e) {
    for (var t = this.W, i = 0; i < 32; i++) t[i] = r[e + i];
    for (; i < t.length; i += 2) {
      var n = vE(t[i - 4], t[i - 3]),
        a = bE(t[i - 4], t[i - 3]),
        f = t[i - 14],
        h = t[i - 13],
        b = pE(t[i - 30], t[i - 29]),
        v = gE(t[i - 30], t[i - 29]),
        y = t[i - 32],
        S = t[i - 31];
      (t[i] = tE(n, a, f, h, b, v, y, S)),
        (t[i + 1] = rE(n, a, f, h, b, v, y, S));
    }
  }),
  (pn.prototype._update = function (r, e) {
    this._prepareBlock(r, e);
    var t = this.W,
      i = this.h[0],
      n = this.h[1],
      a = this.h[2],
      f = this.h[3],
      h = this.h[4],
      b = this.h[5],
      v = this.h[6],
      y = this.h[7],
      S = this.h[8],
      O = this.h[9],
      P = this.h[10],
      C = this.h[11],
      H = this.h[12],
      V = this.h[13],
      Q = this.h[14],
      j = this.h[15];
    eE(this.k.length === t.length);
    for (var Y = 0; Y < t.length; Y += 2) {
      var U = Q,
        z = j,
        G = lE(S, O),
        A = dE(S, O),
        F = aE(S, O, P, C, H),
        ae = oE(S, O, P, C, H, V),
        de = this.k[Y],
        B = this.k[Y + 1],
        m = t[Y],
        c = t[Y + 1],
        u = iE(U, z, G, A, F, ae, de, B, m, c),
        g = nE(U, z, G, A, F, ae, de, B, m, c);
      (U = uE(i, n)),
        (z = hE(i, n)),
        (G = cE(i, n, a, f, h)),
        (A = fE(i, n, a, f, h, b));
      var _ = tl(U, z, G, A),
        I = rl(U, z, G, A);
      (Q = H),
        (j = V),
        (H = P),
        (V = C),
        (P = S),
        (C = O),
        (S = tl(v, y, u, g)),
        (O = rl(y, y, u, g)),
        (v = h),
        (y = b),
        (h = a),
        (b = f),
        (a = i),
        (f = n),
        (i = tl(u, g, _, I)),
        (n = rl(u, g, _, I));
    }
    ws(this.h, 0, i, n),
      ws(this.h, 2, a, f),
      ws(this.h, 4, h, b),
      ws(this.h, 6, v, y),
      ws(this.h, 8, S, O),
      ws(this.h, 10, P, C),
      ws(this.h, 12, H, V),
      ws(this.h, 14, Q, j);
  }),
  (pn.prototype._digest = function (r) {
    return r === "hex" ? di.toHex32(this.h, "big") : di.split32(this.h, "big");
  });
function aE(r, e, t, i, n) {
  var a = (r & t) ^ (~r & n);
  return a < 0 && (a += 4294967296), a;
}
function oE(r, e, t, i, n, a) {
  var f = (e & i) ^ (~e & a);
  return f < 0 && (f += 4294967296), f;
}
function cE(r, e, t, i, n) {
  var a = (r & t) ^ (r & n) ^ (t & n);
  return a < 0 && (a += 4294967296), a;
}
function fE(r, e, t, i, n, a) {
  var f = (e & i) ^ (e & a) ^ (i & a);
  return f < 0 && (f += 4294967296), f;
}
function uE(r, e) {
  var t = Fn(r, e, 28),
    i = Fn(e, r, 2),
    n = Fn(e, r, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function hE(r, e) {
  var t = Bn(r, e, 28),
    i = Bn(e, r, 2),
    n = Bn(e, r, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function lE(r, e) {
  var t = Fn(r, e, 14),
    i = Fn(r, e, 18),
    n = Fn(e, r, 9),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function dE(r, e) {
  var t = Bn(r, e, 14),
    i = Bn(r, e, 18),
    n = Bn(e, r, 9),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function pE(r, e) {
  var t = Fn(r, e, 1),
    i = Fn(r, e, 8),
    n = bb(r, e, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function gE(r, e) {
  var t = Bn(r, e, 1),
    i = Bn(r, e, 8),
    n = mb(r, e, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function vE(r, e) {
  var t = Fn(r, e, 19),
    i = Fn(e, r, 29),
    n = bb(r, e, 6),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function bE(r, e) {
  var t = Bn(r, e, 19),
    i = Bn(e, r, 29),
    n = mb(r, e, 6),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
var Ll = Ot,
  _b = wb;
function ss() {
  if (!(this instanceof ss)) return new ss();
  _b.call(this),
    (this.h = [
      3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
      355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
      3675008525, 1694076839, 1203062813, 3204075428,
    ]);
}
Ll.inherits(ss, _b);
var mE = ss;
(ss.blockSize = 1024),
  (ss.outSize = 384),
  (ss.hmacStrength = 192),
  (ss.padLength = 128),
  (ss.prototype._digest = function (r) {
    return r === "hex"
      ? Ll.toHex32(this.h.slice(0, 12), "big")
      : Ll.split32(this.h.slice(0, 12), "big");
  }),
  (Ta.sha1 = $A),
  (Ta.sha224 = XA),
  (Ta.sha256 = gb),
  (Ta.sha384 = mE),
  (Ta.sha512 = wb);
var Ab = {},
  ta = Ot,
  yE = Qa,
  yf = ta.rotl32,
  M1 = ta.sum32,
  xo = ta.sum32_3,
  I1 = ta.sum32_4,
  Eb = yE.BlockHash;
function Dn() {
  if (!(this instanceof Dn)) return new Dn();
  Eb.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.endian = "little");
}
ta.inherits(Dn, Eb),
  (Ab.ripemd160 = Dn),
  (Dn.blockSize = 512),
  (Dn.outSize = 160),
  (Dn.hmacStrength = 192),
  (Dn.padLength = 64),
  (Dn.prototype._update = function (r, e) {
    for (
      var t = this.h[0],
        i = this.h[1],
        n = this.h[2],
        a = this.h[3],
        f = this.h[4],
        h = t,
        b = i,
        v = n,
        y = a,
        S = f,
        O = 0;
      O < 80;
      O++
    ) {
      var P = M1(yf(I1(t, x1(O, i, n, a), r[AE[O] + e], wE(O)), SE[O]), f);
      (t = f),
        (f = a),
        (a = yf(n, 10)),
        (n = i),
        (i = P),
        (P = M1(yf(I1(h, x1(79 - O, b, v, y), r[EE[O] + e], _E(O)), ME[O]), S)),
        (h = S),
        (S = y),
        (y = yf(v, 10)),
        (v = b),
        (b = P);
    }
    (P = xo(this.h[1], n, y)),
      (this.h[1] = xo(this.h[2], a, S)),
      (this.h[2] = xo(this.h[3], f, h)),
      (this.h[3] = xo(this.h[4], t, b)),
      (this.h[4] = xo(this.h[0], i, v)),
      (this.h[0] = P);
  }),
  (Dn.prototype._digest = function (r) {
    return r === "hex"
      ? ta.toHex32(this.h, "little")
      : ta.split32(this.h, "little");
  });
function x1(r, e, t, i) {
  return r <= 15
    ? e ^ t ^ i
    : r <= 31
    ? (e & t) | (~e & i)
    : r <= 47
    ? (e | ~t) ^ i
    : r <= 63
    ? (e & i) | (t & ~i)
    : e ^ (t | ~i);
}
function wE(r) {
  return r <= 15
    ? 0
    : r <= 31
    ? 1518500249
    : r <= 47
    ? 1859775393
    : r <= 63
    ? 2400959708
    : 2840853838;
}
function _E(r) {
  return r <= 15
    ? 1352829926
    : r <= 31
    ? 1548603684
    : r <= 47
    ? 1836072691
    : r <= 63
    ? 2053994217
    : 0;
}
var AE = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
    15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13,
    11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9,
    7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
  ],
  EE = [
    5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5,
    10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10,
    0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10,
    4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
  ],
  SE = [
    11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9,
    7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13,
    6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9,
    15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
  ],
  ME = [
    8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8,
    9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14,
    13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5,
    12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
  ],
  IE = Ot,
  xE = oc;
function ja(r, e, t) {
  if (!(this instanceof ja)) return new ja(r, e, t);
  (this.Hash = r),
    (this.blockSize = r.blockSize / 8),
    (this.outSize = r.outSize / 8),
    (this.inner = null),
    (this.outer = null),
    this._init(IE.toArray(e, t));
}
var DE = ja;
(ja.prototype._init = function (r) {
  r.length > this.blockSize && (r = new this.Hash().update(r).digest()),
    xE(r.length <= this.blockSize);
  for (var e = r.length; e < this.blockSize; e++) r.push(0);
  for (e = 0; e < r.length; e++) r[e] ^= 54;
  for (this.inner = new this.Hash().update(r), e = 0; e < r.length; e++)
    r[e] ^= 106;
  this.outer = new this.Hash().update(r);
}),
  (ja.prototype.update = function (r, e) {
    return this.inner.update(r, e), this;
  }),
  (ja.prototype.digest = function (r) {
    return this.outer.update(this.inner.digest()), this.outer.digest(r);
  }),
  (function (r) {
    var e = r;
    (e.utils = Ot),
      (e.common = Qa),
      (e.sha = Ta),
      (e.ripemd = Ab),
      (e.hmac = DE),
      (e.sha1 = e.sha.sha1),
      (e.sha256 = e.sha.sha256),
      (e.sha224 = e.sha.sha224),
      (e.sha384 = e.sha.sha384),
      (e.sha512 = e.sha.sha512),
      (e.ripemd160 = e.ripemd.ripemd160);
  })(xn);
function Za(r, e, t) {
  return (
    (t = {
      path: e,
      exports: {},
      require: function (i, n) {
        return PE(i, n ?? t.path);
      },
    }),
    r(t, t.exports),
    t.exports
  );
}
function PE() {
  throw new Error(
    "Dynamic requires are not currently supported by @rollup/plugin-commonjs"
  );
}
var vd = Sb;
function Sb(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
Sb.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var vn = Za(function (r, e) {
    var t = e;
    function i(f, h) {
      if (Array.isArray(f)) return f.slice();
      if (!f) return [];
      var b = [];
      if (typeof f != "string") {
        for (var v = 0; v < f.length; v++) b[v] = f[v] | 0;
        return b;
      }
      if (h === "hex") {
        (f = f.replace(/[^a-z0-9]+/gi, "")),
          f.length % 2 !== 0 && (f = "0" + f);
        for (var v = 0; v < f.length; v += 2)
          b.push(parseInt(f[v] + f[v + 1], 16));
      } else
        for (var v = 0; v < f.length; v++) {
          var y = f.charCodeAt(v),
            S = y >> 8,
            O = y & 255;
          S ? b.push(S, O) : b.push(O);
        }
      return b;
    }
    t.toArray = i;
    function n(f) {
      return f.length === 1 ? "0" + f : f;
    }
    t.zero2 = n;
    function a(f) {
      for (var h = "", b = 0; b < f.length; b++) h += n(f[b].toString(16));
      return h;
    }
    (t.toHex = a),
      (t.encode = function (f, h) {
        return h === "hex" ? a(f) : f;
      });
  }),
  Ei = Za(function (r, e) {
    var t = e;
    (t.assert = vd),
      (t.toArray = vn.toArray),
      (t.zero2 = vn.zero2),
      (t.toHex = vn.toHex),
      (t.encode = vn.encode);
    function i(b, v, y) {
      var S = new Array(Math.max(b.bitLength(), y) + 1);
      S.fill(0);
      for (var O = 1 << (v + 1), P = b.clone(), C = 0; C < S.length; C++) {
        var H,
          V = P.andln(O - 1);
        P.isOdd()
          ? (V > (O >> 1) - 1 ? (H = (O >> 1) - V) : (H = V), P.isubn(H))
          : (H = 0),
          (S[C] = H),
          P.iushrn(1);
      }
      return S;
    }
    t.getNAF = i;
    function n(b, v) {
      var y = [[], []];
      (b = b.clone()), (v = v.clone());
      for (var S = 0, O = 0, P; b.cmpn(-S) > 0 || v.cmpn(-O) > 0; ) {
        var C = (b.andln(3) + S) & 3,
          H = (v.andln(3) + O) & 3;
        C === 3 && (C = -1), H === 3 && (H = -1);
        var V;
        C & 1
          ? ((P = (b.andln(7) + S) & 7),
            (P === 3 || P === 5) && H === 2 ? (V = -C) : (V = C))
          : (V = 0),
          y[0].push(V);
        var Q;
        H & 1
          ? ((P = (v.andln(7) + O) & 7),
            (P === 3 || P === 5) && C === 2 ? (Q = -H) : (Q = H))
          : (Q = 0),
          y[1].push(Q),
          2 * S === V + 1 && (S = 1 - S),
          2 * O === Q + 1 && (O = 1 - O),
          b.iushrn(1),
          v.iushrn(1);
      }
      return y;
    }
    t.getJSF = n;
    function a(b, v, y) {
      var S = "_" + v;
      b.prototype[v] = function () {
        return this[S] !== void 0 ? this[S] : (this[S] = y.call(this));
      };
    }
    t.cachedProperty = a;
    function f(b) {
      return typeof b == "string" ? t.toArray(b, "hex") : b;
    }
    t.parseBytes = f;
    function h(b) {
      return new bt(b, "hex", "le");
    }
    t.intFromLE = h;
  }),
  wf = Ei.getNAF,
  OE = Ei.getJSF,
  Jf = Ei.assert;
function Ss(r, e) {
  (this.type = r),
    (this.p = new bt(e.p, 16)),
    (this.red = e.prime ? bt.red(e.prime) : bt.mont(this.p)),
    (this.zero = new bt(0).toRed(this.red)),
    (this.one = new bt(1).toRed(this.red)),
    (this.two = new bt(2).toRed(this.red)),
    (this.n = e.n && new bt(e.n, 16)),
    (this.g = e.g && this.pointFromJSON(e.g, e.gRed)),
    (this._wnafT1 = new Array(4)),
    (this._wnafT2 = new Array(4)),
    (this._wnafT3 = new Array(4)),
    (this._wnafT4 = new Array(4)),
    (this._bitLength = this.n ? this.n.bitLength() : 0);
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0
    ? (this.redN = null)
    : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
}
var oa = Ss;
(Ss.prototype.point = function () {
  throw new Error("Not implemented");
}),
  (Ss.prototype.validate = function () {
    throw new Error("Not implemented");
  }),
  (Ss.prototype._fixedNafMul = function (r, e) {
    Jf(r.precomputed);
    var t = r._getDoubles(),
      i = wf(e, 1, this._bitLength),
      n = (1 << (t.step + 1)) - (t.step % 2 === 0 ? 2 : 1);
    n /= 3;
    var a = [],
      f,
      h;
    for (f = 0; f < i.length; f += t.step) {
      h = 0;
      for (var b = f + t.step - 1; b >= f; b--) h = (h << 1) + i[b];
      a.push(h);
    }
    for (
      var v = this.jpoint(null, null, null),
        y = this.jpoint(null, null, null),
        S = n;
      S > 0;
      S--
    ) {
      for (f = 0; f < a.length; f++)
        (h = a[f]),
          h === S
            ? (y = y.mixedAdd(t.points[f]))
            : h === -S && (y = y.mixedAdd(t.points[f].neg()));
      v = v.add(y);
    }
    return v.toP();
  }),
  (Ss.prototype._wnafMul = function (r, e) {
    var t = 4,
      i = r._getNAFPoints(t);
    t = i.wnd;
    for (
      var n = i.points,
        a = wf(e, t, this._bitLength),
        f = this.jpoint(null, null, null),
        h = a.length - 1;
      h >= 0;
      h--
    ) {
      for (var b = 0; h >= 0 && a[h] === 0; h--) b++;
      if ((h >= 0 && b++, (f = f.dblp(b)), h < 0)) break;
      var v = a[h];
      Jf(v !== 0),
        r.type === "affine"
          ? v > 0
            ? (f = f.mixedAdd(n[(v - 1) >> 1]))
            : (f = f.mixedAdd(n[(-v - 1) >> 1].neg()))
          : v > 0
          ? (f = f.add(n[(v - 1) >> 1]))
          : (f = f.add(n[(-v - 1) >> 1].neg()));
    }
    return r.type === "affine" ? f.toP() : f;
  }),
  (Ss.prototype._wnafMulAdd = function (r, e, t, i, n) {
    var a = this._wnafT1,
      f = this._wnafT2,
      h = this._wnafT3,
      b = 0,
      v,
      y,
      S;
    for (v = 0; v < i; v++) {
      S = e[v];
      var O = S._getNAFPoints(r);
      (a[v] = O.wnd), (f[v] = O.points);
    }
    for (v = i - 1; v >= 1; v -= 2) {
      var P = v - 1,
        C = v;
      if (a[P] !== 1 || a[C] !== 1) {
        (h[P] = wf(t[P], a[P], this._bitLength)),
          (h[C] = wf(t[C], a[C], this._bitLength)),
          (b = Math.max(h[P].length, b)),
          (b = Math.max(h[C].length, b));
        continue;
      }
      var H = [e[P], null, null, e[C]];
      e[P].y.cmp(e[C].y) === 0
        ? ((H[1] = e[P].add(e[C])), (H[2] = e[P].toJ().mixedAdd(e[C].neg())))
        : e[P].y.cmp(e[C].y.redNeg()) === 0
        ? ((H[1] = e[P].toJ().mixedAdd(e[C])), (H[2] = e[P].add(e[C].neg())))
        : ((H[1] = e[P].toJ().mixedAdd(e[C])),
          (H[2] = e[P].toJ().mixedAdd(e[C].neg())));
      var V = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
        Q = OE(t[P], t[C]);
      for (
        b = Math.max(Q[0].length, b),
          h[P] = new Array(b),
          h[C] = new Array(b),
          y = 0;
        y < b;
        y++
      ) {
        var j = Q[0][y] | 0,
          Y = Q[1][y] | 0;
        (h[P][y] = V[(j + 1) * 3 + (Y + 1)]), (h[C][y] = 0), (f[P] = H);
      }
    }
    var U = this.jpoint(null, null, null),
      z = this._wnafT4;
    for (v = b; v >= 0; v--) {
      for (var G = 0; v >= 0; ) {
        var A = !0;
        for (y = 0; y < i; y++) (z[y] = h[y][v] | 0), z[y] !== 0 && (A = !1);
        if (!A) break;
        G++, v--;
      }
      if ((v >= 0 && G++, (U = U.dblp(G)), v < 0)) break;
      for (y = 0; y < i; y++) {
        var F = z[y];
        F !== 0 &&
          (F > 0
            ? (S = f[y][(F - 1) >> 1])
            : F < 0 && (S = f[y][(-F - 1) >> 1].neg()),
          S.type === "affine" ? (U = U.mixedAdd(S)) : (U = U.add(S)));
      }
    }
    for (v = 0; v < i; v++) f[v] = null;
    return n ? U : U.toP();
  });
function Li(r, e) {
  (this.curve = r), (this.type = e), (this.precomputed = null);
}
(Ss.BasePoint = Li),
  (Li.prototype.eq = function () {
    throw new Error("Not implemented");
  }),
  (Li.prototype.validate = function () {
    return this.curve.validate(this);
  }),
  (Ss.prototype.decodePoint = function (r, e) {
    r = Ei.toArray(r, e);
    var t = this.p.byteLength();
    if ((r[0] === 4 || r[0] === 6 || r[0] === 7) && r.length - 1 === 2 * t) {
      r[0] === 6
        ? Jf(r[r.length - 1] % 2 === 0)
        : r[0] === 7 && Jf(r[r.length - 1] % 2 === 1);
      var i = this.point(r.slice(1, 1 + t), r.slice(1 + t, 1 + 2 * t));
      return i;
    } else if ((r[0] === 2 || r[0] === 3) && r.length - 1 === t)
      return this.pointFromX(r.slice(1, 1 + t), r[0] === 3);
    throw new Error("Unknown point format");
  }),
  (Li.prototype.encodeCompressed = function (r) {
    return this.encode(r, !0);
  }),
  (Li.prototype._encode = function (r) {
    var e = this.curve.p.byteLength(),
      t = this.getX().toArray("be", e);
    return r
      ? [this.getY().isEven() ? 2 : 3].concat(t)
      : [4].concat(t, this.getY().toArray("be", e));
  }),
  (Li.prototype.encode = function (r, e) {
    return Ei.encode(this._encode(e), r);
  }),
  (Li.prototype.precompute = function (r) {
    if (this.precomputed) return this;
    var e = { doubles: null, naf: null, beta: null };
    return (
      (e.naf = this._getNAFPoints(8)),
      (e.doubles = this._getDoubles(4, r)),
      (e.beta = this._getBeta()),
      (this.precomputed = e),
      this
    );
  }),
  (Li.prototype._hasDoubles = function (r) {
    if (!this.precomputed) return !1;
    var e = this.precomputed.doubles;
    return e ? e.points.length >= Math.ceil((r.bitLength() + 1) / e.step) : !1;
  }),
  (Li.prototype._getDoubles = function (r, e) {
    if (this.precomputed && this.precomputed.doubles)
      return this.precomputed.doubles;
    for (var t = [this], i = this, n = 0; n < e; n += r) {
      for (var a = 0; a < r; a++) i = i.dbl();
      t.push(i);
    }
    return { step: r, points: t };
  }),
  (Li.prototype._getNAFPoints = function (r) {
    if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
    for (
      var e = [this], t = (1 << r) - 1, i = t === 1 ? null : this.dbl(), n = 1;
      n < t;
      n++
    )
      e[n] = e[n - 1].add(i);
    return { wnd: r, points: e };
  }),
  (Li.prototype._getBeta = function () {
    return null;
  }),
  (Li.prototype.dblp = function (r) {
    for (var e = this, t = 0; t < r; t++) e = e.dbl();
    return e;
  });
var bd = Za(function (r) {
    typeof Object.create == "function"
      ? (r.exports = function (e, t) {
          t &&
            ((e.super_ = t),
            (e.prototype = Object.create(t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })));
        })
      : (r.exports = function (e, t) {
          if (t) {
            e.super_ = t;
            var i = function () {};
            (i.prototype = t.prototype),
              (e.prototype = new i()),
              (e.prototype.constructor = e);
          }
        });
  }),
  CE = Ei.assert;
function ki(r) {
  oa.call(this, "short", r),
    (this.a = new bt(r.a, 16).toRed(this.red)),
    (this.b = new bt(r.b, 16).toRed(this.red)),
    (this.tinv = this.two.redInvm()),
    (this.zeroA = this.a.fromRed().cmpn(0) === 0),
    (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
    (this.endo = this._getEndomorphism(r)),
    (this._endoWnafT1 = new Array(4)),
    (this._endoWnafT2 = new Array(4));
}
bd(ki, oa);
var RE = ki;
(ki.prototype._getEndomorphism = function (r) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var e, t;
    if (r.beta) e = new bt(r.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      (e = i[0].cmp(i[1]) < 0 ? i[0] : i[1]), (e = e.toRed(this.red));
    }
    if (r.lambda) t = new bt(r.lambda, 16);
    else {
      var n = this._getEndoRoots(this.n);
      this.g.mul(n[0]).x.cmp(this.g.x.redMul(e)) === 0
        ? (t = n[0])
        : ((t = n[1]), CE(this.g.mul(t).x.cmp(this.g.x.redMul(e)) === 0));
    }
    var a;
    return (
      r.basis
        ? (a = r.basis.map(function (f) {
            return { a: new bt(f.a, 16), b: new bt(f.b, 16) };
          }))
        : (a = this._getEndoBasis(t)),
      { beta: e, lambda: t, basis: a }
    );
  }
}),
  (ki.prototype._getEndoRoots = function (r) {
    var e = r === this.p ? this.red : bt.mont(r),
      t = new bt(2).toRed(e).redInvm(),
      i = t.redNeg(),
      n = new bt(3).toRed(e).redNeg().redSqrt().redMul(t),
      a = i.redAdd(n).fromRed(),
      f = i.redSub(n).fromRed();
    return [a, f];
  }),
  (ki.prototype._getEndoBasis = function (r) {
    for (
      var e = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
        t = r,
        i = this.n.clone(),
        n = new bt(1),
        a = new bt(0),
        f = new bt(0),
        h = new bt(1),
        b,
        v,
        y,
        S,
        O,
        P,
        C,
        H = 0,
        V,
        Q;
      t.cmpn(0) !== 0;

    ) {
      var j = i.div(t);
      (V = i.sub(j.mul(t))), (Q = f.sub(j.mul(n)));
      var Y = h.sub(j.mul(a));
      if (!y && V.cmp(e) < 0) (b = C.neg()), (v = n), (y = V.neg()), (S = Q);
      else if (y && ++H === 2) break;
      (C = V), (i = t), (t = V), (f = n), (n = Q), (h = a), (a = Y);
    }
    (O = V.neg()), (P = Q);
    var U = y.sqr().add(S.sqr()),
      z = O.sqr().add(P.sqr());
    return (
      z.cmp(U) >= 0 && ((O = b), (P = v)),
      y.negative && ((y = y.neg()), (S = S.neg())),
      O.negative && ((O = O.neg()), (P = P.neg())),
      [
        { a: y, b: S },
        { a: O, b: P },
      ]
    );
  }),
  (ki.prototype._endoSplit = function (r) {
    var e = this.endo.basis,
      t = e[0],
      i = e[1],
      n = i.b.mul(r).divRound(this.n),
      a = t.b.neg().mul(r).divRound(this.n),
      f = n.mul(t.a),
      h = a.mul(i.a),
      b = n.mul(t.b),
      v = a.mul(i.b),
      y = r.sub(f).sub(h),
      S = b.add(v).neg();
    return { k1: y, k2: S };
  }),
  (ki.prototype.pointFromX = function (r, e) {
    (r = new bt(r, 16)), r.red || (r = r.toRed(this.red));
    var t = r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),
      i = t.redSqrt();
    if (i.redSqr().redSub(t).cmp(this.zero) !== 0)
      throw new Error("invalid point");
    var n = i.fromRed().isOdd();
    return ((e && !n) || (!e && n)) && (i = i.redNeg()), this.point(r, i);
  }),
  (ki.prototype.validate = function (r) {
    if (r.inf) return !0;
    var e = r.x,
      t = r.y,
      i = this.a.redMul(e),
      n = e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);
    return t.redSqr().redISub(n).cmpn(0) === 0;
  }),
  (ki.prototype._endoWnafMulAdd = function (r, e, t) {
    for (
      var i = this._endoWnafT1, n = this._endoWnafT2, a = 0;
      a < r.length;
      a++
    ) {
      var f = this._endoSplit(e[a]),
        h = r[a],
        b = h._getBeta();
      f.k1.negative && (f.k1.ineg(), (h = h.neg(!0))),
        f.k2.negative && (f.k2.ineg(), (b = b.neg(!0))),
        (i[a * 2] = h),
        (i[a * 2 + 1] = b),
        (n[a * 2] = f.k1),
        (n[a * 2 + 1] = f.k2);
    }
    for (var v = this._wnafMulAdd(1, i, n, a * 2, t), y = 0; y < a * 2; y++)
      (i[y] = null), (n[y] = null);
    return v;
  });
function _r(r, e, t, i) {
  oa.BasePoint.call(this, r, "affine"),
    e === null && t === null
      ? ((this.x = null), (this.y = null), (this.inf = !0))
      : ((this.x = new bt(e, 16)),
        (this.y = new bt(t, 16)),
        i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        (this.inf = !1));
}
bd(_r, oa.BasePoint),
  (ki.prototype.point = function (r, e, t) {
    return new _r(this, r, e, t);
  }),
  (ki.prototype.pointFromJSON = function (r, e) {
    return _r.fromJSON(this, r, e);
  }),
  (_r.prototype._getBeta = function () {
    if (this.curve.endo) {
      var r = this.precomputed;
      if (r && r.beta) return r.beta;
      var e = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
      if (r) {
        var t = this.curve,
          i = function (n) {
            return t.point(n.x.redMul(t.endo.beta), n.y);
          };
        (r.beta = e),
          (e.precomputed = {
            beta: null,
            naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) },
            doubles: r.doubles && {
              step: r.doubles.step,
              points: r.doubles.points.map(i),
            },
          });
      }
      return e;
    }
  }),
  (_r.prototype.toJSON = function () {
    return this.precomputed
      ? [
          this.x,
          this.y,
          this.precomputed && {
            doubles: this.precomputed.doubles && {
              step: this.precomputed.doubles.step,
              points: this.precomputed.doubles.points.slice(1),
            },
            naf: this.precomputed.naf && {
              wnd: this.precomputed.naf.wnd,
              points: this.precomputed.naf.points.slice(1),
            },
          },
        ]
      : [this.x, this.y];
  }),
  (_r.fromJSON = function (r, e, t) {
    typeof e == "string" && (e = JSON.parse(e));
    var i = r.point(e[0], e[1], t);
    if (!e[2]) return i;
    function n(f) {
      return r.point(f[0], f[1], t);
    }
    var a = e[2];
    return (
      (i.precomputed = {
        beta: null,
        doubles: a.doubles && {
          step: a.doubles.step,
          points: [i].concat(a.doubles.points.map(n)),
        },
        naf: a.naf && {
          wnd: a.naf.wnd,
          points: [i].concat(a.naf.points.map(n)),
        },
      }),
      i
    );
  }),
  (_r.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC Point Infinity>"
      : "<EC Point x: " +
          this.x.fromRed().toString(16, 2) +
          " y: " +
          this.y.fromRed().toString(16, 2) +
          ">";
  }),
  (_r.prototype.isInfinity = function () {
    return this.inf;
  }),
  (_r.prototype.add = function (r) {
    if (this.inf) return r;
    if (r.inf) return this;
    if (this.eq(r)) return this.dbl();
    if (this.neg().eq(r)) return this.curve.point(null, null);
    if (this.x.cmp(r.x) === 0) return this.curve.point(null, null);
    var e = this.y.redSub(r.y);
    e.cmpn(0) !== 0 && (e = e.redMul(this.x.redSub(r.x).redInvm()));
    var t = e.redSqr().redISub(this.x).redISub(r.x),
      i = e.redMul(this.x.redSub(t)).redISub(this.y);
    return this.curve.point(t, i);
  }),
  (_r.prototype.dbl = function () {
    if (this.inf) return this;
    var r = this.y.redAdd(this.y);
    if (r.cmpn(0) === 0) return this.curve.point(null, null);
    var e = this.curve.a,
      t = this.x.redSqr(),
      i = r.redInvm(),
      n = t.redAdd(t).redIAdd(t).redIAdd(e).redMul(i),
      a = n.redSqr().redISub(this.x.redAdd(this.x)),
      f = n.redMul(this.x.redSub(a)).redISub(this.y);
    return this.curve.point(a, f);
  }),
  (_r.prototype.getX = function () {
    return this.x.fromRed();
  }),
  (_r.prototype.getY = function () {
    return this.y.fromRed();
  }),
  (_r.prototype.mul = function (r) {
    return (
      (r = new bt(r, 16)),
      this.isInfinity()
        ? this
        : this._hasDoubles(r)
        ? this.curve._fixedNafMul(this, r)
        : this.curve.endo
        ? this.curve._endoWnafMulAdd([this], [r])
        : this.curve._wnafMul(this, r)
    );
  }),
  (_r.prototype.mulAdd = function (r, e, t) {
    var i = [this, e],
      n = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, n)
      : this.curve._wnafMulAdd(1, i, n, 2);
  }),
  (_r.prototype.jmulAdd = function (r, e, t) {
    var i = [this, e],
      n = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, n, !0)
      : this.curve._wnafMulAdd(1, i, n, 2, !0);
  }),
  (_r.prototype.eq = function (r) {
    return (
      this === r ||
      (this.inf === r.inf &&
        (this.inf || (this.x.cmp(r.x) === 0 && this.y.cmp(r.y) === 0)))
    );
  }),
  (_r.prototype.neg = function (r) {
    if (this.inf) return this;
    var e = this.curve.point(this.x, this.y.redNeg());
    if (r && this.precomputed) {
      var t = this.precomputed,
        i = function (n) {
          return n.neg();
        };
      e.precomputed = {
        naf: t.naf && { wnd: t.naf.wnd, points: t.naf.points.map(i) },
        doubles: t.doubles && {
          step: t.doubles.step,
          points: t.doubles.points.map(i),
        },
      };
    }
    return e;
  }),
  (_r.prototype.toJ = function () {
    if (this.inf) return this.curve.jpoint(null, null, null);
    var r = this.curve.jpoint(this.x, this.y, this.curve.one);
    return r;
  });
function Dr(r, e, t, i) {
  oa.BasePoint.call(this, r, "jacobian"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.one),
        (this.y = this.curve.one),
        (this.z = new bt(0)))
      : ((this.x = new bt(e, 16)),
        (this.y = new bt(t, 16)),
        (this.z = new bt(i, 16))),
    this.x.red || (this.x = this.x.toRed(this.curve.red)),
    this.y.red || (this.y = this.y.toRed(this.curve.red)),
    this.z.red || (this.z = this.z.toRed(this.curve.red)),
    (this.zOne = this.z === this.curve.one);
}
bd(Dr, oa.BasePoint),
  (ki.prototype.jpoint = function (r, e, t) {
    return new Dr(this, r, e, t);
  }),
  (Dr.prototype.toP = function () {
    if (this.isInfinity()) return this.curve.point(null, null);
    var r = this.z.redInvm(),
      e = r.redSqr(),
      t = this.x.redMul(e),
      i = this.y.redMul(e).redMul(r);
    return this.curve.point(t, i);
  }),
  (Dr.prototype.neg = function () {
    return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
  }),
  (Dr.prototype.add = function (r) {
    if (this.isInfinity()) return r;
    if (r.isInfinity()) return this;
    var e = r.z.redSqr(),
      t = this.z.redSqr(),
      i = this.x.redMul(e),
      n = r.x.redMul(t),
      a = this.y.redMul(e.redMul(r.z)),
      f = r.y.redMul(t.redMul(this.z)),
      h = i.redSub(n),
      b = a.redSub(f);
    if (h.cmpn(0) === 0)
      return b.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var v = h.redSqr(),
      y = v.redMul(h),
      S = i.redMul(v),
      O = b.redSqr().redIAdd(y).redISub(S).redISub(S),
      P = b.redMul(S.redISub(O)).redISub(a.redMul(y)),
      C = this.z.redMul(r.z).redMul(h);
    return this.curve.jpoint(O, P, C);
  }),
  (Dr.prototype.mixedAdd = function (r) {
    if (this.isInfinity()) return r.toJ();
    if (r.isInfinity()) return this;
    var e = this.z.redSqr(),
      t = this.x,
      i = r.x.redMul(e),
      n = this.y,
      a = r.y.redMul(e).redMul(this.z),
      f = t.redSub(i),
      h = n.redSub(a);
    if (f.cmpn(0) === 0)
      return h.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var b = f.redSqr(),
      v = b.redMul(f),
      y = t.redMul(b),
      S = h.redSqr().redIAdd(v).redISub(y).redISub(y),
      O = h.redMul(y.redISub(S)).redISub(n.redMul(v)),
      P = this.z.redMul(f);
    return this.curve.jpoint(S, O, P);
  }),
  (Dr.prototype.dblp = function (r) {
    if (r === 0) return this;
    if (this.isInfinity()) return this;
    if (!r) return this.dbl();
    var e;
    if (this.curve.zeroA || this.curve.threeA) {
      var t = this;
      for (e = 0; e < r; e++) t = t.dbl();
      return t;
    }
    var i = this.curve.a,
      n = this.curve.tinv,
      a = this.x,
      f = this.y,
      h = this.z,
      b = h.redSqr().redSqr(),
      v = f.redAdd(f);
    for (e = 0; e < r; e++) {
      var y = a.redSqr(),
        S = v.redSqr(),
        O = S.redSqr(),
        P = y.redAdd(y).redIAdd(y).redIAdd(i.redMul(b)),
        C = a.redMul(S),
        H = P.redSqr().redISub(C.redAdd(C)),
        V = C.redISub(H),
        Q = P.redMul(V);
      Q = Q.redIAdd(Q).redISub(O);
      var j = v.redMul(h);
      e + 1 < r && (b = b.redMul(O)), (a = H), (h = j), (v = Q);
    }
    return this.curve.jpoint(a, v.redMul(n), h);
  }),
  (Dr.prototype.dbl = function () {
    return this.isInfinity()
      ? this
      : this.curve.zeroA
      ? this._zeroDbl()
      : this.curve.threeA
      ? this._threeDbl()
      : this._dbl();
  }),
  (Dr.prototype._zeroDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        n = this.y.redSqr(),
        a = n.redSqr(),
        f = this.x.redAdd(n).redSqr().redISub(i).redISub(a);
      f = f.redIAdd(f);
      var h = i.redAdd(i).redIAdd(i),
        b = h.redSqr().redISub(f).redISub(f),
        v = a.redIAdd(a);
      (v = v.redIAdd(v)),
        (v = v.redIAdd(v)),
        (r = b),
        (e = h.redMul(f.redISub(b)).redISub(v)),
        (t = this.y.redAdd(this.y));
    } else {
      var y = this.x.redSqr(),
        S = this.y.redSqr(),
        O = S.redSqr(),
        P = this.x.redAdd(S).redSqr().redISub(y).redISub(O);
      P = P.redIAdd(P);
      var C = y.redAdd(y).redIAdd(y),
        H = C.redSqr(),
        V = O.redIAdd(O);
      (V = V.redIAdd(V)),
        (V = V.redIAdd(V)),
        (r = H.redISub(P).redISub(P)),
        (e = C.redMul(P.redISub(r)).redISub(V)),
        (t = this.y.redMul(this.z)),
        (t = t.redIAdd(t));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (Dr.prototype._threeDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        n = this.y.redSqr(),
        a = n.redSqr(),
        f = this.x.redAdd(n).redSqr().redISub(i).redISub(a);
      f = f.redIAdd(f);
      var h = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),
        b = h.redSqr().redISub(f).redISub(f);
      r = b;
      var v = a.redIAdd(a);
      (v = v.redIAdd(v)),
        (v = v.redIAdd(v)),
        (e = h.redMul(f.redISub(b)).redISub(v)),
        (t = this.y.redAdd(this.y));
    } else {
      var y = this.z.redSqr(),
        S = this.y.redSqr(),
        O = this.x.redMul(S),
        P = this.x.redSub(y).redMul(this.x.redAdd(y));
      P = P.redAdd(P).redIAdd(P);
      var C = O.redIAdd(O);
      C = C.redIAdd(C);
      var H = C.redAdd(C);
      (r = P.redSqr().redISub(H)),
        (t = this.y.redAdd(this.z).redSqr().redISub(S).redISub(y));
      var V = S.redSqr();
      (V = V.redIAdd(V)),
        (V = V.redIAdd(V)),
        (V = V.redIAdd(V)),
        (e = P.redMul(C.redISub(r)).redISub(V));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (Dr.prototype._dbl = function () {
    var r = this.curve.a,
      e = this.x,
      t = this.y,
      i = this.z,
      n = i.redSqr().redSqr(),
      a = e.redSqr(),
      f = t.redSqr(),
      h = a.redAdd(a).redIAdd(a).redIAdd(r.redMul(n)),
      b = e.redAdd(e);
    b = b.redIAdd(b);
    var v = b.redMul(f),
      y = h.redSqr().redISub(v.redAdd(v)),
      S = v.redISub(y),
      O = f.redSqr();
    (O = O.redIAdd(O)), (O = O.redIAdd(O)), (O = O.redIAdd(O));
    var P = h.redMul(S).redISub(O),
      C = t.redAdd(t).redMul(i);
    return this.curve.jpoint(y, P, C);
  }),
  (Dr.prototype.trpl = function () {
    if (!this.curve.zeroA) return this.dbl().add(this);
    var r = this.x.redSqr(),
      e = this.y.redSqr(),
      t = this.z.redSqr(),
      i = e.redSqr(),
      n = r.redAdd(r).redIAdd(r),
      a = n.redSqr(),
      f = this.x.redAdd(e).redSqr().redISub(r).redISub(i);
    (f = f.redIAdd(f)), (f = f.redAdd(f).redIAdd(f)), (f = f.redISub(a));
    var h = f.redSqr(),
      b = i.redIAdd(i);
    (b = b.redIAdd(b)), (b = b.redIAdd(b)), (b = b.redIAdd(b));
    var v = n.redIAdd(f).redSqr().redISub(a).redISub(h).redISub(b),
      y = e.redMul(v);
    (y = y.redIAdd(y)), (y = y.redIAdd(y));
    var S = this.x.redMul(h).redISub(y);
    (S = S.redIAdd(S)), (S = S.redIAdd(S));
    var O = this.y.redMul(v.redMul(b.redISub(v)).redISub(f.redMul(h)));
    (O = O.redIAdd(O)), (O = O.redIAdd(O)), (O = O.redIAdd(O));
    var P = this.z.redAdd(f).redSqr().redISub(t).redISub(h);
    return this.curve.jpoint(S, O, P);
  }),
  (Dr.prototype.mul = function (r, e) {
    return (r = new bt(r, e)), this.curve._wnafMul(this, r);
  }),
  (Dr.prototype.eq = function (r) {
    if (r.type === "affine") return this.eq(r.toJ());
    if (this === r) return !0;
    var e = this.z.redSqr(),
      t = r.z.redSqr();
    if (this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0) !== 0) return !1;
    var i = e.redMul(this.z),
      n = t.redMul(r.z);
    return this.y.redMul(n).redISub(r.y.redMul(i)).cmpn(0) === 0;
  }),
  (Dr.prototype.eqXToP = function (r) {
    var e = this.z.redSqr(),
      t = r.toRed(this.curve.red).redMul(e);
    if (this.x.cmp(t) === 0) return !0;
    for (var i = r.clone(), n = this.curve.redN.redMul(e); ; ) {
      if ((i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)) return !1;
      if ((t.redIAdd(n), this.x.cmp(t) === 0)) return !0;
    }
  }),
  (Dr.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC JPoint Infinity>"
      : "<EC JPoint x: " +
          this.x.toString(16, 2) +
          " y: " +
          this.y.toString(16, 2) +
          " z: " +
          this.z.toString(16, 2) +
          ">";
  }),
  (Dr.prototype.isInfinity = function () {
    return this.z.cmpn(0) === 0;
  });
var Cf = Za(function (r, e) {
    var t = e;
    (t.base = oa), (t.short = RE), (t.mont = null), (t.edwards = null);
  }),
  Rf = Za(function (r, e) {
    var t = e,
      i = Ei.assert;
    function n(h) {
      h.type === "short"
        ? (this.curve = new Cf.short(h))
        : h.type === "edwards"
        ? (this.curve = new Cf.edwards(h))
        : (this.curve = new Cf.mont(h)),
        (this.g = this.curve.g),
        (this.n = this.curve.n),
        (this.hash = h.hash),
        i(this.g.validate(), "Invalid curve"),
        i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
    }
    t.PresetCurve = n;
    function a(h, b) {
      Object.defineProperty(t, h, {
        configurable: !0,
        enumerable: !0,
        get: function () {
          var v = new n(b);
          return (
            Object.defineProperty(t, h, {
              configurable: !0,
              enumerable: !0,
              value: v,
            }),
            v
          );
        },
      });
    }
    a("p192", {
      type: "short",
      prime: "p192",
      p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
      b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
      n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
      hash: xn.sha256,
      gRed: !1,
      g: [
        "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
        "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
      ],
    }),
      a("p224", {
        type: "short",
        prime: "p224",
        p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
        a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
        b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
        n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
        hash: xn.sha256,
        gRed: !1,
        g: [
          "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
          "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
        ],
      }),
      a("p256", {
        type: "short",
        prime: null,
        p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
        a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
        b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
        n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
        hash: xn.sha256,
        gRed: !1,
        g: [
          "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
          "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
        ],
      }),
      a("p384", {
        type: "short",
        prime: null,
        p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
        a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
        b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
        n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
        hash: xn.sha384,
        gRed: !1,
        g: [
          "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
          "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
        ],
      }),
      a("p521", {
        type: "short",
        prime: null,
        p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
        a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
        b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
        n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
        hash: xn.sha512,
        gRed: !1,
        g: [
          "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
          "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
        ],
      }),
      a("curve25519", {
        type: "mont",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "76d06",
        b: "1",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: xn.sha256,
        gRed: !1,
        g: ["9"],
      }),
      a("ed25519", {
        type: "edwards",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "-1",
        c: "1",
        d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: xn.sha256,
        gRed: !1,
        g: [
          "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
          "6666666666666666666666666666666666666666666666666666666666666658",
        ],
      });
    var f;
    try {
      f = null.crash();
    } catch {
      f = void 0;
    }
    a("secp256k1", {
      type: "short",
      prime: "k256",
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
      a: "0",
      b: "7",
      n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
      h: "1",
      hash: xn.sha256,
      beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
      lambda:
        "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
      basis: [
        {
          a: "3086d221a7d46bcde86c90e49284eb15",
          b: "-e4437ed6010e88286f547fa90abfe4c3",
        },
        {
          a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
          b: "3086d221a7d46bcde86c90e49284eb15",
        },
      ],
      gRed: !1,
      g: [
        "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
        f,
      ],
    });
  });
function Ms(r) {
  if (!(this instanceof Ms)) return new Ms(r);
  (this.hash = r.hash),
    (this.predResist = !!r.predResist),
    (this.outLen = this.hash.outSize),
    (this.minEntropy = r.minEntropy || this.hash.hmacStrength),
    (this._reseed = null),
    (this.reseedInterval = null),
    (this.K = null),
    (this.V = null);
  var e = vn.toArray(r.entropy, r.entropyEnc || "hex"),
    t = vn.toArray(r.nonce, r.nonceEnc || "hex"),
    i = vn.toArray(r.pers, r.persEnc || "hex");
  vd(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ),
    this._init(e, t, i);
}
var D1 = Ms;
(Ms.prototype._init = function (r, e, t) {
  var i = r.concat(e).concat(t);
  (this.K = new Array(this.outLen / 8)), (this.V = new Array(this.outLen / 8));
  for (var n = 0; n < this.V.length; n++) (this.K[n] = 0), (this.V[n] = 1);
  this._update(i), (this._reseed = 1), (this.reseedInterval = 281474976710656);
}),
  (Ms.prototype._hmac = function () {
    return new xn.hmac(this.hash, this.K);
  }),
  (Ms.prototype._update = function (r) {
    var e = this._hmac().update(this.V).update([0]);
    r && (e = e.update(r)),
      (this.K = e.digest()),
      (this.V = this._hmac().update(this.V).digest()),
      r &&
        ((this.K = this._hmac().update(this.V).update([1]).update(r).digest()),
        (this.V = this._hmac().update(this.V).digest()));
  }),
  (Ms.prototype.reseed = function (r, e, t, i) {
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      (r = vn.toArray(r, e)),
      (t = vn.toArray(t, i)),
      vd(
        r.length >= this.minEntropy / 8,
        "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
      ),
      this._update(r.concat(t || [])),
      (this._reseed = 1);
  }),
  (Ms.prototype.generate = function (r, e, t, i) {
    if (this._reseed > this.reseedInterval)
      throw new Error("Reseed is required");
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      t && ((t = vn.toArray(t, i || "hex")), this._update(t));
    for (var n = []; n.length < r; )
      (this.V = this._hmac().update(this.V).digest()), (n = n.concat(this.V));
    var a = n.slice(0, r);
    return this._update(t), this._reseed++, vn.encode(a, e);
  });
var il = Ei.assert;
function jr(r, e) {
  (this.ec = r),
    (this.priv = null),
    (this.pub = null),
    e.priv && this._importPrivate(e.priv, e.privEnc),
    e.pub && this._importPublic(e.pub, e.pubEnc);
}
var nl = jr;
(jr.fromPublic = function (r, e, t) {
  return e instanceof jr ? e : new jr(r, { pub: e, pubEnc: t });
}),
  (jr.fromPrivate = function (r, e, t) {
    return e instanceof jr ? e : new jr(r, { priv: e, privEnc: t });
  }),
  (jr.prototype.validate = function () {
    var r = this.getPublic();
    return r.isInfinity()
      ? { result: !1, reason: "Invalid public key" }
      : r.validate()
      ? r.mul(this.ec.curve.n).isInfinity()
        ? { result: !0, reason: null }
        : { result: !1, reason: "Public key * N != O" }
      : { result: !1, reason: "Public key is not a point" };
  }),
  (jr.prototype.getPublic = function (r, e) {
    return (
      typeof r == "string" && ((e = r), (r = null)),
      this.pub || (this.pub = this.ec.g.mul(this.priv)),
      e ? this.pub.encode(e, r) : this.pub
    );
  }),
  (jr.prototype.getPrivate = function (r) {
    return r === "hex" ? this.priv.toString(16, 2) : this.priv;
  }),
  (jr.prototype._importPrivate = function (r, e) {
    (this.priv = new bt(r, e || 16)),
      (this.priv = this.priv.umod(this.ec.curve.n));
  }),
  (jr.prototype._importPublic = function (r, e) {
    if (r.x || r.y) {
      this.ec.curve.type === "mont"
        ? il(r.x, "Need x coordinate")
        : (this.ec.curve.type === "short" ||
            this.ec.curve.type === "edwards") &&
          il(r.x && r.y, "Need both x and y coordinate"),
        (this.pub = this.ec.curve.point(r.x, r.y));
      return;
    }
    this.pub = this.ec.curve.decodePoint(r, e);
  }),
  (jr.prototype.derive = function (r) {
    return (
      r.validate() || il(r.validate(), "public point not validated"),
      r.mul(this.priv).getX()
    );
  }),
  (jr.prototype.sign = function (r, e, t) {
    return this.ec.sign(r, this, e, t);
  }),
  (jr.prototype.verify = function (r, e) {
    return this.ec.verify(r, e, this);
  }),
  (jr.prototype.inspect = function () {
    return (
      "<Key priv: " +
      (this.priv && this.priv.toString(16, 2)) +
      " pub: " +
      (this.pub && this.pub.inspect()) +
      " >"
    );
  });
var NE = Ei.assert;
function wu(r, e) {
  if (r instanceof wu) return r;
  this._importDER(r, e) ||
    (NE(r.r && r.s, "Signature without r or s"),
    (this.r = new bt(r.r, 16)),
    (this.s = new bt(r.s, 16)),
    r.recoveryParam === void 0
      ? (this.recoveryParam = null)
      : (this.recoveryParam = r.recoveryParam));
}
var _f = wu;
function TE() {
  this.place = 0;
}
function sl(r, e) {
  var t = r[e.place++];
  if (!(t & 128)) return t;
  var i = t & 15;
  if (i === 0 || i > 4) return !1;
  for (var n = 0, a = 0, f = e.place; a < i; a++, f++)
    (n <<= 8), (n |= r[f]), (n >>>= 0);
  return n <= 127 ? !1 : ((e.place = f), n);
}
function P1(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; ) e++;
  return e === 0 ? r : r.slice(e);
}
wu.prototype._importDER = function (r, e) {
  r = Ei.toArray(r, e);
  var t = new TE();
  if (r[t.place++] !== 48) return !1;
  var i = sl(r, t);
  if (i === !1 || i + t.place !== r.length || r[t.place++] !== 2) return !1;
  var n = sl(r, t);
  if (n === !1) return !1;
  var a = r.slice(t.place, n + t.place);
  if (((t.place += n), r[t.place++] !== 2)) return !1;
  var f = sl(r, t);
  if (f === !1 || r.length !== f + t.place) return !1;
  var h = r.slice(t.place, f + t.place);
  if (a[0] === 0)
    if (a[1] & 128) a = a.slice(1);
    else return !1;
  if (h[0] === 0)
    if (h[1] & 128) h = h.slice(1);
    else return !1;
  return (
    (this.r = new bt(a)), (this.s = new bt(h)), (this.recoveryParam = null), !0
  );
};
function al(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + ((Math.log(e) / Math.LN2) >>> 3);
  for (r.push(t | 128); --t; ) r.push((e >>> (t << 3)) & 255);
  r.push(e);
}
wu.prototype.toDER = function (r) {
  var e = this.r.toArray(),
    t = this.s.toArray();
  for (
    e[0] & 128 && (e = [0].concat(e)),
      t[0] & 128 && (t = [0].concat(t)),
      e = P1(e),
      t = P1(t);
    !t[0] && !(t[1] & 128);

  )
    t = t.slice(1);
  var i = [2];
  al(i, e.length), (i = i.concat(e)), i.push(2), al(i, t.length);
  var n = i.concat(t),
    a = [48];
  return al(a, n.length), (a = a.concat(n)), Ei.encode(a, r);
};
var FE = function () {
    throw new Error("unsupported");
  },
  Mb = Ei.assert;
function ji(r) {
  if (!(this instanceof ji)) return new ji(r);
  typeof r == "string" &&
    (Mb(Object.prototype.hasOwnProperty.call(Rf, r), "Unknown curve " + r),
    (r = Rf[r])),
    r instanceof Rf.PresetCurve && (r = { curve: r }),
    (this.curve = r.curve.curve),
    (this.n = this.curve.n),
    (this.nh = this.n.ushrn(1)),
    (this.g = this.curve.g),
    (this.g = r.curve.g),
    this.g.precompute(r.curve.n.bitLength() + 1),
    (this.hash = r.hash || r.curve.hash);
}
var BE = ji;
(ji.prototype.keyPair = function (r) {
  return new nl(this, r);
}),
  (ji.prototype.keyFromPrivate = function (r, e) {
    return nl.fromPrivate(this, r, e);
  }),
  (ji.prototype.keyFromPublic = function (r, e) {
    return nl.fromPublic(this, r, e);
  }),
  (ji.prototype.genKeyPair = function (r) {
    r || (r = {});
    for (
      var e = new D1({
          hash: this.hash,
          pers: r.pers,
          persEnc: r.persEnc || "utf8",
          entropy: r.entropy || FE(this.hash.hmacStrength),
          entropyEnc: (r.entropy && r.entropyEnc) || "utf8",
          nonce: this.n.toArray(),
        }),
        t = this.n.byteLength(),
        i = this.n.sub(new bt(2));
      ;

    ) {
      var n = new bt(e.generate(t));
      if (!(n.cmp(i) > 0)) return n.iaddn(1), this.keyFromPrivate(n);
    }
  }),
  (ji.prototype._truncateToN = function (r, e) {
    var t = r.byteLength() * 8 - this.n.bitLength();
    return (
      t > 0 && (r = r.ushrn(t)), !e && r.cmp(this.n) >= 0 ? r.sub(this.n) : r
    );
  }),
  (ji.prototype.sign = function (r, e, t, i) {
    typeof t == "object" && ((i = t), (t = null)),
      i || (i = {}),
      (e = this.keyFromPrivate(e, t)),
      (r = this._truncateToN(new bt(r, 16)));
    for (
      var n = this.n.byteLength(),
        a = e.getPrivate().toArray("be", n),
        f = r.toArray("be", n),
        h = new D1({
          hash: this.hash,
          entropy: a,
          nonce: f,
          pers: i.pers,
          persEnc: i.persEnc || "utf8",
        }),
        b = this.n.sub(new bt(1)),
        v = 0;
      ;
      v++
    ) {
      var y = i.k ? i.k(v) : new bt(h.generate(this.n.byteLength()));
      if (
        ((y = this._truncateToN(y, !0)), !(y.cmpn(1) <= 0 || y.cmp(b) >= 0))
      ) {
        var S = this.g.mul(y);
        if (!S.isInfinity()) {
          var O = S.getX(),
            P = O.umod(this.n);
          if (P.cmpn(0) !== 0) {
            var C = y.invm(this.n).mul(P.mul(e.getPrivate()).iadd(r));
            if (((C = C.umod(this.n)), C.cmpn(0) !== 0)) {
              var H = (S.getY().isOdd() ? 1 : 0) | (O.cmp(P) !== 0 ? 2 : 0);
              return (
                i.canonical &&
                  C.cmp(this.nh) > 0 &&
                  ((C = this.n.sub(C)), (H ^= 1)),
                new _f({ r: P, s: C, recoveryParam: H })
              );
            }
          }
        }
      }
    }
  }),
  (ji.prototype.verify = function (r, e, t, i) {
    (r = this._truncateToN(new bt(r, 16))),
      (t = this.keyFromPublic(t, i)),
      (e = new _f(e, "hex"));
    var n = e.r,
      a = e.s;
    if (
      n.cmpn(1) < 0 ||
      n.cmp(this.n) >= 0 ||
      a.cmpn(1) < 0 ||
      a.cmp(this.n) >= 0
    )
      return !1;
    var f = a.invm(this.n),
      h = f.mul(r).umod(this.n),
      b = f.mul(n).umod(this.n),
      v;
    return this.curve._maxwellTrick
      ? ((v = this.g.jmulAdd(h, t.getPublic(), b)),
        v.isInfinity() ? !1 : v.eqXToP(n))
      : ((v = this.g.mulAdd(h, t.getPublic(), b)),
        v.isInfinity() ? !1 : v.getX().umod(this.n).cmp(n) === 0);
  }),
  (ji.prototype.recoverPubKey = function (r, e, t, i) {
    Mb((3 & t) === t, "The recovery param is more than two bits"),
      (e = new _f(e, i));
    var n = this.n,
      a = new bt(r),
      f = e.r,
      h = e.s,
      b = t & 1,
      v = t >> 1;
    if (f.cmp(this.curve.p.umod(this.curve.n)) >= 0 && v)
      throw new Error("Unable to find sencond key candinate");
    v
      ? (f = this.curve.pointFromX(f.add(this.curve.n), b))
      : (f = this.curve.pointFromX(f, b));
    var y = e.r.invm(n),
      S = n.sub(a).mul(y).umod(n),
      O = h.mul(y).umod(n);
    return this.g.mulAdd(S, f, O);
  }),
  (ji.prototype.getKeyRecoveryParam = function (r, e, t, i) {
    if (((e = new _f(e, i)), e.recoveryParam !== null)) return e.recoveryParam;
    for (var n = 0; n < 4; n++) {
      var a;
      try {
        a = this.recoverPubKey(r, e, n);
      } catch {
        continue;
      }
      if (a.eq(t)) return n;
    }
    throw new Error("Unable to find valid recovery factor");
  });
var qE = Za(function (r, e) {
    var t = e;
    (t.version = "6.5.4"),
      (t.utils = Ei),
      (t.rand = function () {
        throw new Error("unsupported");
      }),
      (t.curve = Cf),
      (t.curves = Rf),
      (t.ec = BE),
      (t.eddsa = null);
  }),
  LE = qE.ec;
const UE = "signing-key/5.7.0",
  Ul = new Pr(UE);
let ol = null;
function As() {
  return ol || (ol = new LE("secp256k1")), ol;
}
class $E {
  constructor(e) {
    Mo(this, "curve", "secp256k1"),
      Mo(this, "privateKey", fi(e)),
      E9(this.privateKey) !== 32 &&
        Ul.throwArgumentError(
          "invalid private key",
          "privateKey",
          "[[ REDACTED ]]"
        );
    const t = As().keyFromPrivate(ir(this.privateKey));
    Mo(this, "publicKey", "0x" + t.getPublic(!1, "hex")),
      Mo(this, "compressedPublicKey", "0x" + t.getPublic(!0, "hex")),
      Mo(this, "_isSigningKey", !0);
  }
  _addPoint(e) {
    const t = As().keyFromPublic(ir(this.publicKey)),
      i = As().keyFromPublic(ir(e));
    return "0x" + t.pub.add(i.pub).encodeCompressed("hex");
  }
  signDigest(e) {
    const t = As().keyFromPrivate(ir(this.privateKey)),
      i = ir(e);
    i.length !== 32 && Ul.throwArgumentError("bad digest length", "digest", e);
    const n = t.sign(i, { canonical: !0 });
    return Yv({
      recoveryParam: n.recoveryParam,
      r: Nn("0x" + n.r.toString(16), 32),
      s: Nn("0x" + n.s.toString(16), 32),
    });
  }
  computeSharedSecret(e) {
    const t = As().keyFromPrivate(ir(this.privateKey)),
      i = As().keyFromPublic(ir(Ib(e)));
    return Nn("0x" + t.derive(i.getPublic()).toString(16), 32);
  }
  static isSigningKey(e) {
    return !!(e && e._isSigningKey);
  }
}
function jE(r, e) {
  const t = Yv(e),
    i = { r: ir(t.r), s: ir(t.s) };
  return "0x" + As().recoverPubKey(ir(r), i, t.recoveryParam).encode("hex", !1);
}
function Ib(r, e) {
  const t = ir(r);
  return t.length === 32
    ? new $E(t).publicKey
    : t.length === 33
    ? "0x" + As().keyFromPublic(t).getPublic(!1, "hex")
    : t.length === 65
    ? fi(t)
    : Ul.throwArgumentError(
        "invalid public or private key",
        "key",
        "[REDACTED]"
      );
}
var O1;
(function (r) {
  (r[(r.legacy = 0)] = "legacy"),
    (r[(r.eip2930 = 1)] = "eip2930"),
    (r[(r.eip1559 = 2)] = "eip1559");
})(O1 || (O1 = {}));
function zE(r) {
  const e = Ib(r);
  return Z9(g1(dd(g1(e, 1)), 12));
}
function kE(r, e) {
  return zE(jE(ir(r), e));
}
const HE = "https://rpc.walletconnect.org/v1";
async function KE(r, e, t, i, n, a) {
  switch (t.t) {
    case "eip191":
      return VE(r, e, t.s);
    case "eip1271":
      return await GE(r, e, t.s, i, n, a);
    default:
      throw new Error(
        `verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`
      );
  }
}
function VE(r, e, t) {
  return kE(sb(e), t).toLowerCase() === r.toLowerCase();
}
async function GE(r, e, t, i, n, a) {
  try {
    const f = "0x1626ba7e",
      h = "0000000000000000000000000000000000000000000000000000000000000040",
      b = "0000000000000000000000000000000000000000000000000000000000000041",
      v = t.substring(2),
      y = sb(e).substring(2),
      S = f + y + h + b + v,
      O = await fetch(`${a || HE}/?chainId=${i}&projectId=${n}`, {
        method: "POST",
        body: JSON.stringify({
          id: WE(),
          jsonrpc: "2.0",
          method: "eth_call",
          params: [{ to: r, data: S }, "latest"],
        }),
      }),
      { result: P } = await O.json();
    return P ? P.slice(0, f.length).toLowerCase() === f.toLowerCase() : !1;
  } catch {
    return !1;
  }
}
function WE() {
  return Date.now() + Math.floor(Math.random() * 1e3);
}
var JE = Object.defineProperty,
  YE = Object.defineProperties,
  QE = Object.getOwnPropertyDescriptors,
  C1 = Object.getOwnPropertySymbols,
  XE = Object.prototype.hasOwnProperty,
  ZE = Object.prototype.propertyIsEnumerable,
  R1 = (r, e, t) =>
    e in r
      ? JE(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  eS = (r, e) => {
    for (var t in e || (e = {})) XE.call(e, t) && R1(r, t, e[t]);
    if (C1) for (var t of C1(e)) ZE.call(e, t) && R1(r, t, e[t]);
    return r;
  },
  tS = (r, e) => YE(r, QE(e));
const rS = "did:pkh:",
  md = (r) => (r == null ? void 0 : r.split(":")),
  xb = (r) => {
    const e = r && md(r);
    if (e) return r.includes(rS) ? e[3] : e[1];
  },
  N1 = (r) => {
    const e = r && md(r);
    if (e) return e[2] + ":" + e[3];
  },
  Yf = (r) => {
    const e = r && md(r);
    if (e) return e.pop();
  };
async function T1(r) {
  const { cacao: e, projectId: t } = r,
    { s: i, p: n } = e,
    a = Db(n, n.iss),
    f = Yf(n.iss);
  return await KE(f, a, i, xb(n.iss), t);
}
const Db = (r, e) => {
  const t = `${r.domain} wants you to sign in with your Ethereum account:`,
    i = Yf(e);
  if (!r.aud && !r.uri)
    throw new Error(
      "Either `aud` or `uri` is required to construct the message"
    );
  let n = r.statement || void 0;
  const a = `URI: ${r.aud || r.uri}`,
    f = `Version: ${r.version}`,
    h = `Chain ID: ${xb(e)}`,
    b = `Nonce: ${r.nonce}`,
    v = `Issued At: ${r.iat}`,
    y = r.exp ? `Expiration Time: ${r.exp}` : void 0,
    S = r.nbf ? `Not Before: ${r.nbf}` : void 0,
    O = r.requestId ? `Request ID: ${r.requestId}` : void 0,
    P = r.resources
      ? `Resources:${r.resources
          .map(
            (H) => `
- ${H}`
          )
          .join("")}`
      : void 0,
    C = Nf(r.resources);
  if (C) {
    const H = Wo(C);
    n = hS(n, H);
  }
  return [t, i, "", n, "", a, f, h, b, v, y, S, O, P].filter((H) => H != null)
    .join(`
`);
};
function iS(r) {
  return Ki.from(JSON.stringify(r)).toString("base64");
}
function nS(r) {
  return JSON.parse(Ki.from(r, "base64").toString("utf-8"));
}
function ia(r) {
  if (!r) throw new Error("No recap provided, value is undefined");
  if (!r.att) throw new Error("No `att` property found");
  const e = Object.keys(r.att);
  if (!(e != null && e.length))
    throw new Error("No resources found in `att` property");
  e.forEach((t) => {
    const i = r.att[t];
    if (Array.isArray(i)) throw new Error(`Resource must be an object: ${t}`);
    if (typeof i != "object")
      throw new Error(`Resource must be an object: ${t}`);
    if (!Object.keys(i).length)
      throw new Error(`Resource object is empty: ${t}`);
    Object.keys(i).forEach((n) => {
      const a = i[n];
      if (!Array.isArray(a))
        throw new Error(
          `Ability limits ${n} must be an array of objects, found: ${a}`
        );
      if (!a.length)
        throw new Error(
          `Value of ${n} is empty array, must be an array with objects`
        );
      a.forEach((f) => {
        if (typeof f != "object")
          throw new Error(
            `Ability limits (${n}) must be an array of objects, found: ${f}`
          );
      });
    });
  });
}
function sS(r, e, t, i = {}) {
  return (
    t == null || t.sort((n, a) => n.localeCompare(a)),
    { att: { [r]: aS(e, t, i) } }
  );
}
function aS(r, e, t = {}) {
  e = e == null ? void 0 : e.sort((n, a) => n.localeCompare(a));
  const i = e.map((n) => ({ [`${r}/${n}`]: [t] }));
  return Object.assign({}, ...i);
}
function Pb(r) {
  return ia(r), `urn:recap:${iS(r).replace(/=/g, "")}`;
}
function Wo(r) {
  const e = nS(r.replace("urn:recap:", ""));
  return ia(e), e;
}
function oS(r, e, t) {
  const i = sS(r, e, t);
  return Pb(i);
}
function cS(r) {
  return r && r.includes("urn:recap:");
}
function fS(r, e) {
  const t = Wo(r),
    i = Wo(e),
    n = uS(t, i);
  return Pb(n);
}
function uS(r, e) {
  ia(r), ia(e);
  const t = Object.keys(r.att)
      .concat(Object.keys(e.att))
      .sort((n, a) => n.localeCompare(a)),
    i = { att: {} };
  return (
    t.forEach((n) => {
      var a, f;
      Object.keys(((a = r.att) == null ? void 0 : a[n]) || {})
        .concat(Object.keys(((f = e.att) == null ? void 0 : f[n]) || {}))
        .sort((h, b) => h.localeCompare(b))
        .forEach((h) => {
          var b, v;
          i.att[n] = tS(eS({}, i.att[n]), {
            [h]:
              ((b = r.att[n]) == null ? void 0 : b[h]) ||
              ((v = e.att[n]) == null ? void 0 : v[h]),
          });
        });
    }),
    i
  );
}
function hS(r = "", e) {
  ia(e);
  const t =
    "I further authorize the stated URI to perform the following actions on my behalf: ";
  if (r.includes(t)) return r;
  const i = [];
  let n = 0;
  Object.keys(e.att).forEach((h) => {
    const b = Object.keys(e.att[h]).map((S) => ({
      ability: S.split("/")[0],
      action: S.split("/")[1],
    }));
    b.sort((S, O) => S.action.localeCompare(O.action));
    const v = {};
    b.forEach((S) => {
      v[S.ability] || (v[S.ability] = []), v[S.ability].push(S.action);
    });
    const y = Object.keys(v).map(
      (S) => (n++, `(${n}) '${S}': '${v[S].join("', '")}' for '${h}'.`)
    );
    i.push(y.join(", ").replace(".,", "."));
  });
  const a = i.join(" "),
    f = `${t}${a}`;
  return `${r ? r + " " : ""}${f}`;
}
function F1(r) {
  var e;
  const t = Wo(r);
  ia(t);
  const i = (e = t.att) == null ? void 0 : e.eip155;
  return i ? Object.keys(i).map((n) => n.split("/")[1]) : [];
}
function B1(r) {
  const e = Wo(r);
  ia(e);
  const t = [];
  return (
    Object.values(e.att).forEach((i) => {
      Object.values(i).forEach((n) => {
        var a;
        (a = n == null ? void 0 : n[0]) != null &&
          a.chains &&
          t.push(n[0].chains);
      });
    }),
    [...new Set(t.flat())]
  );
}
function Nf(r) {
  if (!r) return;
  const e = r == null ? void 0 : r[r.length - 1];
  return cS(e) ? e : void 0;
}
const Ob = "base10",
  Yr = "base16",
  Is = "base64pad",
  Do = "base64url",
  cc = "utf8",
  Cb = 0,
  os = 1,
  fc = 2,
  lS = 0,
  q1 = 1,
  zo = 12,
  yd = 32;
function dS() {
  const r = sd.generateKeyPair();
  return { privateKey: mr(r.secretKey, Yr), publicKey: mr(r.publicKey, Yr) };
}
function $l() {
  const r = Ps.randomBytes(yd);
  return mr(r, Yr);
}
function pS(r, e) {
  const t = sd.sharedKey(br(r, Yr), br(e, Yr), !0),
    i = new k4(tc.SHA256, t).expand(yd);
  return mr(i, Yr);
}
function Tf(r) {
  const e = tc.hash(br(r, Yr));
  return mr(e, Yr);
}
function is(r) {
  const e = tc.hash(br(r, cc));
  return mr(e, Yr);
}
function Rb(r) {
  return br(`${r}`, Ob);
}
function na(r) {
  return Number(mr(r, Ob));
}
function gS(r) {
  const e = Rb(typeof r.type < "u" ? r.type : Cb);
  if (na(e) === os && typeof r.senderPublicKey > "u")
    throw new Error("Missing sender public key for type 1 envelope");
  const t = typeof r.senderPublicKey < "u" ? br(r.senderPublicKey, Yr) : void 0,
    i = typeof r.iv < "u" ? br(r.iv, Yr) : Ps.randomBytes(zo),
    n = new id.ChaCha20Poly1305(br(r.symKey, Yr)).seal(i, br(r.message, cc));
  return Nb({
    type: e,
    sealed: n,
    iv: i,
    senderPublicKey: t,
    encoding: r.encoding,
  });
}
function vS(r, e) {
  const t = Rb(fc),
    i = Ps.randomBytes(zo),
    n = br(r, cc);
  return Nb({ type: t, sealed: n, iv: i, encoding: e });
}
function bS(r) {
  const e = new id.ChaCha20Poly1305(br(r.symKey, Yr)),
    { sealed: t, iv: i } = Jo({
      encoded: r.encoded,
      encoding: r == null ? void 0 : r.encoding,
    }),
    n = e.open(i, t);
  if (n === null) throw new Error("Failed to decrypt");
  return mr(n, cc);
}
function mS(r, e) {
  const { sealed: t } = Jo({ encoded: r, encoding: e });
  return mr(t, cc);
}
function Nb(r) {
  const { encoding: e = Is } = r;
  if (na(r.type) === fc) return mr(Lo([r.type, r.sealed]), e);
  if (na(r.type) === os) {
    if (typeof r.senderPublicKey > "u")
      throw new Error("Missing sender public key for type 1 envelope");
    return mr(Lo([r.type, r.senderPublicKey, r.iv, r.sealed]), e);
  }
  return mr(Lo([r.type, r.iv, r.sealed]), e);
}
function Jo(r) {
  const { encoded: e, encoding: t = Is } = r,
    i = br(e, t),
    n = i.slice(lS, q1),
    a = q1;
  if (na(n) === os) {
    const v = a + yd,
      y = v + zo,
      S = i.slice(a, v),
      O = i.slice(v, y),
      P = i.slice(y);
    return { type: n, sealed: P, iv: O, senderPublicKey: S };
  }
  if (na(n) === fc) {
    const v = i.slice(a),
      y = Ps.randomBytes(zo);
    return { type: n, sealed: v, iv: y };
  }
  const f = a + zo,
    h = i.slice(a, f),
    b = i.slice(f);
  return { type: n, sealed: b, iv: h };
}
function yS(r, e) {
  const t = Jo({ encoded: r, encoding: e == null ? void 0 : e.encoding });
  return Tb({
    type: na(t.type),
    senderPublicKey:
      typeof t.senderPublicKey < "u" ? mr(t.senderPublicKey, Yr) : void 0,
    receiverPublicKey: e == null ? void 0 : e.receiverPublicKey,
  });
}
function Tb(r) {
  const e = (r == null ? void 0 : r.type) || Cb;
  if (e === os) {
    if (typeof (r == null ? void 0 : r.senderPublicKey) > "u")
      throw new Error("missing sender public key");
    if (typeof (r == null ? void 0 : r.receiverPublicKey) > "u")
      throw new Error("missing receiver public key");
  }
  return {
    type: e,
    senderPublicKey: r == null ? void 0 : r.senderPublicKey,
    receiverPublicKey: r == null ? void 0 : r.receiverPublicKey,
  };
}
function L1(r) {
  return (
    r.type === os &&
    typeof r.senderPublicKey == "string" &&
    typeof r.receiverPublicKey == "string"
  );
}
function U1(r) {
  return r.type === fc;
}
function wS(r) {
  return new Dv.ec("p256").keyFromPublic(
    {
      x: Ki.from(r.x, "base64").toString("hex"),
      y: Ki.from(r.y, "base64").toString("hex"),
    },
    "hex"
  );
}
function _S(r) {
  let e = r.replace(/-/g, "+").replace(/_/g, "/");
  const t = e.length % 4;
  return t > 0 && (e += "=".repeat(4 - t)), e;
}
function AS(r) {
  return Ki.from(_S(r), "base64");
}
function ES(r, e) {
  const [t, i, n] = r.split("."),
    a = AS(n);
  if (a.length !== 64) throw new Error("Invalid signature length");
  const f = a.slice(0, 32).toString("hex"),
    h = a.slice(32, 64).toString("hex"),
    b = `${t}.${i}`,
    v = new tc.SHA256().update(Ki.from(b)).digest(),
    y = wS(e),
    S = Ki.from(v).toString("hex");
  if (!y.verify(S, { r: f, s: h })) throw new Error("Invalid signature");
  return Nl(r).payload;
}
const SS = "irn";
function jl(r) {
  return (r == null ? void 0 : r.relay) || { protocol: SS };
}
function Bo(r) {
  const e = J7[r];
  if (typeof e > "u") throw new Error(`Relay Protocol not supported: ${r}`);
  return e;
}
var MS = Object.defineProperty,
  IS = Object.defineProperties,
  xS = Object.getOwnPropertyDescriptors,
  $1 = Object.getOwnPropertySymbols,
  DS = Object.prototype.hasOwnProperty,
  PS = Object.prototype.propertyIsEnumerable,
  j1 = (r, e, t) =>
    e in r
      ? MS(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  z1 = (r, e) => {
    for (var t in e || (e = {})) DS.call(e, t) && j1(r, t, e[t]);
    if ($1) for (var t of $1(e)) PS.call(e, t) && j1(r, t, e[t]);
    return r;
  },
  OS = (r, e) => IS(r, xS(e));
function CS(r, e = "-") {
  const t = {},
    i = "relay" + e;
  return (
    Object.keys(r).forEach((n) => {
      if (n.startsWith(i)) {
        const a = n.replace(i, ""),
          f = r[n];
        t[a] = f;
      }
    }),
    t
  );
}
function k1(r) {
  if (!r.includes("wc:")) {
    const b = Vv(r);
    b != null && b.includes("wc:") && (r = b);
  }
  (r = r.includes("wc://") ? r.replace("wc://", "") : r),
    (r = r.includes("wc:") ? r.replace("wc:", "") : r);
  const e = r.indexOf(":"),
    t = r.indexOf("?") !== -1 ? r.indexOf("?") : void 0,
    i = r.substring(0, e),
    n = r.substring(e + 1, t).split("@"),
    a = typeof t < "u" ? r.substring(t) : "",
    f = Vo.parse(a),
    h = typeof f.methods == "string" ? f.methods.split(",") : void 0;
  return {
    protocol: i,
    topic: RS(n[0]),
    version: parseInt(n[1], 10),
    symKey: f.symKey,
    relay: CS(f),
    methods: h,
    expiryTimestamp: f.expiryTimestamp
      ? parseInt(f.expiryTimestamp, 10)
      : void 0,
  };
}
function RS(r) {
  return r.startsWith("//") ? r.substring(2) : r;
}
function NS(r, e = "-") {
  const t = "relay",
    i = {};
  return (
    Object.keys(r).forEach((n) => {
      const a = t + e + n;
      r[n] && (i[a] = r[n]);
    }),
    i
  );
}
function H1(r) {
  return (
    `${r.protocol}:${r.topic}@${r.version}?` +
    Vo.stringify(
      z1(
        OS(z1({ symKey: r.symKey }, NS(r.relay)), {
          expiryTimestamp: r.expiryTimestamp,
        }),
        r.methods ? { methods: r.methods.join(",") } : {}
      )
    )
  );
}
function Af(r, e, t) {
  return `${r}?wc_ev=${t}&topic=${e}`;
}
function eo(r) {
  const e = [];
  return (
    r.forEach((t) => {
      const [i, n] = t.split(":");
      e.push(`${i}:${n}`);
    }),
    e
  );
}
function TS(r) {
  const e = [];
  return (
    Object.values(r).forEach((t) => {
      e.push(...eo(t.accounts));
    }),
    e
  );
}
function FS(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      eo(i.accounts).includes(e) && t.push(...i.methods);
    }),
    t
  );
}
function BS(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      eo(i.accounts).includes(e) && t.push(...i.events);
    }),
    t
  );
}
function wd(r) {
  return r.includes(":");
}
function qo(r) {
  return wd(r) ? r.split(":")[0] : r;
}
function qS(r) {
  const e = {};
  return (
    r == null ||
      r.forEach((t) => {
        const [i, n] = t.split(":");
        e[i] || (e[i] = { accounts: [], chains: [], events: [] }),
          e[i].accounts.push(t),
          e[i].chains.push(`${i}:${n}`);
      }),
    e
  );
}
function K1(r, e) {
  e = e.map((i) => i.replace("did:pkh:", ""));
  const t = qS(e);
  for (const [i, n] of Object.entries(t))
    n.methods ? (n.methods = Pf(n.methods, r)) : (n.methods = r),
      (n.events = ["chainChanged", "accountsChanged"]);
  return t;
}
const LS = {
    INVALID_METHOD: { message: "Invalid method.", code: 1001 },
    INVALID_EVENT: { message: "Invalid event.", code: 1002 },
    INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 },
    INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 },
    INVALID_SESSION_SETTLE_REQUEST: {
      message: "Invalid session settle request.",
      code: 1005,
    },
    UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 },
    UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 },
    UNAUTHORIZED_UPDATE_REQUEST: {
      message: "Unauthorized update request.",
      code: 3003,
    },
    UNAUTHORIZED_EXTEND_REQUEST: {
      message: "Unauthorized extend request.",
      code: 3004,
    },
    USER_REJECTED: { message: "User rejected.", code: 5e3 },
    USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 },
    USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 },
    USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 },
    UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 },
    UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 },
    UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 },
    UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 },
    UNSUPPORTED_NAMESPACE_KEY: {
      message: "Unsupported namespace key.",
      code: 5104,
    },
    USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 },
    SESSION_SETTLEMENT_FAILED: {
      message: "Session settlement failed.",
      code: 7e3,
    },
    WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 },
  },
  US = {
    NOT_INITIALIZED: { message: "Not initialized.", code: 1 },
    NO_MATCHING_KEY: { message: "No matching key.", code: 2 },
    RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 },
    RESUBSCRIBED: { message: "Resubscribed.", code: 4 },
    MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 },
    EXPIRED: { message: "Expired.", code: 6 },
    UNKNOWN_TYPE: { message: "Unknown type.", code: 7 },
    MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 },
    NON_CONFORMING_NAMESPACES: {
      message: "Non conforming namespaces.",
      code: 9,
    },
  };
function Ae(r, e) {
  const { message: t, code: i } = US[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function Ut(r, e) {
  const { message: t, code: i } = LS[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function Ln(r, e) {
  return !!Array.isArray(r);
}
function Yo(r) {
  return Object.getPrototypeOf(r) === Object.prototype && Object.keys(r).length;
}
function ui(r) {
  return typeof r > "u";
}
function fr(r, e) {
  return e && ui(r) ? !0 : typeof r == "string" && !!r.trim().length;
}
function _d(r, e) {
  return typeof r == "number" && !isNaN(r);
}
function $S(r, e) {
  const { requiredNamespaces: t } = e,
    i = Object.keys(r.namespaces),
    n = Object.keys(t);
  let a = !0;
  return Zs(n, i)
    ? (i.forEach((f) => {
        const { accounts: h, methods: b, events: v } = r.namespaces[f],
          y = eo(h),
          S = t[f];
        (!Zs(Uv(f, S), y) || !Zs(S.methods, b) || !Zs(S.events, v)) && (a = !1);
      }),
      a)
    : !1;
}
function Qf(r) {
  return fr(r, !1) && r.includes(":") ? r.split(":").length === 2 : !1;
}
function jS(r) {
  if (fr(r, !1) && r.includes(":")) {
    const e = r.split(":");
    if (e.length === 3) {
      const t = e[0] + ":" + e[1];
      return !!e[2] && Qf(t);
    }
  }
  return !1;
}
function zS(r) {
  function e(t) {
    try {
      return typeof new URL(t) < "u";
    } catch {
      return !1;
    }
  }
  try {
    if (fr(r, !1)) {
      if (e(r)) return !0;
      const t = Vv(r);
      return e(t);
    }
  } catch {}
  return !1;
}
function kS(r) {
  var e;
  return (e = r == null ? void 0 : r.proposer) == null ? void 0 : e.publicKey;
}
function HS(r) {
  return r == null ? void 0 : r.topic;
}
function KS(r, e) {
  let t = null;
  return (
    fr(r == null ? void 0 : r.publicKey, !1) ||
      (t = Ae(
        "MISSING_OR_INVALID",
        `${e} controller public key should be a string`
      )),
    t
  );
}
function V1(r) {
  let e = !0;
  return Ln(r) ? r.length && (e = r.every((t) => fr(t, !1))) : (e = !1), e;
}
function VS(r, e, t) {
  let i = null;
  return (
    Ln(e) && e.length
      ? e.forEach((n) => {
          i ||
            Qf(n) ||
            (i = Ut(
              "UNSUPPORTED_CHAINS",
              `${t}, chain ${n} should be a string and conform to "namespace:chainId" format`
            ));
        })
      : Qf(r) ||
        (i = Ut(
          "UNSUPPORTED_CHAINS",
          `${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`
        )),
    i
  );
}
function GS(r, e, t) {
  let i = null;
  return (
    Object.entries(r).forEach(([n, a]) => {
      if (i) return;
      const f = VS(n, Uv(n, a), `${e} ${t}`);
      f && (i = f);
    }),
    i
  );
}
function WS(r, e) {
  let t = null;
  return (
    Ln(r)
      ? r.forEach((i) => {
          t ||
            jS(i) ||
            (t = Ut(
              "UNSUPPORTED_ACCOUNTS",
              `${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`
            ));
        })
      : (t = Ut(
          "UNSUPPORTED_ACCOUNTS",
          `${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`
        )),
    t
  );
}
function JS(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const n = WS(i == null ? void 0 : i.accounts, `${e} namespace`);
      n && (t = n);
    }),
    t
  );
}
function YS(r, e) {
  let t = null;
  return (
    V1(r == null ? void 0 : r.methods)
      ? V1(r == null ? void 0 : r.events) ||
        (t = Ut(
          "UNSUPPORTED_EVENTS",
          `${e}, events should be an array of strings or empty array for no events`
        ))
      : (t = Ut(
          "UNSUPPORTED_METHODS",
          `${e}, methods should be an array of strings or empty array for no methods`
        )),
    t
  );
}
function Fb(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const n = YS(i, `${e}, namespace`);
      n && (t = n);
    }),
    t
  );
}
function QS(r, e, t) {
  let i = null;
  if (r && Yo(r)) {
    const n = Fb(r, e);
    n && (i = n);
    const a = GS(r, e, t);
    a && (i = a);
  } else
    i = Ae("MISSING_OR_INVALID", `${e}, ${t} should be an object with data`);
  return i;
}
function cl(r, e) {
  let t = null;
  if (r && Yo(r)) {
    const i = Fb(r, e);
    i && (t = i);
    const n = JS(r, e);
    n && (t = n);
  } else
    t = Ae(
      "MISSING_OR_INVALID",
      `${e}, namespaces should be an object with data`
    );
  return t;
}
function Bb(r) {
  return fr(r.protocol, !0);
}
function XS(r, e) {
  let t = !1;
  return (
    r
      ? r &&
        Ln(r) &&
        r.length &&
        r.forEach((i) => {
          t = Bb(i);
        })
      : (t = !0),
    t
  );
}
function ZS(r) {
  return typeof r == "number";
}
function ci(r) {
  return typeof r < "u" && typeof r !== null;
}
function eM(r) {
  return !(
    !r ||
    typeof r != "object" ||
    !r.code ||
    !_d(r.code) ||
    !r.message ||
    !fr(r.message, !1)
  );
}
function tM(r) {
  return !(ui(r) || !fr(r.method, !1));
}
function rM(r) {
  return !(
    ui(r) ||
    (ui(r.result) && ui(r.error)) ||
    !_d(r.id) ||
    !fr(r.jsonrpc, !1)
  );
}
function iM(r) {
  return !(ui(r) || !fr(r.name, !1));
}
function G1(r, e) {
  return !(!Qf(e) || !TS(r).includes(e));
}
function nM(r, e, t) {
  return fr(t, !1) ? FS(r, e).includes(t) : !1;
}
function sM(r, e, t) {
  return fr(t, !1) ? BS(r, e).includes(t) : !1;
}
function W1(r, e, t) {
  let i = null;
  const n = aM(r),
    a = oM(e),
    f = Object.keys(n),
    h = Object.keys(a),
    b = J1(Object.keys(r)),
    v = J1(Object.keys(e)),
    y = b.filter((S) => !v.includes(S));
  return (
    y.length &&
      (i = Ae(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${y.toString()}
      Received: ${Object.keys(e).toString()}`
      )),
    Zs(f, h) ||
      (i = Ae(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces chains don't satisfy required namespaces.
      Required: ${f.toString()}
      Approved: ${h.toString()}`
      )),
    Object.keys(e).forEach((S) => {
      if (!S.includes(":") || i) return;
      const O = eo(e[S].accounts);
      O.includes(S) ||
        (i = Ae(
          "NON_CONFORMING_NAMESPACES",
          `${t} namespaces accounts don't satisfy namespace accounts for ${S}
        Required: ${S}
        Approved: ${O.toString()}`
        ));
    }),
    f.forEach((S) => {
      i ||
        (Zs(n[S].methods, a[S].methods)
          ? Zs(n[S].events, a[S].events) ||
            (i = Ae(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces events don't satisfy namespace events for ${S}`
            ))
          : (i = Ae(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces methods don't satisfy namespace methods for ${S}`
            )));
    }),
    i
  );
}
function aM(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      var i;
      t.includes(":")
        ? (e[t] = r[t])
        : (i = r[t].chains) == null ||
          i.forEach((n) => {
            e[n] = { methods: r[t].methods, events: r[t].events };
          });
    }),
    e
  );
}
function J1(r) {
  return [...new Set(r.map((e) => (e.includes(":") ? e.split(":")[0] : e)))];
}
function oM(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      if (t.includes(":")) e[t] = r[t];
      else {
        const i = eo(r[t].accounts);
        i == null ||
          i.forEach((n) => {
            e[n] = {
              accounts: r[t].accounts.filter((a) => a.includes(`${n}:`)),
              methods: r[t].methods,
              events: r[t].events,
            };
          });
      }
    }),
    e
  );
}
function cM(r, e) {
  return _d(r) && r <= e.max && r >= e.min;
}
function Y1() {
  const r = ac();
  return new Promise((e) => {
    switch (r) {
      case _i.browser:
        e(fM());
        break;
      case _i.reactNative:
        e(uM());
        break;
      case _i.node:
        e(hM());
        break;
      default:
        e(!0);
    }
  });
}
function fM() {
  return sc() && (navigator == null ? void 0 : navigator.onLine);
}
async function uM() {
  if (Ja() && typeof pt < "u" && pt != null && pt.NetInfo) {
    const r = await (pt == null ? void 0 : pt.NetInfo.fetch());
    return r == null ? void 0 : r.isConnected;
  }
  return !0;
}
function hM() {
  return !0;
}
function lM(r) {
  switch (ac()) {
    case _i.browser:
      dM(r);
      break;
    case _i.reactNative:
      pM(r);
      break;
  }
}
function dM(r) {
  !Ja() &&
    sc() &&
    (window.addEventListener("online", () => r(!0)),
    window.addEventListener("offline", () => r(!1)));
}
function pM(r) {
  var e;
  Ja() &&
    typeof pt < "u" &&
    pt != null &&
    pt.NetInfo &&
    ((e = pt) == null ||
      e.NetInfo.addEventListener((t) => r(t == null ? void 0 : t.isConnected)));
}
const fl = {};
class Po {
  static get(e) {
    return fl[e];
  }
  static set(e, t) {
    fl[e] = t;
  }
  static delete(e) {
    delete fl[e];
  }
}
class ca {}
let gM = class extends ca {
  constructor(e) {
    super();
  }
};
const Q1 = Se.FIVE_SECONDS,
  to = { pulse: "heartbeat_pulse" };
let vM = class qb extends gM {
  constructor(e) {
    super(e),
      (this.events = new Wi.EventEmitter()),
      (this.interval = Q1),
      (this.interval = (e == null ? void 0 : e.interval) || Q1);
  }
  static async init(e) {
    const t = new qb(e);
    return await t.init(), t;
  }
  async init() {
    await this.initialize();
  }
  stop() {
    clearInterval(this.intervalRef);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async initialize() {
    this.intervalRef = setInterval(
      () => this.pulse(),
      Se.toMiliseconds(this.interval)
    );
  }
  pulse() {
    this.events.emit(to.pulse);
  }
};
const bM =
    /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,
  mM =
    /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,
  yM = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function wM(r, e) {
  if (
    r === "__proto__" ||
    (r === "constructor" && e && typeof e == "object" && "prototype" in e)
  ) {
    return;
  }
  return e;
}
function Ef(r, e = {}) {
  if (typeof r != "string") return r;
  const t = r.trim();
  if (r[0] === '"' && r.endsWith('"') && !r.includes("\\"))
    return t.slice(1, -1);
  if (t.length <= 9) {
    const i = t.toLowerCase();
    if (i === "true") return !0;
    if (i === "false") return !1;
    if (i === "undefined") return;
    if (i === "null") return null;
    if (i === "nan") return Number.NaN;
    if (i === "infinity") return Number.POSITIVE_INFINITY;
    if (i === "-infinity") return Number.NEGATIVE_INFINITY;
  }
  if (!yM.test(r)) {
    if (e.strict) throw new SyntaxError("[destr] Invalid JSON");
    return r;
  }
  try {
    if (bM.test(r) || mM.test(r)) {
      if (e.strict) throw new Error("[destr] Possible prototype pollution");
      return JSON.parse(r, wM);
    }
    return JSON.parse(r);
  } catch (i) {
    if (e.strict) throw i;
    return r;
  }
}
function _M(r) {
  return !r || typeof r.then != "function" ? Promise.resolve(r) : r;
}
function Er(r, ...e) {
  try {
    return _M(r(...e));
  } catch (t) {
    return Promise.reject(t);
  }
}
function AM(r) {
  const e = typeof r;
  return r === null || (e !== "object" && e !== "function");
}
function EM(r) {
  const e = Object.getPrototypeOf(r);
  return !e || e.isPrototypeOf(Object);
}
function Ff(r) {
  if (AM(r)) return String(r);
  if (EM(r) || Array.isArray(r)) return JSON.stringify(r);
  if (typeof r.toJSON == "function") return Ff(r.toJSON());
  throw new Error("[unstorage] Cannot stringify value!");
}
function Lb() {
  if (typeof Ki > "u")
    throw new TypeError("[unstorage] Buffer is not supported!");
}
const zl = "base64:";
function SM(r) {
  if (typeof r == "string") return r;
  Lb();
  const e = Ki.from(r).toString("base64");
  return zl + e;
}
function MM(r) {
  return typeof r != "string" || !r.startsWith(zl)
    ? r
    : (Lb(), Ki.from(r.slice(zl.length), "base64"));
}
function oi(r) {
  return r
    ? r
        .split("?")[0]
        .replace(/[/\\]/g, ":")
        .replace(/:+/g, ":")
        .replace(/^:|:$/g, "")
    : "";
}
function IM(...r) {
  return oi(r.join(":"));
}
function Sf(r) {
  return (r = oi(r)), r ? r + ":" : "";
}
const xM = "memory",
  DM = () => {
    const r = new Map();
    return {
      name: xM,
      getInstance: () => r,
      hasItem(e) {
        return r.has(e);
      },
      getItem(e) {
        return r.get(e) ?? null;
      },
      getItemRaw(e) {
        return r.get(e) ?? null;
      },
      setItem(e, t) {
        r.set(e, t);
      },
      setItemRaw(e, t) {
        r.set(e, t);
      },
      removeItem(e) {
        r.delete(e);
      },
      getKeys() {
        return [...r.keys()];
      },
      clear() {
        r.clear();
      },
      dispose() {
        r.clear();
      },
    };
  };
function PM(r = {}) {
  const e = {
      mounts: { "": r.driver || DM() },
      mountpoints: [""],
      watching: !1,
      watchListeners: [],
      unwatch: {},
    },
    t = (v) => {
      for (const y of e.mountpoints)
        if (v.startsWith(y))
          return {
            base: y,
            relativeKey: v.slice(y.length),
            driver: e.mounts[y],
          };
      return { base: "", relativeKey: v, driver: e.mounts[""] };
    },
    i = (v, y) =>
      e.mountpoints
        .filter((S) => S.startsWith(v) || (y && v.startsWith(S)))
        .map((S) => ({
          relativeBase: v.length > S.length ? v.slice(S.length) : void 0,
          mountpoint: S,
          driver: e.mounts[S],
        })),
    n = (v, y) => {
      if (e.watching) {
        y = oi(y);
        for (const S of e.watchListeners) S(v, y);
      }
    },
    a = async () => {
      if (!e.watching) {
        e.watching = !0;
        for (const v in e.mounts) e.unwatch[v] = await X1(e.mounts[v], n, v);
      }
    },
    f = async () => {
      if (e.watching) {
        for (const v in e.unwatch) await e.unwatch[v]();
        (e.unwatch = {}), (e.watching = !1);
      }
    },
    h = (v, y, S) => {
      const O = new Map(),
        P = (C) => {
          let H = O.get(C.base);
          return (
            H ||
              ((H = { driver: C.driver, base: C.base, items: [] }),
              O.set(C.base, H)),
            H
          );
        };
      for (const C of v) {
        const H = typeof C == "string",
          V = oi(H ? C : C.key),
          Q = H ? void 0 : C.value,
          j = H || !C.options ? y : { ...y, ...C.options },
          Y = t(V);
        P(Y).items.push({
          key: V,
          value: Q,
          relativeKey: Y.relativeKey,
          options: j,
        });
      }
      return Promise.all([...O.values()].map((C) => S(C))).then((C) =>
        C.flat()
      );
    },
    b = {
      hasItem(v, y = {}) {
        v = oi(v);
        const { relativeKey: S, driver: O } = t(v);
        return Er(O.hasItem, S, y);
      },
      getItem(v, y = {}) {
        v = oi(v);
        const { relativeKey: S, driver: O } = t(v);
        return Er(O.getItem, S, y).then((P) => Ef(P));
      },
      getItems(v, y) {
        return h(v, y, (S) =>
          S.driver.getItems
            ? Er(
                S.driver.getItems,
                S.items.map((O) => ({
                  key: O.relativeKey,
                  options: O.options,
                })),
                y
              ).then((O) =>
                O.map((P) => ({ key: IM(S.base, P.key), value: Ef(P.value) }))
              )
            : Promise.all(
                S.items.map((O) =>
                  Er(S.driver.getItem, O.relativeKey, O.options).then((P) => ({
                    key: O.key,
                    value: Ef(P),
                  }))
                )
              )
        );
      },
      getItemRaw(v, y = {}) {
        v = oi(v);
        const { relativeKey: S, driver: O } = t(v);
        return O.getItemRaw
          ? Er(O.getItemRaw, S, y)
          : Er(O.getItem, S, y).then((P) => MM(P));
      },
      async setItem(v, y, S = {}) {
        if (y === void 0) return b.removeItem(v);
        v = oi(v);
        const { relativeKey: O, driver: P } = t(v);
        P.setItem &&
          (await Er(P.setItem, O, Ff(y), S), P.watch || n("update", v));
      },
      async setItems(v, y) {
        await h(v, y, async (S) => {
          if (S.driver.setItems)
            return Er(
              S.driver.setItems,
              S.items.map((O) => ({
                key: O.relativeKey,
                value: Ff(O.value),
                options: O.options,
              })),
              y
            );
          S.driver.setItem &&
            (await Promise.all(
              S.items.map((O) =>
                Er(S.driver.setItem, O.relativeKey, Ff(O.value), O.options)
              )
            ));
        });
      },
      async setItemRaw(v, y, S = {}) {
        if (y === void 0) return b.removeItem(v, S);
        v = oi(v);
        const { relativeKey: O, driver: P } = t(v);
        if (P.setItemRaw) await Er(P.setItemRaw, O, y, S);
        else if (P.setItem) await Er(P.setItem, O, SM(y), S);
        else return;
        P.watch || n("update", v);
      },
      async removeItem(v, y = {}) {
        typeof y == "boolean" && (y = { removeMeta: y }), (v = oi(v));
        const { relativeKey: S, driver: O } = t(v);
        O.removeItem &&
          (await Er(O.removeItem, S, y),
          (y.removeMeta || y.removeMata) &&
            (await Er(O.removeItem, S + "$", y)),
          O.watch || n("remove", v));
      },
      async getMeta(v, y = {}) {
        typeof y == "boolean" && (y = { nativeOnly: y }), (v = oi(v));
        const { relativeKey: S, driver: O } = t(v),
          P = Object.create(null);
        if (
          (O.getMeta && Object.assign(P, await Er(O.getMeta, S, y)),
          !y.nativeOnly)
        ) {
          const C = await Er(O.getItem, S + "$", y).then((H) => Ef(H));
          C &&
            typeof C == "object" &&
            (typeof C.atime == "string" && (C.atime = new Date(C.atime)),
            typeof C.mtime == "string" && (C.mtime = new Date(C.mtime)),
            Object.assign(P, C));
        }
        return P;
      },
      setMeta(v, y, S = {}) {
        return this.setItem(v + "$", y, S);
      },
      removeMeta(v, y = {}) {
        return this.removeItem(v + "$", y);
      },
      async getKeys(v, y = {}) {
        v = Sf(v);
        const S = i(v, !0);
        let O = [];
        const P = [];
        for (const C of S) {
          const H = await Er(C.driver.getKeys, C.relativeBase, y);
          for (const V of H) {
            const Q = C.mountpoint + oi(V);
            O.some((j) => Q.startsWith(j)) || P.push(Q);
          }
          O = [C.mountpoint, ...O.filter((V) => !V.startsWith(C.mountpoint))];
        }
        return v
          ? P.filter((C) => C.startsWith(v) && C[C.length - 1] !== "$")
          : P.filter((C) => C[C.length - 1] !== "$");
      },
      async clear(v, y = {}) {
        (v = Sf(v)),
          await Promise.all(
            i(v, !1).map(async (S) => {
              if (S.driver.clear) return Er(S.driver.clear, S.relativeBase, y);
              if (S.driver.removeItem) {
                const O = await S.driver.getKeys(S.relativeBase || "", y);
                return Promise.all(O.map((P) => S.driver.removeItem(P, y)));
              }
            })
          );
      },
      async dispose() {
        await Promise.all(Object.values(e.mounts).map((v) => Z1(v)));
      },
      async watch(v) {
        return (
          await a(),
          e.watchListeners.push(v),
          async () => {
            (e.watchListeners = e.watchListeners.filter((y) => y !== v)),
              e.watchListeners.length === 0 && (await f());
          }
        );
      },
      async unwatch() {
        (e.watchListeners = []), await f();
      },
      mount(v, y) {
        if (((v = Sf(v)), v && e.mounts[v]))
          throw new Error(`already mounted at ${v}`);
        return (
          v &&
            (e.mountpoints.push(v),
            e.mountpoints.sort((S, O) => O.length - S.length)),
          (e.mounts[v] = y),
          e.watching &&
            Promise.resolve(X1(y, n, v))
              .then((S) => {
                e.unwatch[v] = S;
              })
              .catch(console.error),
          b
        );
      },
      async unmount(v, y = !0) {
        (v = Sf(v)),
          !(!v || !e.mounts[v]) &&
            (e.watching &&
              v in e.unwatch &&
              (e.unwatch[v](), delete e.unwatch[v]),
            y && (await Z1(e.mounts[v])),
            (e.mountpoints = e.mountpoints.filter((S) => S !== v)),
            delete e.mounts[v]);
      },
      getMount(v = "") {
        v = oi(v) + ":";
        const y = t(v);
        return { driver: y.driver, base: y.base };
      },
      getMounts(v = "", y = {}) {
        return (
          (v = oi(v)),
          i(v, y.parents).map((O) => ({ driver: O.driver, base: O.mountpoint }))
        );
      },
      keys: (v, y = {}) => b.getKeys(v, y),
      get: (v, y = {}) => b.getItem(v, y),
      set: (v, y, S = {}) => b.setItem(v, y, S),
      has: (v, y = {}) => b.hasItem(v, y),
      del: (v, y = {}) => b.removeItem(v, y),
      remove: (v, y = {}) => b.removeItem(v, y),
    };
  return b;
}
function X1(r, e, t) {
  return r.watch ? r.watch((i, n) => e(i, t + n)) : () => {};
}
async function Z1(r) {
  typeof r.dispose == "function" && (await Er(r.dispose));
}
function fa(r) {
  return new Promise((e, t) => {
    (r.oncomplete = r.onsuccess = () => e(r.result)),
      (r.onabort = r.onerror = () => t(r.error));
  });
}
function Ub(r, e) {
  const t = indexedDB.open(r);
  t.onupgradeneeded = () => t.result.createObjectStore(e);
  const i = fa(t);
  return (n, a) => i.then((f) => a(f.transaction(e, n).objectStore(e)));
}
let ul;
function uc() {
  return ul || (ul = Ub("keyval-store", "keyval")), ul;
}
function eg(r, e = uc()) {
  return e("readonly", (t) => fa(t.get(r)));
}
function OM(r, e, t = uc()) {
  return t("readwrite", (i) => (i.put(e, r), fa(i.transaction)));
}
function CM(r, e = uc()) {
  return e("readwrite", (t) => (t.delete(r), fa(t.transaction)));
}
function RM(r = uc()) {
  return r("readwrite", (e) => (e.clear(), fa(e.transaction)));
}
function NM(r, e) {
  return (
    (r.openCursor().onsuccess = function () {
      this.result && (e(this.result), this.result.continue());
    }),
    fa(r.transaction)
  );
}
function TM(r = uc()) {
  return r("readonly", (e) => {
    if (e.getAllKeys) return fa(e.getAllKeys());
    const t = [];
    return NM(e, (i) => t.push(i.key)).then(() => t);
  });
}
const FM = "idb-keyval";
var BM = (r = {}) => {
  const e = r.base && r.base.length > 0 ? `${r.base}:` : "",
    t = (n) => e + n;
  let i;
  return (
    r.dbName && r.storeName && (i = Ub(r.dbName, r.storeName)),
    {
      name: FM,
      options: r,
      async hasItem(n) {
        return !(typeof (await eg(t(n), i)) > "u");
      },
      async getItem(n) {
        return (await eg(t(n), i)) ?? null;
      },
      setItem(n, a) {
        return OM(t(n), a, i);
      },
      removeItem(n) {
        return CM(t(n), i);
      },
      getKeys() {
        return TM(i);
      },
      clear() {
        return RM(i);
      },
    }
  );
};
const qM = "WALLET_CONNECT_V2_INDEXED_DB",
  LM = "keyvaluestorage";
let UM = class {
  constructor() {
    this.indexedDb = PM({ driver: BM({ dbName: qM, storeName: LM }) });
  }
  async getKeys() {
    return this.indexedDb.getKeys();
  }
  async getEntries() {
    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(
      (e) => [e.key, e.value]
    );
  }
  async getItem(e) {
    const t = await this.indexedDb.getItem(e);
    if (t !== null) return t;
  }
  async setItem(e, t) {
    await this.indexedDb.setItem(e, cs(t));
  }
  async removeItem(e) {
    await this.indexedDb.removeItem(e);
  }
};
var hl =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
      ? window
      : typeof pt < "u"
      ? pt
      : typeof self < "u"
      ? self
      : {},
  Bf = { exports: {} };
(function () {
  let r;
  function e() {}
  (r = e),
    (r.prototype.getItem = function (t) {
      return this.hasOwnProperty(t) ? String(this[t]) : null;
    }),
    (r.prototype.setItem = function (t, i) {
      this[t] = String(i);
    }),
    (r.prototype.removeItem = function (t) {
      delete this[t];
    }),
    (r.prototype.clear = function () {
      const t = this;
      Object.keys(t).forEach(function (i) {
        (t[i] = void 0), delete t[i];
      });
    }),
    (r.prototype.key = function (t) {
      return (t = t || 0), Object.keys(this)[t];
    }),
    r.prototype.__defineGetter__("length", function () {
      return Object.keys(this).length;
    }),
    typeof hl < "u" && hl.localStorage
      ? (Bf.exports = hl.localStorage)
      : typeof window < "u" && window.localStorage
      ? (Bf.exports = window.localStorage)
      : (Bf.exports = new e());
})();
function $M(r) {
  var e;
  return [r[0], ra((e = r[1]) != null ? e : "")];
}
class jM {
  constructor() {
    this.localStorage = Bf.exports;
  }
  async getKeys() {
    return Object.keys(this.localStorage);
  }
  async getEntries() {
    return Object.entries(this.localStorage).map($M);
  }
  async getItem(e) {
    const t = this.localStorage.getItem(e);
    if (t !== null) return ra(t);
  }
  async setItem(e, t) {
    this.localStorage.setItem(e, cs(t));
  }
  async removeItem(e) {
    this.localStorage.removeItem(e);
  }
}
const zM = "wc_storage_version",
  tg = 1,
  kM = async (r, e, t) => {
    const i = zM,
      n = await e.getItem(i);
    if (n && n >= tg) {
      t(e);
      return;
    }
    const a = await r.getKeys();
    if (!a.length) {
      t(e);
      return;
    }
    const f = [];
    for (; a.length; ) {
      const h = a.shift();
      if (!h) continue;
      const b = h.toLowerCase();
      if (
        b.includes("wc@") ||
        b.includes("walletconnect") ||
        b.includes("wc_") ||
        b.includes("wallet_connect")
      ) {
        const v = await r.getItem(h);
        await e.setItem(h, v), f.push(h);
      }
    }
    await e.setItem(i, tg), t(e), HM(r, f);
  },
  HM = async (r, e) => {
    e.length &&
      e.forEach(async (t) => {
        await r.removeItem(t);
      });
  };
let KM = class {
  constructor() {
    (this.initialized = !1),
      (this.setInitialized = (t) => {
        (this.storage = t), (this.initialized = !0);
      });
    const e = new jM();
    this.storage = e;
    try {
      const t = new UM();
      kM(e, t, this.setInitialized);
    } catch {
      this.initialized = !0;
    }
  }
  async getKeys() {
    return await this.initialize(), this.storage.getKeys();
  }
  async getEntries() {
    return await this.initialize(), this.storage.getEntries();
  }
  async getItem(e) {
    return await this.initialize(), this.storage.getItem(e);
  }
  async setItem(e, t) {
    return await this.initialize(), this.storage.setItem(e, t);
  }
  async removeItem(e) {
    return await this.initialize(), this.storage.removeItem(e);
  }
  async initialize() {
    this.initialized ||
      (await new Promise((e) => {
        const t = setInterval(() => {
          this.initialized && (clearInterval(t), e());
        }, 20);
      }));
  }
};
function VM(r) {
  try {
    return JSON.stringify(r);
  } catch {
    return '"[Circular]"';
  }
}
var GM = WM;
function WM(r, e, t) {
  var i = (t && t.stringify) || VM,
    n = 1;
  if (typeof r == "object" && r !== null) {
    var a = e.length + n;
    if (a === 1) return r;
    var f = new Array(a);
    f[0] = i(r);
    for (var h = 1; h < a; h++) f[h] = i(e[h]);
    return f.join(" ");
  }
  if (typeof r != "string") return r;
  var b = e.length;
  if (b === 0) return r;
  for (
    var v = "", y = 1 - n, S = -1, O = (r && r.length) || 0, P = 0;
    P < O;

  ) {
    if (r.charCodeAt(P) === 37 && P + 1 < O) {
      switch (((S = S > -1 ? S : 0), r.charCodeAt(P + 1))) {
        case 100:
        case 102:
          if (y >= b || e[y] == null) break;
          S < P && (v += r.slice(S, P)), (v += Number(e[y])), (S = P + 2), P++;
          break;
        case 105:
          if (y >= b || e[y] == null) break;
          S < P && (v += r.slice(S, P)),
            (v += Math.floor(Number(e[y]))),
            (S = P + 2),
            P++;
          break;
        case 79:
        case 111:
        case 106:
          if (y >= b || e[y] === void 0) break;
          S < P && (v += r.slice(S, P));
          var C = typeof e[y];
          if (C === "string") {
            (v += "'" + e[y] + "'"), (S = P + 2), P++;
            break;
          }
          if (C === "function") {
            (v += e[y].name || "<anonymous>"), (S = P + 2), P++;
            break;
          }
          (v += i(e[y])), (S = P + 2), P++;
          break;
        case 115:
          if (y >= b) break;
          S < P && (v += r.slice(S, P)), (v += String(e[y])), (S = P + 2), P++;
          break;
        case 37:
          S < P && (v += r.slice(S, P)), (v += "%"), (S = P + 2), P++, y--;
          break;
      }
      ++y;
    }
    ++P;
  }
  return S === -1 ? r : (S < O && (v += r.slice(S)), v);
}
const rg = GM;
var Fa = qn;
const Qo = nI().console || {},
  JM = {
    mapHttpRequest: Mf,
    mapHttpResponse: Mf,
    wrapRequestSerializer: ll,
    wrapResponseSerializer: ll,
    wrapErrorSerializer: ll,
    req: Mf,
    res: Mf,
    err: eI,
  };
function YM(r, e) {
  return Array.isArray(r)
    ? r.filter(function (i) {
        return i !== "!stdSerializers.err";
      })
    : r === !0
    ? Object.keys(e)
    : !1;
}
function qn(r) {
  (r = r || {}), (r.browser = r.browser || {});
  const e = r.browser.transmit;
  if (e && typeof e.send != "function")
    throw Error("pino: transmit option must have a send function");
  const t = r.browser.write || Qo;
  r.browser.write && (r.browser.asObject = !0);
  const i = r.serializers || {},
    n = YM(r.browser.serialize, i);
  let a = r.browser.serialize;
  Array.isArray(r.browser.serialize) &&
    r.browser.serialize.indexOf("!stdSerializers.err") > -1 &&
    (a = !1);
  const f = ["error", "fatal", "warn", "info", "debug", "trace"];
  typeof t == "function" &&
    (t.error = t.fatal = t.warn = t.info = t.debug = t.trace = t),
    r.enabled === !1 && (r.level = "silent");
  const h = r.level || "info",
    b = Object.create(t);
  b.log || (b.log = Xo),
    Object.defineProperty(b, "levelVal", { get: y }),
    Object.defineProperty(b, "level", { get: S, set: O });
  const v = {
    transmit: e,
    serialize: n,
    asObject: r.browser.asObject,
    levels: f,
    timestamp: tI(r),
  };
  (b.levels = qn.levels),
    (b.level = h),
    (b.setMaxListeners =
      b.getMaxListeners =
      b.emit =
      b.addListener =
      b.on =
      b.prependListener =
      b.once =
      b.prependOnceListener =
      b.removeListener =
      b.removeAllListeners =
      b.listeners =
      b.listenerCount =
      b.eventNames =
      b.write =
      b.flush =
        Xo),
    (b.serializers = i),
    (b._serialize = n),
    (b._stdErrSerialize = a),
    (b.child = P),
    e && (b._logEvent = kl());
  function y() {
    return this.level === "silent" ? 1 / 0 : this.levels.values[this.level];
  }
  function S() {
    return this._level;
  }
  function O(C) {
    if (C !== "silent" && !this.levels.values[C])
      throw Error("unknown level " + C);
    (this._level = C),
      Ca(v, b, "error", "log"),
      Ca(v, b, "fatal", "error"),
      Ca(v, b, "warn", "error"),
      Ca(v, b, "info", "log"),
      Ca(v, b, "debug", "log"),
      Ca(v, b, "trace", "log");
  }
  function P(C, H) {
    if (!C) throw new Error("missing bindings for child Pino");
    (H = H || {}), n && C.serializers && (H.serializers = C.serializers);
    const V = H.serializers;
    if (n && V) {
      var Q = Object.assign({}, i, V),
        j = r.browser.serialize === !0 ? Object.keys(Q) : n;
      delete C.serializers, _u([C], j, Q, this._stdErrSerialize);
    }
    function Y(U) {
      (this._childLevel = (U._childLevel | 0) + 1),
        (this.error = Ra(U, C, "error")),
        (this.fatal = Ra(U, C, "fatal")),
        (this.warn = Ra(U, C, "warn")),
        (this.info = Ra(U, C, "info")),
        (this.debug = Ra(U, C, "debug")),
        (this.trace = Ra(U, C, "trace")),
        Q && ((this.serializers = Q), (this._serialize = j)),
        e && (this._logEvent = kl([].concat(U._logEvent.bindings, C)));
    }
    return (Y.prototype = this), new Y(this);
  }
  return b;
}
qn.levels = {
  values: { fatal: 60, error: 50, warn: 40, info: 30, debug: 20, trace: 10 },
  labels: {
    10: "trace",
    20: "debug",
    30: "info",
    40: "warn",
    50: "error",
    60: "fatal",
  },
};
qn.stdSerializers = JM;
qn.stdTimeFunctions = Object.assign(
  {},
  { nullTime: $b, epochTime: jb, unixTime: rI, isoTime: iI }
);
function Ca(r, e, t, i) {
  const n = Object.getPrototypeOf(e);
  (e[t] =
    e.levelVal > e.levels.values[t] ? Xo : n[t] ? n[t] : Qo[t] || Qo[i] || Xo),
    QM(r, e, t);
}
function QM(r, e, t) {
  (!r.transmit && e[t] === Xo) ||
    (e[t] = (function (i) {
      return function () {
        const a = r.timestamp(),
          f = new Array(arguments.length),
          h =
            Object.getPrototypeOf && Object.getPrototypeOf(this) === Qo
              ? Qo
              : this;
        for (var b = 0; b < f.length; b++) f[b] = arguments[b];
        if (
          (r.serialize &&
            !r.asObject &&
            _u(f, this._serialize, this.serializers, this._stdErrSerialize),
          r.asObject ? i.call(h, XM(this, t, f, a)) : i.apply(h, f),
          r.transmit)
        ) {
          const v = r.transmit.level || e.level,
            y = qn.levels.values[v],
            S = qn.levels.values[t];
          if (S < y) return;
          ZM(
            this,
            {
              ts: a,
              methodLevel: t,
              methodValue: S,
              transmitLevel: v,
              transmitValue: qn.levels.values[r.transmit.level || e.level],
              send: r.transmit.send,
              val: e.levelVal,
            },
            f
          );
        }
      };
    })(e[t]));
}
function XM(r, e, t, i) {
  r._serialize && _u(t, r._serialize, r.serializers, r._stdErrSerialize);
  const n = t.slice();
  let a = n[0];
  const f = {};
  i && (f.time = i), (f.level = qn.levels.values[e]);
  let h = (r._childLevel | 0) + 1;
  if ((h < 1 && (h = 1), a !== null && typeof a == "object")) {
    for (; h-- && typeof n[0] == "object"; ) Object.assign(f, n.shift());
    a = n.length ? rg(n.shift(), n) : void 0;
  } else typeof a == "string" && (a = rg(n.shift(), n));
  return a !== void 0 && (f.msg = a), f;
}
function _u(r, e, t, i) {
  for (const n in r)
    if (i && r[n] instanceof Error) r[n] = qn.stdSerializers.err(r[n]);
    else if (typeof r[n] == "object" && !Array.isArray(r[n]))
      for (const a in r[n])
        e && e.indexOf(a) > -1 && a in t && (r[n][a] = t[a](r[n][a]));
}
function Ra(r, e, t) {
  return function () {
    const i = new Array(1 + arguments.length);
    i[0] = e;
    for (var n = 1; n < i.length; n++) i[n] = arguments[n - 1];
    return r[t].apply(this, i);
  };
}
function ZM(r, e, t) {
  const i = e.send,
    n = e.ts,
    a = e.methodLevel,
    f = e.methodValue,
    h = e.val,
    b = r._logEvent.bindings;
  _u(
    t,
    r._serialize || Object.keys(r.serializers),
    r.serializers,
    r._stdErrSerialize === void 0 ? !0 : r._stdErrSerialize
  ),
    (r._logEvent.ts = n),
    (r._logEvent.messages = t.filter(function (v) {
      return b.indexOf(v) === -1;
    })),
    (r._logEvent.level.label = a),
    (r._logEvent.level.value = f),
    i(a, r._logEvent, h),
    (r._logEvent = kl(b));
}
function kl(r) {
  return {
    ts: 0,
    messages: [],
    bindings: r || [],
    level: { label: "", value: 0 },
  };
}
function eI(r) {
  const e = { type: r.constructor.name, msg: r.message, stack: r.stack };
  for (const t in r) e[t] === void 0 && (e[t] = r[t]);
  return e;
}
function tI(r) {
  return typeof r.timestamp == "function"
    ? r.timestamp
    : r.timestamp === !1
    ? $b
    : jb;
}
function Mf() {
  return {};
}
function ll(r) {
  return r;
}
function Xo() {}
function $b() {
  return !1;
}
function jb() {
  return Date.now();
}
function rI() {
  return Math.round(Date.now() / 1e3);
}
function iI() {
  return new Date(Date.now()).toISOString();
}
function nI() {
  function r(e) {
    return typeof e < "u" && e;
  }
  try {
    return (
      typeof globalThis < "u" ||
        Object.defineProperty(Object.prototype, "globalThis", {
          get: function () {
            return delete Object.prototype.globalThis, (this.globalThis = this);
          },
          configurable: !0,
        }),
      globalThis
    );
  } catch {
    return r(self) || r(window) || r(this) || {};
  }
}
const hc = Zl(Fa),
  sI = { level: "info" },
  lc = "custom_context",
  Ad = 1e3 * 1024;
let aI = class {
    constructor(e) {
      (this.nodeValue = e),
        (this.sizeInBytes = new TextEncoder().encode(this.nodeValue).length),
        (this.next = null);
    }
    get value() {
      return this.nodeValue;
    }
    get size() {
      return this.sizeInBytes;
    }
  },
  ig = class {
    constructor(e) {
      (this.head = null),
        (this.tail = null),
        (this.lengthInNodes = 0),
        (this.maxSizeInBytes = e),
        (this.sizeInBytes = 0);
    }
    append(e) {
      const t = new aI(e);
      if (t.size > this.maxSizeInBytes)
        throw new Error(
          `[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`
        );
      for (; this.size + t.size > this.maxSizeInBytes; ) this.shift();
      this.head
        ? (this.tail && (this.tail.next = t), (this.tail = t))
        : ((this.head = t), (this.tail = t)),
        this.lengthInNodes++,
        (this.sizeInBytes += t.size);
    }
    shift() {
      if (!this.head) return;
      const e = this.head;
      (this.head = this.head.next),
        this.head || (this.tail = null),
        this.lengthInNodes--,
        (this.sizeInBytes -= e.size);
    }
    toArray() {
      const e = [];
      let t = this.head;
      for (; t !== null; ) e.push(t.value), (t = t.next);
      return e;
    }
    get length() {
      return this.lengthInNodes;
    }
    get size() {
      return this.sizeInBytes;
    }
    toOrderedArray() {
      return Array.from(this);
    }
    [Symbol.iterator]() {
      let e = this.head;
      return {
        next: () => {
          if (!e) return { done: !0, value: null };
          const t = e.value;
          return (e = e.next), { done: !1, value: t };
        },
      };
    }
  },
  zb = class {
    constructor(e, t = Ad) {
      (this.level = e ?? "error"),
        (this.levelValue = Fa.levels.values[this.level]),
        (this.MAX_LOG_SIZE_IN_BYTES = t),
        (this.logs = new ig(this.MAX_LOG_SIZE_IN_BYTES));
    }
    forwardToConsole(e, t) {
      t === Fa.levels.values.error ||
        t === Fa.levels.values.warn ||
        t === Fa.levels.values.debug ||
        Fa.levels.values.trace;
    }
    appendToLogs(e) {
      this.logs.append(cs({ timestamp: new Date().toISOString(), log: e }));
      const t = typeof e == "string" ? JSON.parse(e).level : e.level;
      t >= this.levelValue && this.forwardToConsole(e, t);
    }
    getLogs() {
      return this.logs;
    }
    clearLogs() {
      this.logs = new ig(this.MAX_LOG_SIZE_IN_BYTES);
    }
    getLogArray() {
      return Array.from(this.logs);
    }
    logsToBlob(e) {
      const t = this.getLogArray();
      return (
        t.push(cs({ extraMetadata: e })),
        new Blob(t, { type: "application/json" })
      );
    }
  },
  oI = class {
    constructor(e, t = Ad) {
      this.baseChunkLogger = new zb(e, t);
    }
    write(e) {
      this.baseChunkLogger.appendToLogs(e);
    }
    getLogs() {
      return this.baseChunkLogger.getLogs();
    }
    clearLogs() {
      this.baseChunkLogger.clearLogs();
    }
    getLogArray() {
      return this.baseChunkLogger.getLogArray();
    }
    logsToBlob(e) {
      return this.baseChunkLogger.logsToBlob(e);
    }
    downloadLogsBlobInBrowser(e) {
      const t = URL.createObjectURL(this.logsToBlob(e)),
        i = document.createElement("a");
      (i.href = t),
        (i.download = `walletconnect-logs-${new Date().toISOString()}.txt`),
        document.body.appendChild(i),
        i.click(),
        document.body.removeChild(i),
        URL.revokeObjectURL(t);
    }
  };
class cI {
  constructor(e, t = Ad) {
    this.baseChunkLogger = new zb(e, t);
  }
  write(e) {
    this.baseChunkLogger.appendToLogs(e);
  }
  getLogs() {
    return this.baseChunkLogger.getLogs();
  }
  clearLogs() {
    this.baseChunkLogger.clearLogs();
  }
  getLogArray() {
    return this.baseChunkLogger.getLogArray();
  }
  logsToBlob(e) {
    return this.baseChunkLogger.logsToBlob(e);
  }
}
var fI = Object.defineProperty,
  uI = Object.defineProperties,
  hI = Object.getOwnPropertyDescriptors,
  ng = Object.getOwnPropertySymbols,
  lI = Object.prototype.hasOwnProperty,
  dI = Object.prototype.propertyIsEnumerable,
  sg = (r, e, t) =>
    e in r
      ? fI(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Xf = (r, e) => {
    for (var t in e || (e = {})) lI.call(e, t) && sg(r, t, e[t]);
    if (ng) for (var t of ng(e)) dI.call(e, t) && sg(r, t, e[t]);
    return r;
  },
  Zf = (r, e) => uI(r, hI(e));
function Au(r) {
  return Zf(Xf({}, r), { level: (r == null ? void 0 : r.level) || sI.level });
}
function pI(r, e = lc) {
  return r[e] || "";
}
function gI(r, e, t = lc) {
  return (r[t] = e), r;
}
function pi(r, e = lc) {
  let t = "";
  return (
    typeof r.bindings > "u" ? (t = pI(r, e)) : (t = r.bindings().context || ""),
    t
  );
}
function vI(r, e, t = lc) {
  const i = pi(r, t);
  return i.trim() ? `${i}/${e}` : e;
}
function Qr(r, e, t = lc) {
  const i = vI(r, e, t),
    n = r.child({ context: i });
  return gI(n, i, t);
}
function bI(r) {
  var e, t;
  const i = new oI((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: hc(
      Zf(Xf({}, r.opts), {
        level: "trace",
        browser: Zf(Xf({}, (t = r.opts) == null ? void 0 : t.browser), {
          write: (n) => i.write(n),
        }),
      })
    ),
    chunkLoggerController: i,
  };
}
function mI(r) {
  var e;
  const t = new cI((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: hc(Zf(Xf({}, r.opts), { level: "trace" }), t),
    chunkLoggerController: t,
  };
}
function yI(r) {
  return typeof r.loggerOverride < "u" && typeof r.loggerOverride != "string"
    ? { logger: r.loggerOverride, chunkLoggerController: null }
    : typeof window < "u"
    ? bI(r)
    : mI(r);
}
let wI = class extends ca {
    constructor(e) {
      super(), (this.opts = e), (this.protocol = "wc"), (this.version = 2);
    }
  },
  _I = class extends ca {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t), (this.records = new Map());
    }
  },
  AI = class {
    constructor(e, t) {
      (this.logger = e), (this.core = t);
    }
  },
  EI = class extends ca {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  SI = class extends ca {
    constructor(e) {
      super();
    }
  },
  MI = class {
    constructor(e, t, i, n) {
      (this.core = e), (this.logger = t), (this.name = i);
    }
  },
  II = class extends ca {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  xI = class extends ca {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t);
    }
  },
  DI = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.store = i);
    }
  },
  PI = class {
    constructor(e, t) {
      (this.projectId = e), (this.logger = t);
    }
  },
  OI = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.telemetryEnabled = i);
    }
  },
  CI = class {
    constructor(e) {
      (this.opts = e), (this.protocol = "wc"), (this.version = 2);
    }
  },
  RI = class {
    constructor(e) {
      this.client = e;
    }
  };
const NI = "PARSE_ERROR",
  TI = "INVALID_REQUEST",
  FI = "METHOD_NOT_FOUND",
  BI = "INVALID_PARAMS",
  kb = "INTERNAL_ERROR",
  Ed = "SERVER_ERROR",
  qI = [-32700, -32600, -32601, -32602, -32603],
  ko = {
    [NI]: { code: -32700, message: "Parse error" },
    [TI]: { code: -32600, message: "Invalid Request" },
    [FI]: { code: -32601, message: "Method not found" },
    [BI]: { code: -32602, message: "Invalid params" },
    [kb]: { code: -32603, message: "Internal error" },
    [Ed]: { code: -32e3, message: "Server error" },
  },
  Hb = Ed;
function LI(r) {
  return qI.includes(r);
}
function ag(r) {
  return Object.keys(ko).includes(r) ? ko[r] : ko[Hb];
}
function UI(r) {
  const e = Object.values(ko).find((t) => t.code === r);
  return e || ko[Hb];
}
function Kb(r, e, t) {
  return r.message.includes("getaddrinfo ENOTFOUND") ||
    r.message.includes("connect ECONNREFUSED")
    ? new Error(`Unavailable ${t} RPC url at ${e}`)
    : r;
}
var Vb = {};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var Hl =
  function (r, e) {
    return (
      (Hl =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (t, i) {
            t.__proto__ = i;
          }) ||
        function (t, i) {
          for (var n in i) i.hasOwnProperty(n) && (t[n] = i[n]);
        }),
      Hl(r, e)
    );
  };
function $I(r, e) {
  Hl(r, e);
  function t() {
    this.constructor = r;
  }
  r.prototype =
    e === null ? Object.create(e) : ((t.prototype = e.prototype), new t());
}
var Kl = function () {
  return (
    (Kl =
      Object.assign ||
      function (e) {
        for (var t, i = 1, n = arguments.length; i < n; i++) {
          t = arguments[i];
          for (var a in t)
            Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        }
        return e;
      }),
    Kl.apply(this, arguments)
  );
};
function jI(r, e) {
  var t = {};
  for (var i in r)
    Object.prototype.hasOwnProperty.call(r, i) &&
      e.indexOf(i) < 0 &&
      (t[i] = r[i]);
  if (r != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, i = Object.getOwnPropertySymbols(r); n < i.length; n++)
      e.indexOf(i[n]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(r, i[n]) &&
        (t[i[n]] = r[i[n]]);
  return t;
}
function zI(r, e, t, i) {
  var n = arguments.length,
    a =
      n < 3 ? e : i === null ? (i = Object.getOwnPropertyDescriptor(e, t)) : i,
    f;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    a = Reflect.decorate(r, e, t, i);
  else
    for (var h = r.length - 1; h >= 0; h--)
      (f = r[h]) && (a = (n < 3 ? f(a) : n > 3 ? f(e, t, a) : f(e, t)) || a);
  return n > 3 && a && Object.defineProperty(e, t, a), a;
}
function kI(r, e) {
  return function (t, i) {
    e(t, i, r);
  };
}
function HI(r, e) {
  if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
    return Reflect.metadata(r, e);
}
function KI(r, e, t, i) {
  function n(a) {
    return a instanceof t
      ? a
      : new t(function (f) {
          f(a);
        });
  }
  return new (t || (t = Promise))(function (a, f) {
    function h(y) {
      try {
        v(i.next(y));
      } catch (S) {
        f(S);
      }
    }
    function b(y) {
      try {
        v(i.throw(y));
      } catch (S) {
        f(S);
      }
    }
    function v(y) {
      y.done ? a(y.value) : n(y.value).then(h, b);
    }
    v((i = i.apply(r, e || [])).next());
  });
}
function VI(r, e) {
  var t = {
      label: 0,
      sent: function () {
        if (a[0] & 1) throw a[1];
        return a[1];
      },
      trys: [],
      ops: [],
    },
    i,
    n,
    a,
    f;
  return (
    (f = { next: h(0), throw: h(1), return: h(2) }),
    typeof Symbol == "function" &&
      (f[Symbol.iterator] = function () {
        return this;
      }),
    f
  );
  function h(v) {
    return function (y) {
      return b([v, y]);
    };
  }
  function b(v) {
    if (i) throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (
          ((i = 1),
          n &&
            (a =
              v[0] & 2
                ? n.return
                : v[0]
                ? n.throw || ((a = n.return) && a.call(n), 0)
                : n.next) &&
            !(a = a.call(n, v[1])).done)
        )
          return a;
        switch (((n = 0), a && (v = [v[0] & 2, a.value]), v[0])) {
          case 0:
          case 1:
            a = v;
            break;
          case 4:
            return t.label++, { value: v[1], done: !1 };
          case 5:
            t.label++, (n = v[1]), (v = [0]);
            continue;
          case 7:
            (v = t.ops.pop()), t.trys.pop();
            continue;
          default:
            if (
              ((a = t.trys),
              !(a = a.length > 0 && a[a.length - 1]) &&
                (v[0] === 6 || v[0] === 2))
            ) {
              t = 0;
              continue;
            }
            if (v[0] === 3 && (!a || (v[1] > a[0] && v[1] < a[3]))) {
              t.label = v[1];
              break;
            }
            if (v[0] === 6 && t.label < a[1]) {
              (t.label = a[1]), (a = v);
              break;
            }
            if (a && t.label < a[2]) {
              (t.label = a[2]), t.ops.push(v);
              break;
            }
            a[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        v = e.call(r, t);
      } catch (y) {
        (v = [6, y]), (n = 0);
      } finally {
        i = a = 0;
      }
    if (v[0] & 5) throw v[1];
    return { value: v[0] ? v[1] : void 0, done: !0 };
  }
}
function GI(r, e, t, i) {
  i === void 0 && (i = t), (r[i] = e[t]);
}
function WI(r, e) {
  for (var t in r) t !== "default" && !e.hasOwnProperty(t) && (e[t] = r[t]);
}
function Vl(r) {
  var e = typeof Symbol == "function" && Symbol.iterator,
    t = e && r[e],
    i = 0;
  if (t) return t.call(r);
  if (r && typeof r.length == "number")
    return {
      next: function () {
        return (
          r && i >= r.length && (r = void 0), { value: r && r[i++], done: !r }
        );
      },
    };
  throw new TypeError(
    e ? "Object is not iterable." : "Symbol.iterator is not defined."
  );
}
function Gb(r, e) {
  var t = typeof Symbol == "function" && r[Symbol.iterator];
  if (!t) return r;
  var i = t.call(r),
    n,
    a = [],
    f;
  try {
    for (; (e === void 0 || e-- > 0) && !(n = i.next()).done; ) a.push(n.value);
  } catch (h) {
    f = { error: h };
  } finally {
    try {
      n && !n.done && (t = i.return) && t.call(i);
    } finally {
      if (f) throw f.error;
    }
  }
  return a;
}
function JI() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r = r.concat(Gb(arguments[e]));
  return r;
}
function YI() {
  for (var r = 0, e = 0, t = arguments.length; e < t; e++)
    r += arguments[e].length;
  for (var i = Array(r), n = 0, e = 0; e < t; e++)
    for (var a = arguments[e], f = 0, h = a.length; f < h; f++, n++)
      i[n] = a[f];
  return i;
}
function Zo(r) {
  return this instanceof Zo ? ((this.v = r), this) : new Zo(r);
}
function QI(r, e, t) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var i = t.apply(r, e || []),
    n,
    a = [];
  return (
    (n = {}),
    f("next"),
    f("throw"),
    f("return"),
    (n[Symbol.asyncIterator] = function () {
      return this;
    }),
    n
  );
  function f(O) {
    i[O] &&
      (n[O] = function (P) {
        return new Promise(function (C, H) {
          a.push([O, P, C, H]) > 1 || h(O, P);
        });
      });
  }
  function h(O, P) {
    try {
      b(i[O](P));
    } catch (C) {
      S(a[0][3], C);
    }
  }
  function b(O) {
    O.value instanceof Zo
      ? Promise.resolve(O.value.v).then(v, y)
      : S(a[0][2], O);
  }
  function v(O) {
    h("next", O);
  }
  function y(O) {
    h("throw", O);
  }
  function S(O, P) {
    O(P), a.shift(), a.length && h(a[0][0], a[0][1]);
  }
}
function XI(r) {
  var e, t;
  return (
    (e = {}),
    i("next"),
    i("throw", function (n) {
      throw n;
    }),
    i("return"),
    (e[Symbol.iterator] = function () {
      return this;
    }),
    e
  );
  function i(n, a) {
    e[n] = r[n]
      ? function (f) {
          return (t = !t)
            ? { value: Zo(r[n](f)), done: n === "return" }
            : a
            ? a(f)
            : f;
        }
      : a;
  }
}
function ZI(r) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var e = r[Symbol.asyncIterator],
    t;
  return e
    ? e.call(r)
    : ((r = typeof Vl == "function" ? Vl(r) : r[Symbol.iterator]()),
      (t = {}),
      i("next"),
      i("throw"),
      i("return"),
      (t[Symbol.asyncIterator] = function () {
        return this;
      }),
      t);
  function i(a) {
    t[a] =
      r[a] &&
      function (f) {
        return new Promise(function (h, b) {
          (f = r[a](f)), n(h, b, f.done, f.value);
        });
      };
  }
  function n(a, f, h, b) {
    Promise.resolve(b).then(function (v) {
      a({ value: v, done: h });
    }, f);
  }
}
function ex(r, e) {
  return (
    Object.defineProperty
      ? Object.defineProperty(r, "raw", { value: e })
      : (r.raw = e),
    r
  );
}
function tx(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null)
    for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return (e.default = r), e;
}
function rx(r) {
  return r && r.__esModule ? r : { default: r };
}
function ix(r, e) {
  if (!e.has(r))
    throw new TypeError("attempted to get private field on non-instance");
  return e.get(r);
}
function nx(r, e, t) {
  if (!e.has(r))
    throw new TypeError("attempted to set private field on non-instance");
  return e.set(r, t), t;
}
const sx = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        get __assign() {
          return Kl;
        },
        __asyncDelegator: XI,
        __asyncGenerator: QI,
        __asyncValues: ZI,
        __await: Zo,
        __awaiter: KI,
        __classPrivateFieldGet: ix,
        __classPrivateFieldSet: nx,
        __createBinding: GI,
        __decorate: zI,
        __exportStar: WI,
        __extends: $I,
        __generator: VI,
        __importDefault: rx,
        __importStar: tx,
        __makeTemplateObject: ex,
        __metadata: HI,
        __param: kI,
        __read: Gb,
        __rest: jI,
        __spread: JI,
        __spreadArrays: YI,
        __values: Vl,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  ax = nv(sx);
var Zn = {},
  og;
function ox() {
  if (og) return Zn;
  (og = 1),
    Object.defineProperty(Zn, "__esModule", { value: !0 }),
    (Zn.isBrowserCryptoAvailable =
      Zn.getSubtleCrypto =
      Zn.getBrowerCrypto =
        void 0);
  function r() {
    return (
      (Hi === null || Hi === void 0 ? void 0 : Hi.crypto) ||
      (Hi === null || Hi === void 0 ? void 0 : Hi.msCrypto) ||
      {}
    );
  }
  Zn.getBrowerCrypto = r;
  function e() {
    const i = r();
    return i.subtle || i.webkitSubtle;
  }
  Zn.getSubtleCrypto = e;
  function t() {
    return !!r() && !!e();
  }
  return (Zn.isBrowserCryptoAvailable = t), Zn;
}
var es = {},
  cg;
function cx() {
  if (cg) return es;
  (cg = 1),
    Object.defineProperty(es, "__esModule", { value: !0 }),
    (es.isBrowser = es.isNode = es.isReactNative = void 0);
  function r() {
    return (
      typeof document > "u" &&
      typeof navigator < "u" &&
      navigator.product === "ReactNative"
    );
  }
  es.isReactNative = r;
  function e() {
    return (
      typeof hi < "u" &&
      typeof hi.versions < "u" &&
      typeof hi.versions.node < "u"
    );
  }
  es.isNode = e;
  function t() {
    return !r() && !e();
  }
  return (es.isBrowser = t), es;
}
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  const e = ax;
  e.__exportStar(ox(), r), e.__exportStar(cx(), r);
})(Vb);
function Es(r = 3) {
  const e = Date.now() * Math.pow(10, r),
    t = Math.floor(Math.random() * Math.pow(10, r));
  return e + t;
}
function ea(r = 6) {
  return BigInt(Es(r));
}
function xs(r, e, t) {
  return { id: t || Es(), jsonrpc: "2.0", method: r, params: e };
}
function Eu(r, e) {
  return { id: r, jsonrpc: "2.0", result: e };
}
function Su(r, e, t) {
  return { id: r, jsonrpc: "2.0", error: fx(e) };
}
function fx(r, e) {
  return typeof r > "u"
    ? ag(kb)
    : (typeof r == "string" &&
        (r = Object.assign(Object.assign({}, ag(Ed)), { message: r })),
      LI(r.code) && (r = UI(r.code)),
      r);
}
class ux {}
class hx extends ux {
  constructor() {
    super();
  }
}
class lx extends hx {
  constructor(e) {
    super();
  }
}
const dx = "^https?:",
  px = "^wss?:";
function gx(r) {
  const e = r.match(new RegExp(/^\w+:/, "gi"));
  if (!(!e || !e.length)) return e[0];
}
function Wb(r, e) {
  const t = gx(r);
  return typeof t > "u" ? !1 : new RegExp(e).test(t);
}
function fg(r) {
  return Wb(r, dx);
}
function ug(r) {
  return Wb(r, px);
}
function vx(r) {
  return new RegExp("wss?://localhost(:d{2,5})?").test(r);
}
function Jb(r) {
  return (
    typeof r == "object" && "id" in r && "jsonrpc" in r && r.jsonrpc === "2.0"
  );
}
function Sd(r) {
  return Jb(r) && "method" in r;
}
function Mu(r) {
  return Jb(r) && (Pn(r) || zi(r));
}
function Pn(r) {
  return "result" in r;
}
function zi(r) {
  return "error" in r;
}
let Si = class extends lx {
  constructor(e) {
    super(e),
      (this.events = new Wi.EventEmitter()),
      (this.hasRegisteredEventListeners = !1),
      (this.connection = this.setConnection(e)),
      this.connection.connected && this.registerEventListeners();
  }
  async connect(e = this.connection) {
    await this.open(e);
  }
  async disconnect() {
    await this.close();
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async request(e, t) {
    return this.requestStrict(
      xs(e.method, e.params || [], e.id || ea().toString()),
      t
    );
  }
  async requestStrict(e, t) {
    return new Promise(async (i, n) => {
      if (!this.connection.connected)
        try {
          await this.open();
        } catch (a) {
          n(a);
        }
      this.events.on(`${e.id}`, (a) => {
        zi(a) ? n(a.error) : i(a.result);
      });
      try {
        await this.connection.send(e, t);
      } catch (a) {
        n(a);
      }
    });
  }
  setConnection(e = this.connection) {
    return e;
  }
  onPayload(e) {
    this.events.emit("payload", e),
      Mu(e)
        ? this.events.emit(`${e.id}`, e)
        : this.events.emit("message", { type: e.method, data: e.params });
  }
  onClose(e) {
    e &&
      e.code === 3e3 &&
      this.events.emit(
        "error",
        new Error(
          `WebSocket connection closed abnormally with code: ${e.code} ${
            e.reason ? `(${e.reason})` : ""
          }`
        )
      ),
      this.events.emit("disconnect");
  }
  async open(e = this.connection) {
    (this.connection === e && this.connection.connected) ||
      (this.connection.connected && this.close(),
      typeof e == "string" &&
        (await this.connection.open(e), (e = this.connection)),
      (this.connection = this.setConnection(e)),
      await this.connection.open(),
      this.registerEventListeners(),
      this.events.emit("connect"));
  }
  async close() {
    await this.connection.close();
  }
  registerEventListeners() {
    this.hasRegisteredEventListeners ||
      (this.connection.on("payload", (e) => this.onPayload(e)),
      this.connection.on("close", (e) => this.onClose(e)),
      this.connection.on("error", (e) => this.events.emit("error", e)),
      this.connection.on("register_error", (e) => this.onClose()),
      (this.hasRegisteredEventListeners = !0));
  }
};
const fR = Object.freeze(
  Object.defineProperty(
    { __proto__: null, JsonRpcProvider: Si, default: Si },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
var dl, hg;
function bx() {
  return (
    hg ||
      ((hg = 1),
      (dl = function () {
        throw new Error(
          "ws does not work in the browser. Browser clients must use the native WebSocket object"
        );
      })),
    dl
  );
}
const mx = () =>
    typeof WebSocket < "u"
      ? WebSocket
      : typeof pt < "u" && typeof pt.WebSocket < "u"
      ? pt.WebSocket
      : typeof window < "u" && typeof window.WebSocket < "u"
      ? window.WebSocket
      : typeof self < "u" && typeof self.WebSocket < "u"
      ? self.WebSocket
      : bx(),
  yx = () =>
    typeof WebSocket < "u" ||
    (typeof pt < "u" && typeof pt.WebSocket < "u") ||
    (typeof window < "u" && typeof window.WebSocket < "u") ||
    (typeof self < "u" && typeof self.WebSocket < "u"),
  lg = (r) => r.split("?")[0],
  dg = 10,
  wx = mx();
let _x = class {
  constructor(e) {
    if (
      ((this.url = e),
      (this.events = new Wi.EventEmitter()),
      (this.registering = !1),
      !ug(e))
    )
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`
      );
    this.url = e;
  }
  get connected() {
    return typeof this.socket < "u";
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    return new Promise((e, t) => {
      if (typeof this.socket > "u") {
        t(new Error("Connection already closed"));
        return;
      }
      (this.socket.onclose = (i) => {
        this.onClose(i), e();
      }),
        this.socket.close();
    });
  }
  async send(e) {
    typeof this.socket > "u" && (this.socket = await this.register());
    try {
      this.socket.send(cs(e));
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  register(e = this.url) {
    if (!ug(e))
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, n) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), n(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.socket > "u"))
                return n(
                  new Error("WebSocket connection is missing or invalid")
                );
              i(this.socket);
            });
        })
      );
    }
    return (
      (this.url = e),
      (this.registering = !0),
      new Promise((t, i) => {
        const n = new URLSearchParams(e).get("origin"),
          a = Vb.isReactNative()
            ? { headers: { origin: n } }
            : { rejectUnauthorized: !vx(e) },
          f = new wx(e, [], a);
        yx()
          ? (f.onerror = (h) => {
              const b = h;
              i(this.emitError(b.error));
            })
          : f.on("error", (h) => {
              i(this.emitError(h));
            }),
          (f.onopen = () => {
            this.onOpen(f), t(f);
          });
      })
    );
  }
  onOpen(e) {
    (e.onmessage = (t) => this.onPayload(t)),
      (e.onclose = (t) => this.onClose(t)),
      (this.socket = e),
      (this.registering = !1),
      this.events.emit("open");
  }
  onClose(e) {
    (this.socket = void 0),
      (this.registering = !1),
      this.events.emit("close", e);
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? ra(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      n = i.message || i.toString(),
      a = Su(e, n);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return Kb(e, lg(t), "WS");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > dg && this.events.setMaxListeners(dg);
  }
  emitError(e) {
    const t = this.parseError(
      new Error(
        (e == null ? void 0 : e.message) ||
          `WebSocket connection failed for host: ${lg(this.url)}`
      )
    );
    return this.events.emit("register_error", t), t;
  }
};
var eu = { exports: {} };
eu.exports;
(function (r, e) {
  var t = 200,
    i = "__lodash_hash_undefined__",
    n = 1,
    a = 2,
    f = 9007199254740991,
    h = "[object Arguments]",
    b = "[object Array]",
    v = "[object AsyncFunction]",
    y = "[object Boolean]",
    S = "[object Date]",
    O = "[object Error]",
    P = "[object Function]",
    C = "[object GeneratorFunction]",
    H = "[object Map]",
    V = "[object Number]",
    Q = "[object Null]",
    j = "[object Object]",
    Y = "[object Promise]",
    U = "[object Proxy]",
    z = "[object RegExp]",
    G = "[object Set]",
    A = "[object String]",
    F = "[object Symbol]",
    ae = "[object Undefined]",
    de = "[object WeakMap]",
    B = "[object ArrayBuffer]",
    m = "[object DataView]",
    c = "[object Float32Array]",
    u = "[object Float64Array]",
    g = "[object Int8Array]",
    _ = "[object Int16Array]",
    I = "[object Int32Array]",
    x = "[object Uint8Array]",
    M = "[object Uint8ClampedArray]",
    d = "[object Uint16Array]",
    p = "[object Uint32Array]",
    N = /[\\^$.*+?()[\]{}|]/g,
    Z = /^\[object .+?Constructor\]$/,
    se = /^(?:0|[1-9]\d*)$/,
    D = {};
  (D[c] = D[u] = D[g] = D[_] = D[I] = D[x] = D[M] = D[d] = D[p] = !0),
    (D[h] =
      D[b] =
      D[B] =
      D[y] =
      D[m] =
      D[S] =
      D[O] =
      D[P] =
      D[H] =
      D[V] =
      D[j] =
      D[z] =
      D[G] =
      D[A] =
      D[de] =
        !1);
  var ee = typeof Hi == "object" && Hi && Hi.Object === Object && Hi,
    q = typeof self == "object" && self && self.Object === Object && self,
    k = ee || q || Function("return this")(),
    K = e && !e.nodeType && e,
    w = K && !0 && r && !r.nodeType && r,
    $ = w && w.exports === K,
    ne = $ && ee.process,
    ce = (function () {
      try {
        return ne && ne.binding && ne.binding("util");
      } catch {}
    })(),
    ue = ce && ce.isTypedArray;
  function ye(W, te) {
    for (
      var pe = -1, Ue = W == null ? 0 : W.length, zt = 0, gt = [];
      ++pe < Ue;

    ) {
      var Jt = W[pe];
      te(Jt, pe, W) && (gt[zt++] = Jt);
    }
    return gt;
  }
  function we(W, te) {
    for (var pe = -1, Ue = te.length, zt = W.length; ++pe < Ue; )
      W[zt + pe] = te[pe];
    return W;
  }
  function Re(W, te) {
    for (var pe = -1, Ue = W == null ? 0 : W.length; ++pe < Ue; )
      if (te(W[pe], pe, W)) return !0;
    return !1;
  }
  function Qe(W, te) {
    for (var pe = -1, Ue = Array(W); ++pe < W; ) Ue[pe] = te(pe);
    return Ue;
  }
  function Pe(W) {
    return function (te) {
      return W(te);
    };
  }
  function Ne(W, te) {
    return W.has(te);
  }
  function Ie(W, te) {
    return W == null ? void 0 : W[te];
  }
  function me(W) {
    var te = -1,
      pe = Array(W.size);
    return (
      W.forEach(function (Ue, zt) {
        pe[++te] = [zt, Ue];
      }),
      pe
    );
  }
  function Oe(W, te) {
    return function (pe) {
      return W(te(pe));
    };
  }
  function Te(W) {
    var te = -1,
      pe = Array(W.size);
    return (
      W.forEach(function (Ue) {
        pe[++te] = Ue;
      }),
      pe
    );
  }
  var ve = Array.prototype,
    Ce = Function.prototype,
    Me = Object.prototype,
    be = k["__core-js_shared__"],
    Le = Ce.toString,
    xe = Me.hasOwnProperty,
    _e = (function () {
      var W = /[^.]+$/.exec((be && be.keys && be.keys.IE_PROTO) || "");
      return W ? "Symbol(src)_1." + W : "";
    })(),
    He = Me.toString,
    Ve = RegExp(
      "^" +
        Le.call(xe)
          .replace(N, "\\$&")
          .replace(
            /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
            "$1.*?"
          ) +
        "$"
    ),
    Ee = $ ? k.Buffer : void 0,
    Ke = k.Symbol,
    ht = k.Uint8Array,
    Ge = Me.propertyIsEnumerable,
    At = ve.splice,
    lt = Ke ? Ke.toStringTag : void 0,
    Je = Object.getOwnPropertySymbols,
    St = Ee ? Ee.isBuffer : void 0,
    xt = Oe(Object.keys, Object),
    Fe = gi(k, "DataView"),
    Xe = gi(k, "Map"),
    tt = gi(k, "Promise"),
    Be = gi(k, "Set"),
    et = gi(k, "WeakMap"),
    Ze = gi(Object, "create"),
    $e = zn(Fe),
    ft = zn(Xe),
    rt = zn(tt),
    je = zn(Be),
    it = zn(et),
    st = Ke ? Ke.prototype : void 0,
    qe = st ? st.valueOf : void 0;
  function Ye(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.clear(); ++te < pe; ) {
      var Ue = W[te];
      this.set(Ue[0], Ue[1]);
    }
  }
  function ut() {
    (this.__data__ = Ze ? Ze(null) : {}), (this.size = 0);
  }
  function ze(W) {
    var te = this.has(W) && delete this.__data__[W];
    return (this.size -= te ? 1 : 0), te;
  }
  function Nt(W) {
    var te = this.__data__;
    if (Ze) {
      var pe = te[W];
      return pe === i ? void 0 : pe;
    }
    return xe.call(te, W) ? te[W] : void 0;
  }
  function Tt(W) {
    var te = this.__data__;
    return Ze ? te[W] !== void 0 : xe.call(te, W);
  }
  function at(W, te) {
    var pe = this.__data__;
    return (
      (this.size += this.has(W) ? 0 : 1),
      (pe[W] = Ze && te === void 0 ? i : te),
      this
    );
  }
  (Ye.prototype.clear = ut),
    (Ye.prototype.delete = ze),
    (Ye.prototype.get = Nt),
    (Ye.prototype.has = Tt),
    (Ye.prototype.set = at);
  function mt(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.clear(); ++te < pe; ) {
      var Ue = W[te];
      this.set(Ue[0], Ue[1]);
    }
  }
  function Nr() {
    (this.__data__ = []), (this.size = 0);
  }
  function Tr(W) {
    var te = this.__data__,
      pe = Rs(te, W);
    if (pe < 0) return !1;
    var Ue = te.length - 1;
    return pe == Ue ? te.pop() : At.call(te, pe, 1), --this.size, !0;
  }
  function Fr(W) {
    var te = this.__data__,
      pe = Rs(te, W);
    return pe < 0 ? void 0 : te[pe][1];
  }
  function Br(W) {
    return Rs(this.__data__, W) > -1;
  }
  function qr(W, te) {
    var pe = this.__data__,
      Ue = Rs(pe, W);
    return Ue < 0 ? (++this.size, pe.push([W, te])) : (pe[Ue][1] = te), this;
  }
  (mt.prototype.clear = Nr),
    (mt.prototype.delete = Tr),
    (mt.prototype.get = Fr),
    (mt.prototype.has = Br),
    (mt.prototype.set = qr);
  function er(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.clear(); ++te < pe; ) {
      var Ue = W[te];
      this.set(Ue[0], Ue[1]);
    }
  }
  function Xr() {
    (this.size = 0),
      (this.__data__ = {
        hash: new Ye(),
        map: new (Xe || mt)(),
        string: new Ye(),
      });
  }
  function Qi(W) {
    var te = us(this, W).delete(W);
    return (this.size -= te ? 1 : 0), te;
  }
  function Zr(W) {
    return us(this, W).get(W);
  }
  function Xi(W) {
    return us(this, W).has(W);
  }
  function Zi(W, te) {
    var pe = us(this, W),
      Ue = pe.size;
    return pe.set(W, te), (this.size += pe.size == Ue ? 0 : 1), this;
  }
  (er.prototype.clear = Xr),
    (er.prototype.delete = Qi),
    (er.prototype.get = Zr),
    (er.prototype.has = Xi),
    (er.prototype.set = Zi);
  function ei(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.__data__ = new er(); ++te < pe; ) this.add(W[te]);
  }
  function xi(W) {
    return this.__data__.set(W, i), this;
  }
  function Di(W) {
    return this.__data__.has(W);
  }
  (ei.prototype.add = ei.prototype.push = xi), (ei.prototype.has = Di);
  function lr(W) {
    var te = (this.__data__ = new mt(W));
    this.size = te.size;
  }
  function en() {
    (this.__data__ = new mt()), (this.size = 0);
  }
  function tn(W) {
    var te = this.__data__,
      pe = te.delete(W);
    return (this.size = te.size), pe;
  }
  function rn(W) {
    return this.__data__.get(W);
  }
  function Cs(W) {
    return this.__data__.has(W);
  }
  function pc(W, te) {
    var pe = this.__data__;
    if (pe instanceof mt) {
      var Ue = pe.__data__;
      if (!Xe || Ue.length < t - 1)
        return Ue.push([W, te]), (this.size = ++pe.size), this;
      pe = this.__data__ = new er(Ue);
    }
    return pe.set(W, te), (this.size = pe.size), this;
  }
  (lr.prototype.clear = en),
    (lr.prototype.delete = tn),
    (lr.prototype.get = rn),
    (lr.prototype.has = Cs),
    (lr.prototype.set = pc);
  function gc(W, te) {
    var pe = ga(W),
      Ue = !pe && xc(W),
      zt = !pe && !Ue && so(W),
      gt = !pe && !Ue && !zt && Oc(W),
      Jt = pe || Ue || zt || gt,
      ur = Jt ? Qe(W.length, String) : [],
      Ct = ur.length;
    for (var kt in W)
      xe.call(W, kt) &&
        !(
          Jt &&
          (kt == "length" ||
            (zt && (kt == "offset" || kt == "parent")) ||
            (gt &&
              (kt == "buffer" || kt == "byteLength" || kt == "byteOffset")) ||
            Ac(kt, Ct))
        ) &&
        ur.push(kt);
    return ur;
  }
  function Rs(W, te) {
    for (var pe = W.length; pe--; ) if (Ic(W[pe][0], te)) return pe;
    return -1;
  }
  function io(W, te, pe) {
    var Ue = te(W);
    return ga(W) ? Ue : we(Ue, pe(W));
  }
  function Ns(W) {
    return W == null
      ? W === void 0
        ? ae
        : Q
      : lt && lt in Object(W)
      ? wc(W)
      : Cu(W);
  }
  function no(W) {
    return Fs(W) && Ns(W) == h;
  }
  function Ts(W, te, pe, Ue, zt) {
    return W === te
      ? !0
      : W == null || te == null || (!Fs(W) && !Fs(te))
      ? W !== W && te !== te
      : vc(W, te, pe, Ue, Ts, zt);
  }
  function vc(W, te, pe, Ue, zt, gt) {
    var Jt = ga(W),
      ur = ga(te),
      Ct = Jt ? b : yn(W),
      kt = ur ? b : yn(te);
    (Ct = Ct == h ? j : Ct), (kt = kt == h ? j : kt);
    var sr = Ct == j,
      ti = kt == j,
      hr = Ct == kt;
    if (hr && so(W)) {
      if (!so(te)) return !1;
      (Jt = !0), (sr = !1);
    }
    if (hr && !sr)
      return (
        gt || (gt = new lr()),
        Jt || Oc(W) ? da(W, te, pe, Ue, zt, gt) : Ou(W, te, Ct, pe, Ue, zt, gt)
      );
    if (!(pe & n)) {
      var Yt = sr && xe.call(W, "__wrapped__"),
        kr = ti && xe.call(te, "__wrapped__");
      if (Yt || kr) {
        var nn = Yt ? W.value() : W,
          Pi = kr ? te.value() : te;
        return gt || (gt = new lr()), zt(nn, Pi, pe, Ue, gt);
      }
    }
    return hr ? (gt || (gt = new lr()), yc(W, te, pe, Ue, zt, gt)) : !1;
  }
  function Pu(W) {
    if (!Pc(W) || Sc(W)) return !1;
    var te = va(W) ? Ve : Z;
    return te.test(zn(W));
  }
  function bc(W) {
    return Fs(W) && Dc(W.length) && !!D[Ns(W)];
  }
  function mc(W) {
    if (!Mc(W)) return xt(W);
    var te = [];
    for (var pe in Object(W))
      xe.call(W, pe) && pe != "constructor" && te.push(pe);
    return te;
  }
  function da(W, te, pe, Ue, zt, gt) {
    var Jt = pe & n,
      ur = W.length,
      Ct = te.length;
    if (ur != Ct && !(Jt && Ct > ur)) return !1;
    var kt = gt.get(W);
    if (kt && gt.get(te)) return kt == te;
    var sr = -1,
      ti = !0,
      hr = pe & a ? new ei() : void 0;
    for (gt.set(W, te), gt.set(te, W); ++sr < ur; ) {
      var Yt = W[sr],
        kr = te[sr];
      if (Ue)
        var nn = Jt ? Ue(kr, Yt, sr, te, W, gt) : Ue(Yt, kr, sr, W, te, gt);
      if (nn !== void 0) {
        if (nn) continue;
        ti = !1;
        break;
      }
      if (hr) {
        if (
          !Re(te, function (Pi, wn) {
            if (!Ne(hr, wn) && (Yt === Pi || zt(Yt, Pi, pe, Ue, gt)))
              return hr.push(wn);
          })
        ) {
          ti = !1;
          break;
        }
      } else if (!(Yt === kr || zt(Yt, kr, pe, Ue, gt))) {
        ti = !1;
        break;
      }
    }
    return gt.delete(W), gt.delete(te), ti;
  }
  function Ou(W, te, pe, Ue, zt, gt, Jt) {
    switch (pe) {
      case m:
        if (W.byteLength != te.byteLength || W.byteOffset != te.byteOffset)
          return !1;
        (W = W.buffer), (te = te.buffer);
      case B:
        return !(W.byteLength != te.byteLength || !gt(new ht(W), new ht(te)));
      case y:
      case S:
      case V:
        return Ic(+W, +te);
      case O:
        return W.name == te.name && W.message == te.message;
      case z:
      case A:
        return W == te + "";
      case H:
        var ur = me;
      case G:
        var Ct = Ue & n;
        if ((ur || (ur = Te), W.size != te.size && !Ct)) return !1;
        var kt = Jt.get(W);
        if (kt) return kt == te;
        (Ue |= a), Jt.set(W, te);
        var sr = da(ur(W), ur(te), Ue, zt, gt, Jt);
        return Jt.delete(W), sr;
      case F:
        if (qe) return qe.call(W) == qe.call(te);
    }
    return !1;
  }
  function yc(W, te, pe, Ue, zt, gt) {
    var Jt = pe & n,
      ur = pa(W),
      Ct = ur.length,
      kt = pa(te),
      sr = kt.length;
    if (Ct != sr && !Jt) return !1;
    for (var ti = Ct; ti--; ) {
      var hr = ur[ti];
      if (!(Jt ? hr in te : xe.call(te, hr))) return !1;
    }
    var Yt = gt.get(W);
    if (Yt && gt.get(te)) return Yt == te;
    var kr = !0;
    gt.set(W, te), gt.set(te, W);
    for (var nn = Jt; ++ti < Ct; ) {
      hr = ur[ti];
      var Pi = W[hr],
        wn = te[hr];
      if (Ue)
        var ao = Jt ? Ue(wn, Pi, hr, te, W, gt) : Ue(Pi, wn, hr, W, te, gt);
      if (!(ao === void 0 ? Pi === wn || zt(Pi, wn, pe, Ue, gt) : ao)) {
        kr = !1;
        break;
      }
      nn || (nn = hr == "constructor");
    }
    if (kr && !nn) {
      var Bs = W.constructor,
        yr = te.constructor;
      Bs != yr &&
        "constructor" in W &&
        "constructor" in te &&
        !(
          typeof Bs == "function" &&
          Bs instanceof Bs &&
          typeof yr == "function" &&
          yr instanceof yr
        ) &&
        (kr = !1);
    }
    return gt.delete(W), gt.delete(te), kr;
  }
  function pa(W) {
    return io(W, Tu, _c);
  }
  function us(W, te) {
    var pe = W.__data__;
    return Ec(te) ? pe[typeof te == "string" ? "string" : "hash"] : pe.map;
  }
  function gi(W, te) {
    var pe = Ie(W, te);
    return Pu(pe) ? pe : void 0;
  }
  function wc(W) {
    var te = xe.call(W, lt),
      pe = W[lt];
    try {
      W[lt] = void 0;
      var Ue = !0;
    } catch {}
    var zt = He.call(W);
    return Ue && (te ? (W[lt] = pe) : delete W[lt]), zt;
  }
  var _c = Je
      ? function (W) {
          return W == null
            ? []
            : ((W = Object(W)),
              ye(Je(W), function (te) {
                return Ge.call(W, te);
              }));
        }
      : jt,
    yn = Ns;
  ((Fe && yn(new Fe(new ArrayBuffer(1))) != m) ||
    (Xe && yn(new Xe()) != H) ||
    (tt && yn(tt.resolve()) != Y) ||
    (Be && yn(new Be()) != G) ||
    (et && yn(new et()) != de)) &&
    (yn = function (W) {
      var te = Ns(W),
        pe = te == j ? W.constructor : void 0,
        Ue = pe ? zn(pe) : "";
      if (Ue)
        switch (Ue) {
          case $e:
            return m;
          case ft:
            return H;
          case rt:
            return Y;
          case je:
            return G;
          case it:
            return de;
        }
      return te;
    });
  function Ac(W, te) {
    return (
      (te = te ?? f),
      !!te &&
        (typeof W == "number" || se.test(W)) &&
        W > -1 &&
        W % 1 == 0 &&
        W < te
    );
  }
  function Ec(W) {
    var te = typeof W;
    return te == "string" || te == "number" || te == "symbol" || te == "boolean"
      ? W !== "__proto__"
      : W === null;
  }
  function Sc(W) {
    return !!_e && _e in W;
  }
  function Mc(W) {
    var te = W && W.constructor,
      pe = (typeof te == "function" && te.prototype) || Me;
    return W === pe;
  }
  function Cu(W) {
    return He.call(W);
  }
  function zn(W) {
    if (W != null) {
      try {
        return Le.call(W);
      } catch {}
      try {
        return W + "";
      } catch {}
    }
    return "";
  }
  function Ic(W, te) {
    return W === te || (W !== W && te !== te);
  }
  var xc = no(
      (function () {
        return arguments;
      })()
    )
      ? no
      : function (W) {
          return Fs(W) && xe.call(W, "callee") && !Ge.call(W, "callee");
        },
    ga = Array.isArray;
  function Ru(W) {
    return W != null && Dc(W.length) && !va(W);
  }
  var so = St || $t;
  function Nu(W, te) {
    return Ts(W, te);
  }
  function va(W) {
    if (!Pc(W)) return !1;
    var te = Ns(W);
    return te == P || te == C || te == v || te == U;
  }
  function Dc(W) {
    return typeof W == "number" && W > -1 && W % 1 == 0 && W <= f;
  }
  function Pc(W) {
    var te = typeof W;
    return W != null && (te == "object" || te == "function");
  }
  function Fs(W) {
    return W != null && typeof W == "object";
  }
  var Oc = ue ? Pe(ue) : bc;
  function Tu(W) {
    return Ru(W) ? gc(W) : mc(W);
  }
  function jt() {
    return [];
  }
  function $t() {
    return !1;
  }
  r.exports = Nu;
})(eu, eu.exports);
var Ax = eu.exports;
const Ex = Zl(Ax),
  Yb = "wc",
  Qb = 2,
  Md = "core",
  Un = `${Yb}@2:${Md}:`,
  Sx = { name: Md, logger: "error" },
  Mx = { database: ":memory:" },
  Ix = "crypto",
  pg = "client_ed25519_seed",
  xx = Se.ONE_DAY,
  Dx = "keychain",
  Px = "0.3",
  Ox = "messages",
  Cx = "0.3",
  Rx = Se.SIX_HOURS,
  Nx = "publisher",
  Xb = "irn",
  Tx = "error",
  Zb = "wss://relay.walletconnect.org",
  Fx = "relayer",
  Wr = {
    message: "relayer_message",
    message_ack: "relayer_message_ack",
    connect: "relayer_connect",
    disconnect: "relayer_disconnect",
    error: "relayer_error",
    connection_stalled: "relayer_connection_stalled",
    transport_closed: "relayer_transport_closed",
    publish: "relayer_publish",
  },
  Bx = "_subscription",
  Ui = {
    payload: "payload",
    connect: "connect",
    disconnect: "disconnect",
    error: "error",
  },
  qx = 0.1,
  Gl = "2.17.0",
  Kt = { link_mode: "link_mode", relay: "relay" },
  Lx = "0.3",
  Ux = "WALLETCONNECT_CLIENT_ID",
  gg = "WALLETCONNECT_LINK_MODE_APPS",
  On = {
    created: "subscription_created",
    deleted: "subscription_deleted",
    expired: "subscription_expired",
    disabled: "subscription_disabled",
    sync: "subscription_sync",
    resubscribed: "subscription_resubscribed",
  },
  $x = "subscription",
  jx = "0.3",
  zx = Se.FIVE_SECONDS * 1e3,
  kx = "pairing",
  Hx = "0.3",
  Oo = {
    wc_pairingDelete: {
      req: { ttl: Se.ONE_DAY, prompt: !1, tag: 1e3 },
      res: { ttl: Se.ONE_DAY, prompt: !1, tag: 1001 },
    },
    wc_pairingPing: {
      req: { ttl: Se.THIRTY_SECONDS, prompt: !1, tag: 1002 },
      res: { ttl: Se.THIRTY_SECONDS, prompt: !1, tag: 1003 },
    },
    unregistered_method: {
      req: { ttl: Se.ONE_DAY, prompt: !1, tag: 0 },
      res: { ttl: Se.ONE_DAY, prompt: !1, tag: 0 },
    },
  },
  Xs = {
    create: "pairing_create",
    expire: "pairing_expire",
    delete: "pairing_delete",
    ping: "pairing_ping",
  },
  un = {
    created: "history_created",
    updated: "history_updated",
    deleted: "history_deleted",
    sync: "history_sync",
  },
  Kx = "history",
  Vx = "0.3",
  Gx = "expirer",
  $i = {
    created: "expirer_created",
    deleted: "expirer_deleted",
    expired: "expirer_expired",
    sync: "expirer_sync",
  },
  Wx = "0.3",
  Jx = "verify-api",
  Yx = "https://verify.walletconnect.com",
  em = "https://verify.walletconnect.org",
  Ho = em,
  Qx = `${Ho}/v3`,
  Xx = [Yx, em],
  Zx = "echo",
  eD = "https://echo.walletconnect.com",
  In = {
    pairing_started: "pairing_started",
    pairing_uri_validation_success: "pairing_uri_validation_success",
    pairing_uri_not_expired: "pairing_uri_not_expired",
    store_new_pairing: "store_new_pairing",
    subscribing_pairing_topic: "subscribing_pairing_topic",
    subscribe_pairing_topic_success: "subscribe_pairing_topic_success",
    existing_pairing: "existing_pairing",
    pairing_not_expired: "pairing_not_expired",
    emit_inactive_pairing: "emit_inactive_pairing",
    emit_session_proposal: "emit_session_proposal",
    subscribing_to_pairing_topic: "subscribing_to_pairing_topic",
  },
  ts = {
    no_wss_connection: "no_wss_connection",
    no_internet_connection: "no_internet_connection",
    malformed_pairing_uri: "malformed_pairing_uri",
    active_pairing_already_exists: "active_pairing_already_exists",
    subscribe_pairing_topic_failure: "subscribe_pairing_topic_failure",
    pairing_expired: "pairing_expired",
    proposal_expired: "proposal_expired",
    proposal_listener_not_found: "proposal_listener_not_found",
  },
  hn = {
    session_approve_started: "session_approve_started",
    proposal_not_expired: "proposal_not_expired",
    session_namespaces_validation_success:
      "session_namespaces_validation_success",
    create_session_topic: "create_session_topic",
    subscribing_session_topic: "subscribing_session_topic",
    subscribe_session_topic_success: "subscribe_session_topic_success",
    publishing_session_approve: "publishing_session_approve",
    session_approve_publish_success: "session_approve_publish_success",
    store_session: "store_session",
    publishing_session_settle: "publishing_session_settle",
    session_settle_publish_success: "session_settle_publish_success",
  },
  Ws = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    proposal_expired: "proposal_expired",
    subscribe_session_topic_failure: "subscribe_session_topic_failure",
    session_approve_publish_failure: "session_approve_publish_failure",
    session_settle_publish_failure: "session_settle_publish_failure",
    session_approve_namespace_validation_failure:
      "session_approve_namespace_validation_failure",
    proposal_not_found: "proposal_not_found",
  },
  Js = {
    authenticated_session_approve_started:
      "authenticated_session_approve_started",
    authenticated_session_not_expired: "authenticated_session_not_expired",
    chains_caip2_compliant: "chains_caip2_compliant",
    chains_evm_compliant: "chains_evm_compliant",
    create_authenticated_session_topic: "create_authenticated_session_topic",
    cacaos_verified: "cacaos_verified",
    store_authenticated_session: "store_authenticated_session",
    subscribing_authenticated_session_topic:
      "subscribing_authenticated_session_topic",
    subscribe_authenticated_session_topic_success:
      "subscribe_authenticated_session_topic_success",
    publishing_authenticated_session_approve:
      "publishing_authenticated_session_approve",
    authenticated_session_approve_publish_success:
      "authenticated_session_approve_publish_success",
  },
  Co = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    missing_session_authenticate_request:
      "missing_session_authenticate_request",
    session_authenticate_request_expired:
      "session_authenticate_request_expired",
    chains_caip2_compliant_failure: "chains_caip2_compliant_failure",
    chains_evm_compliant_failure: "chains_evm_compliant_failure",
    invalid_cacao: "invalid_cacao",
    subscribe_authenticated_session_topic_failure:
      "subscribe_authenticated_session_topic_failure",
    authenticated_session_approve_publish_failure:
      "authenticated_session_approve_publish_failure",
    authenticated_session_pending_request_not_found:
      "authenticated_session_pending_request_not_found",
  },
  tD = 0.1,
  rD = "event-client",
  iD = 86400,
  nD = "https://pulse.walletconnect.org/batch";
function sD(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var n = 0; n < r.length; n++) {
    var a = r.charAt(n),
      f = a.charCodeAt(0);
    if (t[f] !== 255) throw new TypeError(a + " is ambiguous");
    t[f] = n;
  }
  var h = r.length,
    b = r.charAt(0),
    v = Math.log(h) / Math.log(256),
    y = Math.log(256) / Math.log(h);
  function S(C) {
    if (
      (C instanceof Uint8Array ||
        (ArrayBuffer.isView(C)
          ? (C = new Uint8Array(C.buffer, C.byteOffset, C.byteLength))
          : Array.isArray(C) && (C = Uint8Array.from(C))),
      !(C instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (C.length === 0) return "";
    for (var H = 0, V = 0, Q = 0, j = C.length; Q !== j && C[Q] === 0; )
      Q++, H++;
    for (var Y = ((j - Q) * y + 1) >>> 0, U = new Uint8Array(Y); Q !== j; ) {
      for (
        var z = C[Q], G = 0, A = Y - 1;
        (z !== 0 || G < V) && A !== -1;
        A--, G++
      )
        (z += (256 * U[A]) >>> 0), (U[A] = z % h >>> 0), (z = (z / h) >>> 0);
      if (z !== 0) throw new Error("Non-zero carry");
      (V = G), Q++;
    }
    for (var F = Y - V; F !== Y && U[F] === 0; ) F++;
    for (var ae = b.repeat(H); F < Y; ++F) ae += r.charAt(U[F]);
    return ae;
  }
  function O(C) {
    if (typeof C != "string") throw new TypeError("Expected String");
    if (C.length === 0) return new Uint8Array();
    var H = 0;
    if (C[H] !== " ") {
      for (var V = 0, Q = 0; C[H] === b; ) V++, H++;
      for (
        var j = ((C.length - H) * v + 1) >>> 0, Y = new Uint8Array(j);
        C[H];

      ) {
        var U = t[C.charCodeAt(H)];
        if (U === 255) return;
        for (var z = 0, G = j - 1; (U !== 0 || z < Q) && G !== -1; G--, z++)
          (U += (h * Y[G]) >>> 0),
            (Y[G] = U % 256 >>> 0),
            (U = (U / 256) >>> 0);
        if (U !== 0) throw new Error("Non-zero carry");
        (Q = z), H++;
      }
      if (C[H] !== " ") {
        for (var A = j - Q; A !== j && Y[A] === 0; ) A++;
        for (var F = new Uint8Array(V + (j - A)), ae = V; A !== j; )
          F[ae++] = Y[A++];
        return F;
      }
    }
  }
  function P(C) {
    var H = O(C);
    if (H) return H;
    throw new Error(`Non-${e} character`);
  }
  return { encode: S, decodeUnsafe: O, decode: P };
}
var aD = sD,
  oD = aD;
const tm = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  cD = (r) => new TextEncoder().encode(r),
  fD = (r) => new TextDecoder().decode(r);
class uD {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class hD {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${
            this.name
          } decoder only supports inputs prefixed with ${this.prefix}`
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return rm(this, e);
  }
}
class lD {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return rm(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(
        e
      )}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`
    );
  }
}
const rm = (r, e) =>
  new lD({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class dD {
  constructor(e, t, i, n) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = n),
      (this.encoder = new uD(e, t, i)),
      (this.decoder = new hD(e, t, n));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const Iu = ({ name: r, prefix: e, encode: t, decode: i }) => new dD(r, e, t, i),
  dc = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: n } = oD(t, e);
    return Iu({ prefix: r, name: e, encode: i, decode: (a) => tm(n(a)) });
  },
  pD = (r, e, t, i) => {
    const n = {};
    for (let y = 0; y < e.length; ++y) n[e[y]] = y;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const f = new Uint8Array(((a * t) / 8) | 0);
    let h = 0,
      b = 0,
      v = 0;
    for (let y = 0; y < a; ++y) {
      const S = n[r[y]];
      if (S === void 0) throw new SyntaxError(`Non-${i} character`);
      (b = (b << t) | S),
        (h += t),
        h >= 8 && ((h -= 8), (f[v++] = 255 & (b >> h)));
    }
    if (h >= t || 255 & (b << (8 - h)))
      throw new SyntaxError("Unexpected end of data");
    return f;
  },
  gD = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      n = (1 << t) - 1;
    let a = "",
      f = 0,
      h = 0;
    for (let b = 0; b < r.length; ++b)
      for (h = (h << 8) | r[b], f += 8; f > t; )
        (f -= t), (a += e[n & (h >> f)]);
    if ((f && (a += e[n & (h << (t - f))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  Rr = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    Iu({
      prefix: e,
      name: r,
      encode(n) {
        return gD(n, i, t);
      },
      decode(n) {
        return pD(n, i, t, r);
      },
    }),
  vD = Iu({
    prefix: "\0",
    name: "identity",
    encode: (r) => fD(r),
    decode: (r) => cD(r),
  });
var bD = Object.freeze({ __proto__: null, identity: vD });
const mD = Rr({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 });
var yD = Object.freeze({ __proto__: null, base2: mD });
const wD = Rr({
  prefix: "7",
  name: "base8",
  alphabet: "01234567",
  bitsPerChar: 3,
});
var _D = Object.freeze({ __proto__: null, base8: wD });
const AD = dc({ prefix: "9", name: "base10", alphabet: "0123456789" });
var ED = Object.freeze({ __proto__: null, base10: AD });
const SD = Rr({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  MD = Rr({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  });
var ID = Object.freeze({ __proto__: null, base16: SD, base16upper: MD });
const xD = Rr({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  DD = Rr({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  PD = Rr({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  OD = Rr({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  CD = Rr({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  RD = Rr({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  ND = Rr({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  TD = Rr({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  FD = Rr({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  });
var BD = Object.freeze({
  __proto__: null,
  base32: xD,
  base32upper: DD,
  base32pad: PD,
  base32padupper: OD,
  base32hex: CD,
  base32hexupper: RD,
  base32hexpad: ND,
  base32hexpadupper: TD,
  base32z: FD,
});
const qD = dc({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  LD = dc({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  });
var UD = Object.freeze({ __proto__: null, base36: qD, base36upper: LD });
const $D = dc({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  jD = dc({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  });
var zD = Object.freeze({ __proto__: null, base58btc: $D, base58flickr: jD });
const kD = Rr({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  HD = Rr({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  KD = Rr({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  VD = Rr({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  });
var GD = Object.freeze({
  __proto__: null,
  base64: kD,
  base64pad: HD,
  base64url: KD,
  base64urlpad: VD,
});
const im = Array.from(
    "🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"
  ),
  WD = im.reduce((r, e, t) => ((r[t] = e), r), []),
  JD = im.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function YD(r) {
  return r.reduce((e, t) => ((e += WD[t]), e), "");
}
function QD(r) {
  const e = [];
  for (const t of r) {
    const i = JD[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const XD = Iu({ prefix: "🚀", name: "base256emoji", encode: YD, decode: QD });
var ZD = Object.freeze({ __proto__: null, base256emoji: XD }),
  eP = nm,
  vg = 128,
  tP = 127,
  rP = ~tP,
  iP = Math.pow(2, 31);
function nm(r, e, t) {
  (e = e || []), (t = t || 0);
  for (var i = t; r >= iP; ) (e[t++] = (r & 255) | vg), (r /= 128);
  for (; r & rP; ) (e[t++] = (r & 255) | vg), (r >>>= 7);
  return (e[t] = r | 0), (nm.bytes = t - i + 1), e;
}
var nP = Wl,
  sP = 128,
  bg = 127;
function Wl(r, i) {
  var t = 0,
    i = i || 0,
    n = 0,
    a = i,
    f,
    h = r.length;
  do {
    if (a >= h)
      throw ((Wl.bytes = 0), new RangeError("Could not decode varint"));
    (f = r[a++]),
      (t += n < 28 ? (f & bg) << n : (f & bg) * Math.pow(2, n)),
      (n += 7);
  } while (f >= sP);
  return (Wl.bytes = a - i), t;
}
var aP = Math.pow(2, 7),
  oP = Math.pow(2, 14),
  cP = Math.pow(2, 21),
  fP = Math.pow(2, 28),
  uP = Math.pow(2, 35),
  hP = Math.pow(2, 42),
  lP = Math.pow(2, 49),
  dP = Math.pow(2, 56),
  pP = Math.pow(2, 63),
  gP = function (r) {
    return r < aP
      ? 1
      : r < oP
      ? 2
      : r < cP
      ? 3
      : r < fP
      ? 4
      : r < uP
      ? 5
      : r < hP
      ? 6
      : r < lP
      ? 7
      : r < dP
      ? 8
      : r < pP
      ? 9
      : 10;
  },
  vP = { encode: eP, decode: nP, encodingLength: gP },
  sm = vP;
const mg = (r, e, t = 0) => (sm.encode(r, e, t), e),
  yg = (r) => sm.encodingLength(r),
  Jl = (r, e) => {
    const t = e.byteLength,
      i = yg(r),
      n = i + yg(t),
      a = new Uint8Array(n + t);
    return mg(r, a, 0), mg(t, a, i), a.set(e, n), new bP(r, t, e, a);
  };
class bP {
  constructor(e, t, i, n) {
    (this.code = e), (this.size = t), (this.digest = i), (this.bytes = n);
  }
}
const am = ({ name: r, code: e, encode: t }) => new mP(r, e, t);
class mP {
  constructor(e, t, i) {
    (this.name = e), (this.code = t), (this.encode = i);
  }
  digest(e) {
    if (e instanceof Uint8Array) {
      const t = this.encode(e);
      return t instanceof Uint8Array
        ? Jl(this.code, t)
        : t.then((i) => Jl(this.code, i));
    } else throw Error("Unknown type, must be binary type");
  }
}
const om = (r) => async (e) => new Uint8Array(await crypto.subtle.digest(r, e)),
  yP = am({ name: "sha2-256", code: 18, encode: om("SHA-256") }),
  wP = am({ name: "sha2-512", code: 19, encode: om("SHA-512") });
var _P = Object.freeze({ __proto__: null, sha256: yP, sha512: wP });
const cm = 0,
  AP = "identity",
  fm = tm,
  EP = (r) => Jl(cm, fm(r)),
  SP = { code: cm, name: AP, encode: fm, digest: EP };
var MP = Object.freeze({ __proto__: null, identity: SP });
new TextEncoder(), new TextDecoder();
const wg = {
  ...bD,
  ...yD,
  ..._D,
  ...ED,
  ...ID,
  ...BD,
  ...UD,
  ...zD,
  ...GD,
  ...ZD,
};
({ ..._P, ...MP });
function IP(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function um(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const _g = um(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1))
  ),
  pl = um(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = IP(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    }
  ),
  xP = {
    utf8: _g,
    "utf-8": _g,
    hex: wg.base16,
    latin1: pl,
    ascii: pl,
    binary: pl,
    ...wg,
  };
function DP(r, e = "utf8") {
  const t = xP[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
class PP {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.keychain = new Map()),
      (this.name = Dx),
      (this.version = Px),
      (this.initialized = !1),
      (this.storagePrefix = Un),
      (this.init = async () => {
        if (!this.initialized) {
          const i = await this.getKeyChain();
          typeof i < "u" && (this.keychain = i), (this.initialized = !0);
        }
      }),
      (this.has = (i) => (this.isInitialized(), this.keychain.has(i))),
      (this.set = async (i, n) => {
        this.isInitialized(), this.keychain.set(i, n), await this.persist();
      }),
      (this.get = (i) => {
        this.isInitialized();
        const n = this.keychain.get(i);
        if (typeof n > "u") {
          const { message: a } = Ae("NO_MATCHING_KEY", `${this.name}: ${i}`);
          throw new Error(a);
        }
        return n;
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.keychain.delete(i), await this.persist();
      }),
      (this.core = e),
      (this.logger = Qr(t, this.name));
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setKeyChain(e) {
    await this.core.storage.setItem(this.storageKey, zv(e));
  }
  async getKeyChain() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? kv(e) : void 0;
  }
  async persist() {
    await this.setKeyChain(this.keychain);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class OP {
  constructor(e, t, i) {
    (this.core = e),
      (this.logger = t),
      (this.name = Ix),
      (this.randomSessionIdentifier = $l()),
      (this.initialized = !1),
      (this.init = async () => {
        this.initialized ||
          (await this.keychain.init(), (this.initialized = !0));
      }),
      (this.hasKeys = (n) => (this.isInitialized(), this.keychain.has(n))),
      (this.getClientId = async () => {
        this.isInitialized();
        const n = await this.getClientSeed(),
          a = r1(n);
        return Lv(a.publicKey);
      }),
      (this.generateKeyPair = () => {
        this.isInitialized();
        const n = dS();
        return this.setPrivateKey(n.publicKey, n.privateKey);
      }),
      (this.signJWT = async (n) => {
        this.isInitialized();
        const a = await this.getClientSeed(),
          f = r1(a),
          h = this.randomSessionIdentifier;
        return await W7(h, n, xx, f);
      }),
      (this.generateSharedKey = (n, a, f) => {
        this.isInitialized();
        const h = this.getPrivateKey(n),
          b = pS(h, a);
        return this.setSymKey(b, f);
      }),
      (this.setSymKey = async (n, a) => {
        this.isInitialized();
        const f = a || Tf(n);
        return await this.keychain.set(f, n), f;
      }),
      (this.deleteKeyPair = async (n) => {
        this.isInitialized(), await this.keychain.del(n);
      }),
      (this.deleteSymKey = async (n) => {
        this.isInitialized(), await this.keychain.del(n);
      }),
      (this.encode = async (n, a, f) => {
        this.isInitialized();
        const h = Tb(f),
          b = cs(a);
        if (U1(h)) return vS(b, f == null ? void 0 : f.encoding);
        if (L1(h)) {
          const O = h.senderPublicKey,
            P = h.receiverPublicKey;
          n = await this.generateSharedKey(O, P);
        }
        const v = this.getSymKey(n),
          { type: y, senderPublicKey: S } = h;
        return gS({
          type: y,
          symKey: v,
          message: b,
          senderPublicKey: S,
          encoding: f == null ? void 0 : f.encoding,
        });
      }),
      (this.decode = async (n, a, f) => {
        this.isInitialized();
        const h = yS(a, f);
        if (U1(h)) {
          const b = mS(a, f == null ? void 0 : f.encoding);
          return ra(b);
        }
        if (L1(h)) {
          const b = h.receiverPublicKey,
            v = h.senderPublicKey;
          n = await this.generateSharedKey(b, v);
        }
        try {
          const b = this.getSymKey(n),
            v = bS({
              symKey: b,
              encoded: a,
              encoding: f == null ? void 0 : f.encoding,
            });
          return ra(v);
        } catch (b) {
          this.logger.error(
            `Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`
          ),
            this.logger.error(b);
        }
      }),
      (this.getPayloadType = (n, a = Is) => {
        const f = Jo({ encoded: n, encoding: a });
        return na(f.type);
      }),
      (this.getPayloadSenderPublicKey = (n, a = Is) => {
        const f = Jo({ encoded: n, encoding: a });
        return f.senderPublicKey ? mr(f.senderPublicKey, Yr) : void 0;
      }),
      (this.core = e),
      (this.logger = Qr(t, this.name)),
      (this.keychain = i || new PP(this.core, this.logger));
  }
  get context() {
    return pi(this.logger);
  }
  async setPrivateKey(e, t) {
    return await this.keychain.set(e, t), e;
  }
  getPrivateKey(e) {
    return this.keychain.get(e);
  }
  async getClientSeed() {
    let e = "";
    try {
      e = this.keychain.get(pg);
    } catch {
      (e = $l()), await this.keychain.set(pg, e);
    }
    return DP(e, "base16");
  }
  getSymKey(e) {
    return this.keychain.get(e);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class CP extends AI {
  constructor(e, t) {
    super(e, t),
      (this.logger = e),
      (this.core = t),
      (this.messages = new Map()),
      (this.name = Ox),
      (this.version = Cx),
      (this.initialized = !1),
      (this.storagePrefix = Un),
      (this.init = async () => {
        if (!this.initialized) {
          this.logger.trace("Initialized");
          try {
            const i = await this.getRelayerMessages();
            typeof i < "u" && (this.messages = i),
              this.logger.debug(
                `Successfully Restored records for ${this.name}`
              ),
              this.logger.trace({
                type: "method",
                method: "restore",
                size: this.messages.size,
              });
          } catch (i) {
            this.logger.debug(`Failed to Restore records for ${this.name}`),
              this.logger.error(i);
          } finally {
            this.initialized = !0;
          }
        }
      }),
      (this.set = async (i, n) => {
        this.isInitialized();
        const a = is(n);
        let f = this.messages.get(i);
        return (
          typeof f > "u" && (f = {}),
          typeof f[a] < "u" ||
            ((f[a] = n), this.messages.set(i, f), await this.persist()),
          a
        );
      }),
      (this.get = (i) => {
        this.isInitialized();
        let n = this.messages.get(i);
        return typeof n > "u" && (n = {}), n;
      }),
      (this.has = (i, n) => {
        this.isInitialized();
        const a = this.get(i),
          f = is(n);
        return typeof a[f] < "u";
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.messages.delete(i), await this.persist();
      }),
      (this.logger = Qr(e, this.name)),
      (this.core = t);
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setRelayerMessages(e) {
    await this.core.storage.setItem(this.storageKey, zv(e));
  }
  async getRelayerMessages() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? kv(e) : void 0;
  }
  async persist() {
    await this.setRelayerMessages(this.messages);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class RP extends EI {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.events = new Wi.EventEmitter()),
      (this.name = Nx),
      (this.queue = new Map()),
      (this.publishTimeout = Se.toMiliseconds(Se.ONE_MINUTE)),
      (this.failedPublishTimeout = Se.toMiliseconds(Se.ONE_SECOND)),
      (this.needsTransportRestart = !1),
      (this.publish = async (i, n, a) => {
        var f;
        this.logger.debug("Publishing Payload"),
          this.logger.trace({
            type: "method",
            method: "publish",
            params: { topic: i, message: n, opts: a },
          });
        const h = (a == null ? void 0 : a.ttl) || Rx,
          b = jl(a),
          v = (a == null ? void 0 : a.prompt) || !1,
          y = (a == null ? void 0 : a.tag) || 0,
          S = (a == null ? void 0 : a.id) || ea().toString(),
          O = {
            topic: i,
            message: n,
            opts: {
              ttl: h,
              relay: b,
              prompt: v,
              tag: y,
              id: S,
              attestation: a == null ? void 0 : a.attestation,
            },
          },
          P = `Failed to publish payload, please try again. id:${S} tag:${y}`,
          C = Date.now();
        let H,
          V = 1;
        try {
          for (; H === void 0; ) {
            if (Date.now() - C > this.publishTimeout) throw new Error(P);
            this.logger.trace(
              { id: S, attempts: V },
              `publisher.publish - attempt ${V}`
            ),
              (H = await await Ua(
                this.rpcPublish(
                  i,
                  n,
                  h,
                  b,
                  v,
                  y,
                  S,
                  a == null ? void 0 : a.attestation
                ).catch((Q) => this.logger.warn(Q)),
                this.publishTimeout,
                P
              )),
              V++,
              H ||
                (await new Promise((Q) =>
                  setTimeout(Q, this.failedPublishTimeout)
                ));
          }
          this.relayer.events.emit(Wr.publish, O),
            this.logger.debug("Successfully Published Payload"),
            this.logger.trace({
              type: "method",
              method: "publish",
              params: { id: S, topic: i, message: n, opts: a },
            });
        } catch (Q) {
          if (
            (this.logger.debug("Failed to Publish Payload"),
            this.logger.error(Q),
            (f = a == null ? void 0 : a.internal) != null &&
              f.throwOnFailedPublish)
          )
            throw Q;
          this.queue.set(S, O);
        }
      }),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.relayer = e),
      (this.logger = Qr(t, this.name)),
      this.registerEventListeners();
  }
  get context() {
    return pi(this.logger);
  }
  rpcPublish(e, t, i, n, a, f, h, b) {
    var v, y, S, O;
    const P = {
      method: Bo(n.protocol).publish,
      params: {
        topic: e,
        message: t,
        ttl: i,
        prompt: a,
        tag: f,
        attestation: b,
      },
      id: h,
    };
    return (
      ui((v = P.params) == null ? void 0 : v.prompt) &&
        ((y = P.params) == null || delete y.prompt),
      ui((S = P.params) == null ? void 0 : S.tag) &&
        ((O = P.params) == null || delete O.tag),
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "message", direction: "outgoing", request: P }),
      this.relayer.request(P)
    );
  }
  removeRequestFromQueue(e) {
    this.queue.delete(e);
  }
  checkQueue() {
    this.queue.forEach(async (e) => {
      const { topic: t, message: i, opts: n } = e;
      await this.publish(t, i, n);
    });
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(to.pulse, () => {
      if (this.needsTransportRestart) {
        (this.needsTransportRestart = !1),
          this.relayer.events.emit(Wr.connection_stalled);
        return;
      }
      this.checkQueue();
    }),
      this.relayer.on(Wr.message_ack, (e) => {
        this.removeRequestFromQueue(e.id.toString());
      });
  }
}
class NP {
  constructor() {
    (this.map = new Map()),
      (this.set = (e, t) => {
        const i = this.get(e);
        this.exists(e, t) || this.map.set(e, [...i, t]);
      }),
      (this.get = (e) => this.map.get(e) || []),
      (this.exists = (e, t) => this.get(e).includes(t)),
      (this.delete = (e, t) => {
        if (typeof t > "u") {
          this.map.delete(e);
          return;
        }
        if (!this.map.has(e)) return;
        const i = this.get(e);
        if (!this.exists(e, t)) return;
        const n = i.filter((a) => a !== t);
        if (!n.length) {
          this.map.delete(e);
          return;
        }
        this.map.set(e, n);
      }),
      (this.clear = () => {
        this.map.clear();
      });
  }
  get topics() {
    return Array.from(this.map.keys());
  }
}
var TP = Object.defineProperty,
  FP = Object.defineProperties,
  BP = Object.getOwnPropertyDescriptors,
  Ag = Object.getOwnPropertySymbols,
  qP = Object.prototype.hasOwnProperty,
  LP = Object.prototype.propertyIsEnumerable,
  Eg = (r, e, t) =>
    e in r
      ? TP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ro = (r, e) => {
    for (var t in e || (e = {})) qP.call(e, t) && Eg(r, t, e[t]);
    if (Ag) for (var t of Ag(e)) LP.call(e, t) && Eg(r, t, e[t]);
    return r;
  },
  gl = (r, e) => FP(r, BP(e));
class UP extends II {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.subscriptions = new Map()),
      (this.topicMap = new NP()),
      (this.events = new Wi.EventEmitter()),
      (this.name = $x),
      (this.version = jx),
      (this.pending = new Map()),
      (this.cached = []),
      (this.initialized = !1),
      (this.pendingSubscriptionWatchLabel = "pending_sub_watch_label"),
      (this.pollingInterval = 20),
      (this.storagePrefix = Un),
      (this.subscribeTimeout = Se.toMiliseconds(Se.ONE_MINUTE)),
      (this.restartInProgress = !1),
      (this.batchSubscribeTopicsLimit = 500),
      (this.pendingBatchMessages = []),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          this.registerEventListeners(),
          (this.clientId = await this.relayer.core.crypto.getClientId()),
          await this.restore()),
          (this.initialized = !0);
      }),
      (this.subscribe = async (i, n) => {
        this.isInitialized(),
          this.logger.debug("Subscribing Topic"),
          this.logger.trace({
            type: "method",
            method: "subscribe",
            params: { topic: i, opts: n },
          });
        try {
          const a = jl(n),
            f = {
              topic: i,
              relay: a,
              transportType: n == null ? void 0 : n.transportType,
            };
          this.pending.set(i, f);
          const h = await this.rpcSubscribe(
            i,
            a,
            n == null ? void 0 : n.transportType
          );
          return (
            typeof h == "string" &&
              (this.onSubscribe(h, f),
              this.logger.debug("Successfully Subscribed Topic"),
              this.logger.trace({
                type: "method",
                method: "subscribe",
                params: { topic: i, opts: n },
              })),
            h
          );
        } catch (a) {
          throw (
            (this.logger.debug("Failed to Subscribe Topic"),
            this.logger.error(a),
            a)
          );
        }
      }),
      (this.unsubscribe = async (i, n) => {
        await this.restartToComplete(),
          this.isInitialized(),
          typeof (n == null ? void 0 : n.id) < "u"
            ? await this.unsubscribeById(i, n.id, n)
            : await this.unsubscribeByTopic(i, n);
      }),
      (this.isSubscribed = async (i) => {
        if (this.topics.includes(i)) return !0;
        const n = `${this.pendingSubscriptionWatchLabel}_${i}`;
        return await new Promise((a, f) => {
          const h = new Se.Watch();
          h.start(n);
          const b = setInterval(() => {
            !this.pending.has(i) &&
              this.topics.includes(i) &&
              (clearInterval(b), h.stop(n), a(!0)),
              h.elapsed(n) >= zx &&
                (clearInterval(b),
                h.stop(n),
                f(new Error("Subscription resolution timeout")));
          }, this.pollingInterval);
        }).catch(() => !1);
      }),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.start = async () => {
        await this.onConnect();
      }),
      (this.stop = async () => {
        await this.onDisconnect();
      }),
      (this.restart = async () => {
        (this.restartInProgress = !0),
          await this.restore(),
          await this.reset(),
          (this.restartInProgress = !1);
      }),
      (this.relayer = e),
      (this.logger = Qr(t, this.name)),
      (this.clientId = "");
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.relayer.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.subscriptions.size;
  }
  get ids() {
    return Array.from(this.subscriptions.keys());
  }
  get values() {
    return Array.from(this.subscriptions.values());
  }
  get topics() {
    return this.topicMap.topics;
  }
  hasSubscription(e, t) {
    let i = !1;
    try {
      i = this.getSubscription(e).topic === t;
    } catch {}
    return i;
  }
  onEnable() {
    (this.cached = []), (this.initialized = !0);
  }
  onDisable() {
    (this.cached = this.values),
      this.subscriptions.clear(),
      this.topicMap.clear();
  }
  async unsubscribeByTopic(e, t) {
    const i = this.topicMap.get(e);
    await Promise.all(i.map(async (n) => await this.unsubscribeById(e, n, t)));
  }
  async unsubscribeById(e, t, i) {
    this.logger.debug("Unsubscribing Topic"),
      this.logger.trace({
        type: "method",
        method: "unsubscribe",
        params: { topic: e, id: t, opts: i },
      });
    try {
      const n = jl(i);
      await this.rpcUnsubscribe(e, t, n);
      const a = Ut("USER_DISCONNECTED", `${this.name}, ${e}`);
      await this.onUnsubscribe(e, t, a),
        this.logger.debug("Successfully Unsubscribed Topic"),
        this.logger.trace({
          type: "method",
          method: "unsubscribe",
          params: { topic: e, id: t, opts: i },
        });
    } catch (n) {
      throw (
        (this.logger.debug("Failed to Unsubscribe Topic"),
        this.logger.error(n),
        n)
      );
    }
  }
  async rpcSubscribe(e, t, i = Kt.relay) {
    i === Kt.relay && (await this.restartToComplete());
    const n = { method: Bo(t.protocol).subscribe, params: { topic: e } };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: n });
    try {
      const a = is(e + this.clientId);
      return i === Kt.link_mode
        ? (setTimeout(() => {
            (this.relayer.connected || this.relayer.connecting) &&
              this.relayer.request(n).catch((f) => this.logger.warn(f));
          }, Se.toMiliseconds(Se.ONE_SECOND)),
          a)
        : (await await Ua(
            this.relayer.request(n).catch((f) => this.logger.warn(f)),
            this.subscribeTimeout
          ))
        ? a
        : null;
    } catch {
      this.logger.debug("Outgoing Relay Subscribe Payload stalled"),
        this.relayer.events.emit(Wr.connection_stalled);
    }
    return null;
  }
  async rpcBatchSubscribe(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: Bo(t.protocol).batchSubscribe,
        params: { topics: e.map((n) => n.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    try {
      return await await Ua(
        this.relayer.request(i).catch((n) => this.logger.warn(n)),
        this.subscribeTimeout
      );
    } catch {
      this.relayer.events.emit(Wr.connection_stalled);
    }
  }
  async rpcBatchFetchMessages(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: Bo(t.protocol).batchFetchMessages,
        params: { topics: e.map((a) => a.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    let n;
    try {
      n = await await Ua(
        this.relayer.request(i).catch((a) => this.logger.warn(a)),
        this.subscribeTimeout
      );
    } catch {
      this.relayer.events.emit(Wr.connection_stalled);
    }
    return n;
  }
  rpcUnsubscribe(e, t, i) {
    const n = {
      method: Bo(i.protocol).unsubscribe,
      params: { topic: e, id: t },
    };
    return (
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: n }),
      this.relayer.request(n)
    );
  }
  onSubscribe(e, t) {
    this.setSubscription(e, gl(Ro({}, t), { id: e })),
      this.pending.delete(t.topic);
  }
  onBatchSubscribe(e) {
    e.length &&
      e.forEach((t) => {
        this.setSubscription(t.id, Ro({}, t)), this.pending.delete(t.topic);
      });
  }
  async onUnsubscribe(e, t, i) {
    this.events.removeAllListeners(t),
      this.hasSubscription(t, e) && this.deleteSubscription(t, i),
      await this.relayer.messages.del(e);
  }
  async setRelayerSubscriptions(e) {
    await this.relayer.core.storage.setItem(this.storageKey, e);
  }
  async getRelayerSubscriptions() {
    return await this.relayer.core.storage.getItem(this.storageKey);
  }
  setSubscription(e, t) {
    this.logger.debug("Setting subscription"),
      this.logger.trace({
        type: "method",
        method: "setSubscription",
        id: e,
        subscription: t,
      }),
      this.addSubscription(e, t);
  }
  addSubscription(e, t) {
    this.subscriptions.set(e, Ro({}, t)),
      this.topicMap.set(t.topic, e),
      this.events.emit(On.created, t);
  }
  getSubscription(e) {
    this.logger.debug("Getting subscription"),
      this.logger.trace({ type: "method", method: "getSubscription", id: e });
    const t = this.subscriptions.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  deleteSubscription(e, t) {
    this.logger.debug("Deleting subscription"),
      this.logger.trace({
        type: "method",
        method: "deleteSubscription",
        id: e,
        reason: t,
      });
    const i = this.getSubscription(e);
    this.subscriptions.delete(e),
      this.topicMap.delete(i.topic, e),
      this.events.emit(On.deleted, gl(Ro({}, i), { reason: t }));
  }
  async persist() {
    await this.setRelayerSubscriptions(this.values), this.events.emit(On.sync);
  }
  async reset() {
    if (this.cached.length) {
      const e = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);
      for (let t = 0; t < e; t++) {
        const i = this.cached.splice(0, this.batchSubscribeTopicsLimit);
        await this.batchFetchMessages(i), await this.batchSubscribe(i);
      }
    }
    this.events.emit(On.resubscribed);
  }
  async restore() {
    try {
      const e = await this.getRelayerSubscriptions();
      if (typeof e > "u" || !e.length) return;
      if (this.subscriptions.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (
          (this.logger.error(t),
          this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),
          new Error(t))
        );
      }
      (this.cached = e),
        this.logger.debug(
          `Successfully Restored subscriptions for ${this.name}`
        ),
        this.logger.trace({
          type: "method",
          method: "restore",
          subscriptions: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),
        this.logger.error(e);
    }
  }
  async batchSubscribe(e) {
    if (!e.length) return;
    const t = await this.rpcBatchSubscribe(e);
    Ln(t) &&
      this.onBatchSubscribe(t.map((i, n) => gl(Ro({}, e[n]), { id: i })));
  }
  async batchFetchMessages(e) {
    if (!e.length) return;
    this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);
    const t = await this.rpcBatchFetchMessages(e);
    t &&
      t.messages &&
      (this.pendingBatchMessages = this.pendingBatchMessages.concat(
        t.messages
      ));
  }
  async onConnect() {
    await this.restart(), this.onEnable();
  }
  onDisconnect() {
    this.onDisable();
  }
  async checkPending() {
    if (!this.initialized || !this.relayer.connected) return;
    const e = [];
    this.pending.forEach((t) => {
      e.push(t);
    }),
      await this.batchSubscribe(e),
      this.pendingBatchMessages.length &&
        (await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),
        (this.pendingBatchMessages = []));
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(to.pulse, async () => {
      await this.checkPending();
    }),
      this.events.on(On.created, async (e) => {
        const t = On.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      }),
      this.events.on(On.deleted, async (e) => {
        const t = On.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async restartToComplete() {
    !this.relayer.connected &&
      !this.relayer.connecting &&
      (await this.relayer.transportOpen()),
      this.restartInProgress &&
        (await new Promise((e) => {
          const t = setInterval(() => {
            this.restartInProgress || (clearInterval(t), e());
          }, this.pollingInterval);
        }));
  }
}
var $P = Object.defineProperty,
  Sg = Object.getOwnPropertySymbols,
  jP = Object.prototype.hasOwnProperty,
  zP = Object.prototype.propertyIsEnumerable,
  Mg = (r, e, t) =>
    e in r
      ? $P(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  kP = (r, e) => {
    for (var t in e || (e = {})) jP.call(e, t) && Mg(r, t, e[t]);
    if (Sg) for (var t of Sg(e)) zP.call(e, t) && Mg(r, t, e[t]);
    return r;
  };
class HP extends SI {
  constructor(e) {
    super(e),
      (this.protocol = "wc"),
      (this.version = 2),
      (this.events = new Wi.EventEmitter()),
      (this.name = Fx),
      (this.transportExplicitlyClosed = !1),
      (this.initialized = !1),
      (this.connectionAttemptInProgress = !1),
      (this.connectionStatusPollingInterval = 20),
      (this.staleConnectionErrors = [
        "socket hang up",
        "stalled",
        "interrupted",
      ]),
      (this.hasExperiencedNetworkDisruption = !1),
      (this.requestsInFlight = new Map()),
      (this.heartBeatTimeout = Se.toMiliseconds(
        Se.THIRTY_SECONDS + Se.ONE_SECOND
      )),
      (this.request = async (t) => {
        var i, n;
        this.logger.debug("Publishing Request Payload");
        const a = t.id || ea().toString();
        await this.toEstablishConnection();
        try {
          const f = this.provider.request(t);
          this.requestsInFlight.set(a, { promise: f, request: t }),
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (i = t.params) == null ? void 0 : i.topic,
              },
              "relayer.request - attempt to publish..."
            );
          const h = await new Promise(async (b, v) => {
            const y = () => {
              v(new Error(`relayer.request - publish interrupted, id: ${a}`));
            };
            this.provider.on(Ui.disconnect, y);
            const S = await f;
            this.provider.off(Ui.disconnect, y), b(S);
          });
          return (
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (n = t.params) == null ? void 0 : n.topic,
              },
              "relayer.request - published"
            ),
            h
          );
        } catch (f) {
          throw (this.logger.debug(`Failed to Publish Request: ${a}`), f);
        } finally {
          this.requestsInFlight.delete(a);
        }
      }),
      (this.resetPingTimeout = () => {
        if (Kf())
          try {
            clearTimeout(this.pingTimeout),
              (this.pingTimeout = setTimeout(() => {
                var t, i, n;
                (n =
                  (i = (t = this.provider) == null ? void 0 : t.connection) ==
                  null
                    ? void 0
                    : i.socket) == null || n.terminate();
              }, this.heartBeatTimeout));
          } catch (t) {
            this.logger.warn(t);
          }
      }),
      (this.onPayloadHandler = (t) => {
        this.onProviderPayload(t), this.resetPingTimeout();
      }),
      (this.onConnectHandler = () => {
        this.logger.trace("relayer connected"),
          this.startPingTimeout(),
          this.events.emit(Wr.connect);
      }),
      (this.onDisconnectHandler = () => {
        this.logger.trace("relayer disconnected"), this.onProviderDisconnect();
      }),
      (this.onProviderErrorHandler = (t) => {
        this.logger.error(t),
          this.events.emit(Wr.error, t),
          this.logger.info("Fatal socket error received, closing transport"),
          this.transportClose();
      }),
      (this.registerProviderListeners = () => {
        this.provider.on(Ui.payload, this.onPayloadHandler),
          this.provider.on(Ui.connect, this.onConnectHandler),
          this.provider.on(Ui.disconnect, this.onDisconnectHandler),
          this.provider.on(Ui.error, this.onProviderErrorHandler);
      }),
      (this.core = e.core),
      (this.logger =
        typeof e.logger < "u" && typeof e.logger != "string"
          ? Qr(e.logger, this.name)
          : hc(Au({ level: e.logger || Tx }))),
      (this.messages = new CP(this.logger, e.core)),
      (this.subscriber = new UP(this, this.logger)),
      (this.publisher = new RP(this, this.logger)),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || Zb),
      (this.projectId = e.projectId),
      (this.bundleId = i9()),
      (this.provider = {});
  }
  async init() {
    if (
      (this.logger.trace("Initialized"),
      this.registerEventListeners(),
      await Promise.all([this.messages.init(), this.subscriber.init()]),
      (this.initialized = !0),
      this.subscriber.cached.length > 0)
    )
      try {
        await this.transportOpen();
      } catch (e) {
        this.logger.warn(e);
      }
  }
  get context() {
    return pi(this.logger);
  }
  get connected() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 1
    );
  }
  get connecting() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 0
    );
  }
  async publish(e, t, i) {
    this.isInitialized(),
      await this.publisher.publish(e, t, i),
      await this.recordMessageEvent({
        topic: e,
        message: t,
        publishedAt: Date.now(),
        transportType: Kt.relay,
      });
  }
  async subscribe(e, t) {
    var i;
    this.isInitialized(),
      (t == null ? void 0 : t.transportType) === "relay" &&
        (await this.toEstablishConnection());
    let n =
        ((i = this.subscriber.topicMap.get(e)) == null ? void 0 : i[0]) || "",
      a;
    const f = (h) => {
      h.topic === e && (this.subscriber.off(On.created, f), a());
    };
    return (
      await Promise.all([
        new Promise((h) => {
          (a = h), this.subscriber.on(On.created, f);
        }),
        new Promise(async (h) => {
          (n = (await this.subscriber.subscribe(e, t)) || n), h();
        }),
      ]),
      n
    );
  }
  async unsubscribe(e, t) {
    this.isInitialized(), await this.subscriber.unsubscribe(e, t);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async transportDisconnect() {
    if (
      !this.hasExperiencedNetworkDisruption &&
      this.connected &&
      this.requestsInFlight.size > 0
    )
      try {
        await Promise.all(
          Array.from(this.requestsInFlight.values()).map((e) => e.promise)
        );
      } catch (e) {
        this.logger.warn(e);
      }
    this.hasExperiencedNetworkDisruption || this.connected
      ? await Ua(
          this.provider.disconnect(),
          2e3,
          "provider.disconnect()"
        ).catch(() => this.onProviderDisconnect())
      : this.onProviderDisconnect();
  }
  async transportClose() {
    (this.transportExplicitlyClosed = !0), await this.transportDisconnect();
  }
  async transportOpen(e) {
    await this.confirmOnlineStateOrThrow(),
      e &&
        e !== this.relayUrl &&
        ((this.relayUrl = e), await this.transportDisconnect()),
      await this.createProvider(),
      (this.connectionAttemptInProgress = !0),
      (this.transportExplicitlyClosed = !1);
    try {
      await new Promise(async (t, i) => {
        const n = () => {
          this.provider.off(Ui.disconnect, n),
            i(new Error("Connection interrupted while trying to subscribe"));
        };
        this.provider.on(Ui.disconnect, n),
          await Ua(
            this.provider.connect(),
            Se.toMiliseconds(Se.ONE_MINUTE),
            `Socket stalled when trying to connect to ${this.relayUrl}`
          )
            .catch((a) => {
              i(a);
            })
            .finally(() => {
              clearTimeout(this.reconnectTimeout),
                (this.reconnectTimeout = void 0);
            }),
          this.subscriber.start().catch((a) => {
            this.logger.error(a), this.onDisconnectHandler();
          }),
          (this.hasExperiencedNetworkDisruption = !1),
          t();
      });
    } catch (t) {
      this.logger.error(t);
      const i = t;
      if (
        ((this.hasExperiencedNetworkDisruption = !0),
        !this.isConnectionStalled(i.message))
      )
        throw t;
    } finally {
      this.connectionAttemptInProgress = !1;
    }
  }
  async restartTransport(e) {
    this.connectionAttemptInProgress ||
      ((this.relayUrl = e || this.relayUrl),
      await this.confirmOnlineStateOrThrow(),
      await this.transportClose(),
      await this.transportOpen());
  }
  async confirmOnlineStateOrThrow() {
    if (!(await Y1()))
      throw new Error(
        "No internet connection detected. Please restart your network and try again."
      );
  }
  async handleBatchMessageEvents(e) {
    if ((e == null ? void 0 : e.length) === 0) {
      this.logger.trace("Batch message events is empty. Ignoring...");
      return;
    }
    const t = e.sort((i, n) => i.publishedAt - n.publishedAt);
    this.logger.trace(`Batch of ${t.length} message events sorted`);
    for (const i of t)
      try {
        await this.onMessageEvent(i);
      } catch (n) {
        this.logger.warn(n);
      }
    this.logger.trace(`Batch of ${t.length} message events processed`);
  }
  async onLinkMessageEvent(e, t) {
    const { topic: i } = e;
    if (!t.sessionExists) {
      const n = vr(Se.FIVE_MINUTES),
        a = { topic: i, expiry: n, relay: { protocol: "irn" }, active: !1 };
      await this.core.pairing.pairings.set(i, a);
    }
    this.events.emit(Wr.message, e), await this.recordMessageEvent(e);
  }
  startPingTimeout() {
    var e, t, i, n, a;
    if (Kf())
      try {
        (t = (e = this.provider) == null ? void 0 : e.connection) != null &&
          t.socket &&
          ((a =
            (n = (i = this.provider) == null ? void 0 : i.connection) == null
              ? void 0
              : n.socket) == null ||
            a.once("ping", () => {
              this.resetPingTimeout();
            })),
          this.resetPingTimeout();
      } catch (f) {
        this.logger.warn(f);
      }
  }
  isConnectionStalled(e) {
    return this.staleConnectionErrors.some((t) => e.includes(t));
  }
  async createProvider() {
    this.provider.connection && this.unregisterProviderListeners();
    const e = await this.core.crypto.signJWT(this.relayUrl);
    (this.provider = new Si(
      new _x(
        o9({
          sdkVersion: Gl,
          protocol: this.protocol,
          version: this.version,
          relayUrl: this.relayUrl,
          projectId: this.projectId,
          auth: e,
          useOnCloseEvent: !0,
          bundleId: this.bundleId,
        })
      )
    )),
      this.registerProviderListeners();
  }
  async recordMessageEvent(e) {
    const { topic: t, message: i } = e;
    await this.messages.set(t, i);
  }
  async shouldIgnoreMessageEvent(e) {
    const { topic: t, message: i } = e;
    if (!i || i.length === 0)
      return this.logger.debug(`Ignoring invalid/empty message: ${i}`), !0;
    if (!(await this.subscriber.isSubscribed(t)))
      return (
        this.logger.debug(`Ignoring message for non-subscribed topic ${t}`), !0
      );
    const n = this.messages.has(t, i);
    return n && this.logger.debug(`Ignoring duplicate message: ${i}`), n;
  }
  async onProviderPayload(e) {
    if (
      (this.logger.debug("Incoming Relay Payload"),
      this.logger.trace({ type: "payload", direction: "incoming", payload: e }),
      Sd(e))
    ) {
      if (!e.method.endsWith(Bx)) return;
      const t = e.params,
        { topic: i, message: n, publishedAt: a, attestation: f } = t.data,
        h = {
          topic: i,
          message: n,
          publishedAt: a,
          transportType: Kt.relay,
          attestation: f,
        };
      this.logger.debug("Emitting Relayer Payload"),
        this.logger.trace(kP({ type: "event", event: t.id }, h)),
        this.events.emit(t.id, h),
        await this.acknowledgePayload(e),
        await this.onMessageEvent(h);
    } else Mu(e) && this.events.emit(Wr.message_ack, e);
  }
  async onMessageEvent(e) {
    (await this.shouldIgnoreMessageEvent(e)) ||
      (this.events.emit(Wr.message, e), await this.recordMessageEvent(e));
  }
  async acknowledgePayload(e) {
    const t = Eu(e.id, !0);
    await this.provider.connection.send(t);
  }
  unregisterProviderListeners() {
    this.provider.off(Ui.payload, this.onPayloadHandler),
      this.provider.off(Ui.connect, this.onConnectHandler),
      this.provider.off(Ui.disconnect, this.onDisconnectHandler),
      this.provider.off(Ui.error, this.onProviderErrorHandler),
      clearTimeout(this.pingTimeout);
  }
  async registerEventListeners() {
    let e = await Y1();
    lM(async (t) => {
      e !== t &&
        ((e = t),
        t
          ? await this.restartTransport().catch((i) => this.logger.error(i))
          : ((this.hasExperiencedNetworkDisruption = !0),
            await this.transportDisconnect(),
            (this.transportExplicitlyClosed = !1)));
    });
  }
  async onProviderDisconnect() {
    await this.subscriber.stop(),
      this.requestsInFlight.clear(),
      clearTimeout(this.pingTimeout),
      this.events.emit(Wr.disconnect),
      (this.connectionAttemptInProgress = !1),
      !this.transportExplicitlyClosed &&
        (this.reconnectTimeout ||
          (this.reconnectTimeout = setTimeout(async () => {
            await this.transportOpen().catch((e) => this.logger.error(e));
          }, Se.toMiliseconds(qx))));
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async toEstablishConnection() {
    await this.confirmOnlineStateOrThrow(),
      !this.connected &&
        (this.connectionAttemptInProgress &&
          (await new Promise((e) => {
            const t = setInterval(() => {
              this.connected && (clearInterval(t), e());
            }, this.connectionStatusPollingInterval);
          })),
        await this.transportOpen());
  }
}
var KP = Object.defineProperty,
  Ig = Object.getOwnPropertySymbols,
  VP = Object.prototype.hasOwnProperty,
  GP = Object.prototype.propertyIsEnumerable,
  xg = (r, e, t) =>
    e in r
      ? KP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Dg = (r, e) => {
    for (var t in e || (e = {})) VP.call(e, t) && xg(r, t, e[t]);
    if (Ig) for (var t of Ig(e)) GP.call(e, t) && xg(r, t, e[t]);
    return r;
  };
class ua extends MI {
  constructor(e, t, i, n = Un, a = void 0) {
    super(e, t, i, n),
      (this.core = e),
      (this.logger = t),
      (this.name = i),
      (this.map = new Map()),
      (this.version = Lx),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = Un),
      (this.recentlyDeleted = []),
      (this.recentlyDeletedLimit = 200),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((f) => {
            this.getKey && f !== null && !ui(f)
              ? this.map.set(this.getKey(f), f)
              : kS(f)
              ? this.map.set(f.id, f)
              : HS(f) && this.map.set(f.topic, f);
          }),
          (this.cached = []),
          (this.initialized = !0));
      }),
      (this.set = async (f, h) => {
        this.isInitialized(),
          this.map.has(f)
            ? await this.update(f, h)
            : (this.logger.debug("Setting value"),
              this.logger.trace({
                type: "method",
                method: "set",
                key: f,
                value: h,
              }),
              this.map.set(f, h),
              await this.persist());
      }),
      (this.get = (f) => (
        this.isInitialized(),
        this.logger.debug("Getting value"),
        this.logger.trace({ type: "method", method: "get", key: f }),
        this.getData(f)
      )),
      (this.getAll = (f) => (
        this.isInitialized(),
        f
          ? this.values.filter((h) =>
              Object.keys(f).every((b) => Ex(h[b], f[b]))
            )
          : this.values
      )),
      (this.update = async (f, h) => {
        this.isInitialized(),
          this.logger.debug("Updating value"),
          this.logger.trace({
            type: "method",
            method: "update",
            key: f,
            update: h,
          });
        const b = Dg(Dg({}, this.getData(f)), h);
        this.map.set(f, b), await this.persist();
      }),
      (this.delete = async (f, h) => {
        this.isInitialized(),
          this.map.has(f) &&
            (this.logger.debug("Deleting value"),
            this.logger.trace({
              type: "method",
              method: "delete",
              key: f,
              reason: h,
            }),
            this.map.delete(f),
            this.addToRecentlyDeleted(f),
            await this.persist());
      }),
      (this.logger = Qr(t, this.name)),
      (this.storagePrefix = n),
      (this.getKey = a);
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.map.size;
  }
  get keys() {
    return Array.from(this.map.keys());
  }
  get values() {
    return Array.from(this.map.values());
  }
  addToRecentlyDeleted(e) {
    this.recentlyDeleted.push(e),
      this.recentlyDeleted.length >= this.recentlyDeletedLimit &&
        this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2);
  }
  async setDataStore(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getDataStore() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getData(e) {
    const t = this.map.get(e);
    if (!t) {
      if (this.recentlyDeleted.includes(e)) {
        const { message: n } = Ae(
          "MISSING_OR_INVALID",
          `Record was recently deleted - ${this.name}: ${e}`
        );
        throw (this.logger.error(n), new Error(n));
      }
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.error(i), new Error(i));
    }
    return t;
  }
  async persist() {
    await this.setDataStore(this.values);
  }
  async restore() {
    try {
      const e = await this.getDataStore();
      if (typeof e > "u" || !e.length) return;
      if (this.map.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored value for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          value: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore value for ${this.name}`),
        this.logger.error(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class WP {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.name = kx),
      (this.version = Hx),
      (this.events = new ed()),
      (this.initialized = !1),
      (this.storagePrefix = Un),
      (this.ignoredPayloadTypes = [os]),
      (this.registeredMethods = []),
      (this.init = async () => {
        this.initialized ||
          (await this.pairings.init(),
          await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          (this.initialized = !0),
          this.logger.trace("Initialized"));
      }),
      (this.register = ({ methods: i }) => {
        this.isInitialized(),
          (this.registeredMethods = [
            ...new Set([...this.registeredMethods, ...i]),
          ]);
      }),
      (this.create = async (i) => {
        this.isInitialized();
        const n = $l(),
          a = await this.core.crypto.setSymKey(n),
          f = vr(Se.FIVE_MINUTES),
          h = { protocol: Xb },
          b = {
            topic: a,
            expiry: f,
            relay: h,
            active: !1,
            methods: i == null ? void 0 : i.methods,
          },
          v = H1({
            protocol: this.core.protocol,
            version: this.core.version,
            topic: a,
            symKey: n,
            relay: h,
            expiryTimestamp: f,
            methods: i == null ? void 0 : i.methods,
          });
        return (
          this.events.emit(Xs.create, b),
          this.core.expirer.set(a, f),
          await this.pairings.set(a, b),
          await this.core.relayer.subscribe(a, {
            transportType: i == null ? void 0 : i.transportType,
          }),
          { topic: a, uri: v }
        );
      }),
      (this.pair = async (i) => {
        this.isInitialized();
        const n = this.core.eventClient.createEvent({
          properties: {
            topic: i == null ? void 0 : i.uri,
            trace: [In.pairing_started],
          },
        });
        this.isValidPair(i, n);
        const {
          topic: a,
          symKey: f,
          relay: h,
          expiryTimestamp: b,
          methods: v,
        } = k1(i.uri);
        (n.props.properties.topic = a),
          n.addTrace(In.pairing_uri_validation_success),
          n.addTrace(In.pairing_uri_not_expired);
        let y;
        if (this.pairings.keys.includes(a)) {
          if (
            ((y = this.pairings.get(a)),
            n.addTrace(In.existing_pairing),
            y.active)
          )
            throw (
              (n.setError(ts.active_pairing_already_exists),
              new Error(
                `Pairing already exists: ${a}. Please try again with a new connection URI.`
              ))
            );
          n.addTrace(In.pairing_not_expired);
        }
        const S = b || vr(Se.FIVE_MINUTES),
          O = { topic: a, relay: h, expiry: S, active: !1, methods: v };
        this.core.expirer.set(a, S),
          await this.pairings.set(a, O),
          n.addTrace(In.store_new_pairing),
          i.activatePairing && (await this.activate({ topic: a })),
          this.events.emit(Xs.create, O),
          n.addTrace(In.emit_inactive_pairing),
          this.core.crypto.keychain.has(a) ||
            (await this.core.crypto.setSymKey(f, a)),
          n.addTrace(In.subscribing_pairing_topic);
        try {
          await this.core.relayer.confirmOnlineStateOrThrow();
        } catch {
          n.setError(ts.no_internet_connection);
        }
        try {
          await this.core.relayer.subscribe(a, { relay: h });
        } catch (P) {
          throw (n.setError(ts.subscribe_pairing_topic_failure), P);
        }
        return n.addTrace(In.subscribe_pairing_topic_success), O;
      }),
      (this.activate = async ({ topic: i }) => {
        this.isInitialized();
        const n = vr(Se.THIRTY_DAYS);
        this.core.expirer.set(i, n),
          await this.pairings.update(i, { active: !0, expiry: n });
      }),
      (this.ping = async (i) => {
        this.isInitialized(), await this.isValidPing(i);
        const { topic: n } = i;
        if (this.pairings.keys.includes(n)) {
          const a = await this.sendRequest(n, "wc_pairingPing", {}),
            { done: f, resolve: h, reject: b } = Ys();
          this.events.once(It("pairing_ping", a), ({ error: v }) => {
            v ? b(v) : h();
          }),
            await f();
        }
      }),
      (this.updateExpiry = async ({ topic: i, expiry: n }) => {
        this.isInitialized(), await this.pairings.update(i, { expiry: n });
      }),
      (this.updateMetadata = async ({ topic: i, metadata: n }) => {
        this.isInitialized(),
          await this.pairings.update(i, { peerMetadata: n });
      }),
      (this.getPairings = () => (this.isInitialized(), this.pairings.values)),
      (this.disconnect = async (i) => {
        this.isInitialized(), await this.isValidDisconnect(i);
        const { topic: n } = i;
        this.pairings.keys.includes(n) &&
          (await this.sendRequest(
            n,
            "wc_pairingDelete",
            Ut("USER_DISCONNECTED")
          ),
          await this.deletePairing(n));
      }),
      (this.formatUriFromPairing = (i) => {
        this.isInitialized();
        const { topic: n, relay: a, expiry: f, methods: h } = i,
          b = this.core.crypto.keychain.get(n);
        return H1({
          protocol: this.core.protocol,
          version: this.core.version,
          topic: n,
          symKey: b,
          relay: a,
          expiryTimestamp: f,
          methods: h,
        });
      }),
      (this.sendRequest = async (i, n, a) => {
        const f = xs(n, a),
          h = await this.core.crypto.encode(i, f),
          b = Oo[n].req;
        return (
          this.core.history.set(i, f), this.core.relayer.publish(i, h, b), f.id
        );
      }),
      (this.sendResult = async (i, n, a) => {
        const f = Eu(i, a),
          h = await this.core.crypto.encode(n, f),
          b = await this.core.history.get(n, i),
          v = Oo[b.request.method].res;
        await this.core.relayer.publish(n, h, v),
          await this.core.history.resolve(f);
      }),
      (this.sendError = async (i, n, a) => {
        const f = Su(i, a),
          h = await this.core.crypto.encode(n, f),
          b = await this.core.history.get(n, i),
          v = Oo[b.request.method]
            ? Oo[b.request.method].res
            : Oo.unregistered_method.res;
        await this.core.relayer.publish(n, h, v),
          await this.core.history.resolve(f);
      }),
      (this.deletePairing = async (i, n) => {
        await this.core.relayer.unsubscribe(i),
          await Promise.all([
            this.pairings.delete(i, Ut("USER_DISCONNECTED")),
            this.core.crypto.deleteSymKey(i),
            n ? Promise.resolve() : this.core.expirer.del(i),
          ]);
      }),
      (this.cleanup = async () => {
        const i = this.pairings.getAll().filter((n) => _s(n.expiry));
        await Promise.all(i.map((n) => this.deletePairing(n.topic)));
      }),
      (this.onRelayEventRequest = (i) => {
        const { topic: n, payload: a } = i;
        switch (a.method) {
          case "wc_pairingPing":
            return this.onPairingPingRequest(n, a);
          case "wc_pairingDelete":
            return this.onPairingDeleteRequest(n, a);
          default:
            return this.onUnknownRpcMethodRequest(n, a);
        }
      }),
      (this.onRelayEventResponse = async (i) => {
        const { topic: n, payload: a } = i,
          f = (await this.core.history.get(n, a.id)).request.method;
        switch (f) {
          case "wc_pairingPing":
            return this.onPairingPingResponse(n, a);
          default:
            return this.onUnknownRpcMethodResponse(f);
        }
      }),
      (this.onPairingPingRequest = async (i, n) => {
        const { id: a } = n;
        try {
          this.isValidPing({ topic: i }),
            await this.sendResult(a, i, !0),
            this.events.emit(Xs.ping, { id: a, topic: i });
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onPairingPingResponse = (i, n) => {
        const { id: a } = n;
        setTimeout(() => {
          Pn(n)
            ? this.events.emit(It("pairing_ping", a), {})
            : zi(n) &&
              this.events.emit(It("pairing_ping", a), { error: n.error });
        }, 500);
      }),
      (this.onPairingDeleteRequest = async (i, n) => {
        const { id: a } = n;
        try {
          this.isValidDisconnect({ topic: i }),
            await this.deletePairing(i),
            this.events.emit(Xs.delete, { id: a, topic: i });
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onUnknownRpcMethodRequest = async (i, n) => {
        const { id: a, method: f } = n;
        try {
          if (this.registeredMethods.includes(f)) return;
          const h = Ut("WC_METHOD_UNSUPPORTED", f);
          await this.sendError(a, i, h), this.logger.error(h);
        } catch (h) {
          await this.sendError(a, i, h), this.logger.error(h);
        }
      }),
      (this.onUnknownRpcMethodResponse = (i) => {
        this.registeredMethods.includes(i) ||
          this.logger.error(Ut("WC_METHOD_UNSUPPORTED", i));
      }),
      (this.isValidPair = (i, n) => {
        var a;
        if (!ci(i)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `pair() params: ${i}`
          );
          throw (n.setError(ts.malformed_pairing_uri), new Error(h));
        }
        if (!zS(i.uri)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `pair() uri: ${i.uri}`
          );
          throw (n.setError(ts.malformed_pairing_uri), new Error(h));
        }
        const f = k1(i == null ? void 0 : i.uri);
        if (!((a = f == null ? void 0 : f.relay) != null && a.protocol)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            "pair() uri#relay-protocol"
          );
          throw (n.setError(ts.malformed_pairing_uri), new Error(h));
        }
        if (!(f != null && f.symKey)) {
          const { message: h } = Ae("MISSING_OR_INVALID", "pair() uri#symKey");
          throw (n.setError(ts.malformed_pairing_uri), new Error(h));
        }
        if (
          f != null &&
          f.expiryTimestamp &&
          Se.toMiliseconds(f == null ? void 0 : f.expiryTimestamp) < Date.now()
        ) {
          n.setError(ts.pairing_expired);
          const { message: h } = Ae(
            "EXPIRED",
            "pair() URI has expired. Please try again with a new connection URI."
          );
          throw new Error(h);
        }
      }),
      (this.isValidPing = async (i) => {
        if (!ci(i)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `ping() params: ${i}`
          );
          throw new Error(a);
        }
        const { topic: n } = i;
        await this.isValidPairingTopic(n);
      }),
      (this.isValidDisconnect = async (i) => {
        if (!ci(i)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `disconnect() params: ${i}`
          );
          throw new Error(a);
        }
        const { topic: n } = i;
        await this.isValidPairingTopic(n);
      }),
      (this.isValidPairingTopic = async (i) => {
        if (!fr(i, !1)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `pairing topic should be a string: ${i}`
          );
          throw new Error(n);
        }
        if (!this.pairings.keys.includes(i)) {
          const { message: n } = Ae(
            "NO_MATCHING_KEY",
            `pairing topic doesn't exist: ${i}`
          );
          throw new Error(n);
        }
        if (_s(this.pairings.get(i).expiry)) {
          await this.deletePairing(i);
          const { message: n } = Ae("EXPIRED", `pairing topic: ${i}`);
          throw new Error(n);
        }
      }),
      (this.core = e),
      (this.logger = Qr(t, this.name)),
      (this.pairings = new ua(
        this.core,
        this.logger,
        this.name,
        this.storagePrefix
      ));
  }
  get context() {
    return pi(this.logger);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  registerRelayerEvents() {
    this.core.relayer.on(Wr.message, async (e) => {
      const { topic: t, message: i, transportType: n } = e;
      if (
        !this.pairings.keys.includes(t) ||
        n === Kt.link_mode ||
        this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i))
      )
        return;
      const a = await this.core.crypto.decode(t, i);
      try {
        Sd(a)
          ? (this.core.history.set(t, a),
            this.onRelayEventRequest({ topic: t, payload: a }))
          : Mu(a) &&
            (await this.core.history.resolve(a),
            await this.onRelayEventResponse({ topic: t, payload: a }),
            this.core.history.delete(t, a.id));
      } catch (f) {
        this.logger.error(f);
      }
    });
  }
  registerExpirerEvents() {
    this.core.expirer.on($i.expired, async (e) => {
      const { topic: t } = Kv(e.target);
      t &&
        this.pairings.keys.includes(t) &&
        (await this.deletePairing(t, !0),
        this.events.emit(Xs.expire, { topic: t }));
    });
  }
}
class JP extends _I {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.records = new Map()),
      (this.events = new Wi.EventEmitter()),
      (this.name = Kx),
      (this.version = Vx),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = Un),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.records.set(i.id, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.set = (i, n, a) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Setting JSON-RPC request history record"),
          this.logger.trace({
            type: "method",
            method: "set",
            topic: i,
            request: n,
            chainId: a,
          }),
          this.records.has(n.id))
        )
          return;
        const f = {
          id: n.id,
          topic: i,
          request: { method: n.method, params: n.params || null },
          chainId: a,
          expiry: vr(Se.THIRTY_DAYS),
        };
        this.records.set(f.id, f),
          this.persist(),
          this.events.emit(un.created, f);
      }),
      (this.resolve = async (i) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Updating JSON-RPC response history record"),
          this.logger.trace({ type: "method", method: "update", response: i }),
          !this.records.has(i.id))
        )
          return;
        const n = await this.getRecord(i.id);
        typeof n.response > "u" &&
          ((n.response = zi(i) ? { error: i.error } : { result: i.result }),
          this.records.set(n.id, n),
          this.persist(),
          this.events.emit(un.updated, n));
      }),
      (this.get = async (i, n) => (
        this.isInitialized(),
        this.logger.debug("Getting record"),
        this.logger.trace({ type: "method", method: "get", topic: i, id: n }),
        await this.getRecord(n)
      )),
      (this.delete = (i, n) => {
        this.isInitialized(),
          this.logger.debug("Deleting record"),
          this.logger.trace({ type: "method", method: "delete", id: n }),
          this.values.forEach((a) => {
            if (a.topic === i) {
              if (typeof n < "u" && a.id !== n) return;
              this.records.delete(a.id), this.events.emit(un.deleted, a);
            }
          }),
          this.persist();
      }),
      (this.exists = async (i, n) => (
        this.isInitialized(),
        this.records.has(n) ? (await this.getRecord(n)).topic === i : !1
      )),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.logger = Qr(t, this.name));
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get size() {
    return this.records.size;
  }
  get keys() {
    return Array.from(this.records.keys());
  }
  get values() {
    return Array.from(this.records.values());
  }
  get pending() {
    const e = [];
    return (
      this.values.forEach((t) => {
        if (typeof t.response < "u") return;
        const i = {
          topic: t.topic,
          request: xs(t.request.method, t.request.params, t.id),
          chainId: t.chainId,
        };
        return e.push(i);
      }),
      e
    );
  }
  async setJsonRpcRecords(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getJsonRpcRecords() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getRecord(e) {
    this.isInitialized();
    const t = this.records.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  async persist() {
    await this.setJsonRpcRecords(this.values), this.events.emit(un.sync);
  }
  async restore() {
    try {
      const e = await this.getJsonRpcRecords();
      if (typeof e > "u" || !e.length) return;
      if (this.records.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored records for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          records: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore records for ${this.name}`),
        this.logger.error(e);
    }
  }
  registerEventListeners() {
    this.events.on(un.created, (e) => {
      const t = un.created;
      this.logger.info(`Emitting ${t}`),
        this.logger.debug({ type: "event", event: t, record: e });
    }),
      this.events.on(un.updated, (e) => {
        const t = un.updated;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.events.on(un.deleted, (e) => {
        const t = un.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.core.heartbeat.on(to.pulse, () => {
        this.cleanup();
      });
  }
  cleanup() {
    try {
      this.isInitialized();
      let e = !1;
      this.records.forEach((t) => {
        Se.toMiliseconds(t.expiry || 0) - Date.now() <= 0 &&
          (this.logger.info(`Deleting expired history log: ${t.id}`),
          this.records.delete(t.id),
          this.events.emit(un.deleted, t, !1),
          (e = !0));
      }),
        e && this.persist();
    } catch (e) {
      this.logger.warn(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class YP extends xI {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.expirations = new Map()),
      (this.events = new Wi.EventEmitter()),
      (this.name = Gx),
      (this.version = Wx),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = Un),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.expirations.set(i.target, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.has = (i) => {
        try {
          const n = this.formatTarget(i);
          return typeof this.getExpiration(n) < "u";
        } catch {
          return !1;
        }
      }),
      (this.set = (i, n) => {
        this.isInitialized();
        const a = this.formatTarget(i),
          f = { target: a, expiry: n };
        this.expirations.set(a, f),
          this.checkExpiry(a, f),
          this.events.emit($i.created, { target: a, expiration: f });
      }),
      (this.get = (i) => {
        this.isInitialized();
        const n = this.formatTarget(i);
        return this.getExpiration(n);
      }),
      (this.del = (i) => {
        if ((this.isInitialized(), this.has(i))) {
          const n = this.formatTarget(i),
            a = this.getExpiration(n);
          this.expirations.delete(n),
            this.events.emit($i.deleted, { target: n, expiration: a });
        }
      }),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.logger = Qr(t, this.name));
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.expirations.size;
  }
  get keys() {
    return Array.from(this.expirations.keys());
  }
  get values() {
    return Array.from(this.expirations.values());
  }
  formatTarget(e) {
    if (typeof e == "string") return c9(e);
    if (typeof e == "number") return f9(e);
    const { message: t } = Ae("UNKNOWN_TYPE", `Target type: ${typeof e}`);
    throw new Error(t);
  }
  async setExpirations(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getExpirations() {
    return await this.core.storage.getItem(this.storageKey);
  }
  async persist() {
    await this.setExpirations(this.values), this.events.emit($i.sync);
  }
  async restore() {
    try {
      const e = await this.getExpirations();
      if (typeof e > "u" || !e.length) return;
      if (this.expirations.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored expirations for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          expirations: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore expirations for ${this.name}`),
        this.logger.error(e);
    }
  }
  getExpiration(e) {
    const t = this.expirations.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.warn(i), new Error(i));
    }
    return t;
  }
  checkExpiry(e, t) {
    const { expiry: i } = t;
    Se.toMiliseconds(i) - Date.now() <= 0 && this.expire(e, t);
  }
  expire(e, t) {
    this.expirations.delete(e),
      this.events.emit($i.expired, { target: e, expiration: t });
  }
  checkExpirations() {
    this.core.relayer.connected &&
      this.expirations.forEach((e, t) => this.checkExpiry(t, e));
  }
  registerEventListeners() {
    this.core.heartbeat.on(to.pulse, () => this.checkExpirations()),
      this.events.on($i.created, (e) => {
        const t = $i.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on($i.expired, (e) => {
        const t = $i.expired;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on($i.deleted, (e) => {
        const t = $i.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
var Qt = {};
Object.defineProperty(Qt, "__esModule", { value: !0 }),
  (Qt.getLocalStorage =
    Qt.getLocalStorageOrThrow =
    Qt.getCrypto =
    Qt.getCryptoOrThrow =
    Qt.getLocation =
    Qt.getLocationOrThrow =
    Qt.getNavigator =
    Qt.getNavigatorOrThrow =
    hm =
    Qt.getDocument =
    Qt.getDocumentOrThrow =
    Qt.getFromWindowOrThrow =
    Qt.getFromWindow =
      void 0);
function ha(r) {
  let e;
  return typeof window < "u" && typeof window[r] < "u" && (e = window[r]), e;
}
Qt.getFromWindow = ha;
function ro(r) {
  const e = ha(r);
  if (!e) throw new Error(`${r} is not defined in Window`);
  return e;
}
Qt.getFromWindowOrThrow = ro;
function QP() {
  return ro("document");
}
Qt.getDocumentOrThrow = QP;
function XP() {
  return ha("document");
}
var hm = (Qt.getDocument = XP);
function ZP() {
  return ro("navigator");
}
Qt.getNavigatorOrThrow = ZP;
function eO() {
  return ha("navigator");
}
Qt.getNavigator = eO;
function tO() {
  return ro("location");
}
Qt.getLocationOrThrow = tO;
function rO() {
  return ha("location");
}
Qt.getLocation = rO;
function iO() {
  return ro("crypto");
}
Qt.getCryptoOrThrow = iO;
function nO() {
  return ha("crypto");
}
Qt.getCrypto = nO;
function sO() {
  return ro("localStorage");
}
Qt.getLocalStorageOrThrow = sO;
function aO() {
  return ha("localStorage");
}
Qt.getLocalStorage = aO;
class oO extends DI {
  constructor(e, t, i) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.store = i),
      (this.name = Jx),
      (this.verifyUrlV3 = Qx),
      (this.storagePrefix = Un),
      (this.version = Qb),
      (this.init = async () => {
        var n;
        this.isDevEnv ||
          ((this.publicKey = await this.store.getItem(this.storeKey)),
          this.publicKey &&
            Se.toMiliseconds(
              (n = this.publicKey) == null ? void 0 : n.expiresAt
            ) < Date.now() &&
            (this.logger.debug("verify v2 public key expired"),
            await this.removePublicKey()));
      }),
      (this.register = async (n) => {
        if (!sc() || this.isDevEnv) return;
        const a = window.location.origin,
          { id: f, decryptedId: h } = n,
          b = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${f}&decryptedId=${h}`;
        try {
          const v = hm(),
            y = this.startAbortTimer(Se.ONE_SECOND * 5),
            S = await new Promise((O, P) => {
              const C = () => {
                window.removeEventListener("message", V),
                  v.body.removeChild(H),
                  P("attestation aborted");
              };
              this.abortController.signal.addEventListener("abort", C);
              const H = v.createElement("iframe");
              (H.src = b),
                (H.style.display = "none"),
                H.addEventListener("error", C, {
                  signal: this.abortController.signal,
                });
              const V = (Q) => {
                if (Q.data && typeof Q.data == "string")
                  try {
                    const j = JSON.parse(Q.data);
                    if (j.type === "verify_attestation") {
                      if (Nl(j.attestation).payload.id !== f) return;
                      clearInterval(y),
                        v.body.removeChild(H),
                        this.abortController.signal.removeEventListener(
                          "abort",
                          C
                        ),
                        window.removeEventListener("message", V),
                        O(j.attestation === null ? "" : j.attestation);
                    }
                  } catch (j) {
                    this.logger.warn(j);
                  }
              };
              v.body.appendChild(H),
                window.addEventListener("message", V, {
                  signal: this.abortController.signal,
                });
            });
          return this.logger.debug("jwt attestation", S), S;
        } catch (v) {
          this.logger.warn(v);
        }
        return "";
      }),
      (this.resolve = async (n) => {
        if (this.isDevEnv) return "";
        const { attestationId: a, hash: f, encryptedId: h } = n;
        if (a === "") {
          this.logger.debug("resolve: attestationId is empty, skipping");
          return;
        }
        if (a) {
          if (Nl(a).payload.id !== h) return;
          const v = await this.isValidJwtAttestation(a);
          if (v) {
            if (!v.isVerified) {
              this.logger.warn(
                "resolve: jwt attestation: origin url not verified"
              );
              return;
            }
            return v;
          }
        }
        if (!f) return;
        const b = this.getVerifyUrl(n == null ? void 0 : n.verifyUrl);
        return this.fetchAttestation(f, b);
      }),
      (this.fetchAttestation = async (n, a) => {
        this.logger.debug(`resolving attestation: ${n} from url: ${a}`);
        const f = this.startAbortTimer(Se.ONE_SECOND * 5),
          h = await fetch(`${a}/attestation/${n}?v2Supported=true`, {
            signal: this.abortController.signal,
          });
        return clearTimeout(f), h.status === 200 ? await h.json() : void 0;
      }),
      (this.getVerifyUrl = (n) => {
        let a = n || Ho;
        return (
          Xx.includes(a) ||
            (this.logger.info(
              `verify url: ${a}, not included in trusted list, assigning default: ${Ho}`
            ),
            (a = Ho)),
          a
        );
      }),
      (this.fetchPublicKey = async () => {
        try {
          this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);
          const n = this.startAbortTimer(Se.FIVE_SECONDS),
            a = await fetch(`${this.verifyUrlV3}/public-key`, {
              signal: this.abortController.signal,
            });
          return clearTimeout(n), await a.json();
        } catch (n) {
          this.logger.warn(n);
        }
      }),
      (this.persistPublicKey = async (n) => {
        this.logger.debug("persisting public key to local storage", n),
          await this.store.setItem(this.storeKey, n),
          (this.publicKey = n);
      }),
      (this.removePublicKey = async () => {
        this.logger.debug("removing verify v2 public key from storage"),
          await this.store.removeItem(this.storeKey),
          (this.publicKey = void 0);
      }),
      (this.isValidJwtAttestation = async (n) => {
        const a = await this.getPublicKey();
        try {
          if (a) return this.validateAttestation(n, a);
        } catch (h) {
          this.logger.error(h),
            this.logger.warn("error validating attestation");
        }
        const f = await this.fetchAndPersistPublicKey();
        try {
          if (f) return this.validateAttestation(n, f);
        } catch (h) {
          this.logger.error(h),
            this.logger.warn("error validating attestation");
        }
      }),
      (this.getPublicKey = async () =>
        this.publicKey
          ? this.publicKey
          : await this.fetchAndPersistPublicKey()),
      (this.fetchAndPersistPublicKey = async () => {
        if (this.fetchPromise) return await this.fetchPromise, this.publicKey;
        this.fetchPromise = new Promise(async (a) => {
          const f = await this.fetchPublicKey();
          f && (await this.persistPublicKey(f), a(f));
        });
        const n = await this.fetchPromise;
        return (this.fetchPromise = void 0), n;
      }),
      (this.validateAttestation = (n, a) => {
        const f = ES(n, a.publicKey),
          h = { hasExpired: Se.toMiliseconds(f.exp) < Date.now(), payload: f };
        if (h.hasExpired)
          throw (
            (this.logger.warn("resolve: jwt attestation expired"),
            new Error("JWT attestation expired"))
          );
        return {
          origin: h.payload.origin,
          isScam: h.payload.isScam,
          isVerified: h.payload.isVerified,
        };
      }),
      (this.logger = Qr(t, this.name)),
      (this.abortController = new AbortController()),
      (this.isDevEnv = ld()),
      this.init();
  }
  get storeKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//verify:public:key"
    );
  }
  get context() {
    return pi(this.logger);
  }
  startAbortTimer(e) {
    return (
      (this.abortController = new AbortController()),
      setTimeout(() => this.abortController.abort(), Se.toMiliseconds(e))
    );
  }
}
class cO extends PI {
  constructor(e, t) {
    super(e, t),
      (this.projectId = e),
      (this.logger = t),
      (this.context = Zx),
      (this.registerDeviceToken = async (i) => {
        const {
            clientId: n,
            token: a,
            notificationType: f,
            enableEncrypted: h = !1,
          } = i,
          b = `${eD}/${this.projectId}/clients`;
        await fetch(b, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            client_id: n,
            type: f,
            token: a,
            always_raw: h,
          }),
        });
      }),
      (this.logger = Qr(t, this.context));
  }
}
var fO = Object.defineProperty,
  Pg = Object.getOwnPropertySymbols,
  uO = Object.prototype.hasOwnProperty,
  hO = Object.prototype.propertyIsEnumerable,
  Og = (r, e, t) =>
    e in r
      ? fO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  No = (r, e) => {
    for (var t in e || (e = {})) uO.call(e, t) && Og(r, t, e[t]);
    if (Pg) for (var t of Pg(e)) hO.call(e, t) && Og(r, t, e[t]);
    return r;
  };
class lO extends OI {
  constructor(e, t, i = !0) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.context = rD),
      (this.storagePrefix = Un),
      (this.storageVersion = tD),
      (this.events = new Map()),
      (this.shouldPersist = !1),
      (this.init = async () => {
        if (!ld())
          try {
            const n = {
              eventId: c1(),
              timestamp: Date.now(),
              domain: this.getAppDomain(),
              props: {
                event: "INIT",
                type: "",
                properties: {
                  client_id: await this.core.crypto.getClientId(),
                  user_agent: jv(
                    this.core.relayer.protocol,
                    this.core.relayer.version,
                    Gl
                  ),
                },
              },
            };
            await this.sendEvent([n]);
          } catch (n) {
            this.logger.warn(n);
          }
      }),
      (this.createEvent = (n) => {
        const {
            event: a = "ERROR",
            type: f = "",
            properties: { topic: h, trace: b },
          } = n,
          v = c1(),
          y = this.core.projectId || "",
          S = Date.now(),
          O = No(
            {
              eventId: v,
              timestamp: S,
              props: { event: a, type: f, properties: { topic: h, trace: b } },
              bundleId: y,
              domain: this.getAppDomain(),
            },
            this.setMethods(v)
          );
        return (
          this.telemetryEnabled &&
            (this.events.set(v, O), (this.shouldPersist = !0)),
          O
        );
      }),
      (this.getEvent = (n) => {
        const { eventId: a, topic: f } = n;
        if (a) return this.events.get(a);
        const h = Array.from(this.events.values()).find(
          (b) => b.props.properties.topic === f
        );
        if (h) return No(No({}, h), this.setMethods(h.eventId));
      }),
      (this.deleteEvent = (n) => {
        const { eventId: a } = n;
        this.events.delete(a), (this.shouldPersist = !0);
      }),
      (this.setEventListeners = () => {
        this.core.heartbeat.on(to.pulse, async () => {
          this.shouldPersist && (await this.persist()),
            this.events.forEach((n) => {
              Se.fromMiliseconds(Date.now()) - Se.fromMiliseconds(n.timestamp) >
                iD &&
                (this.events.delete(n.eventId), (this.shouldPersist = !0));
            });
        });
      }),
      (this.setMethods = (n) => ({
        addTrace: (a) => this.addTrace(n, a),
        setError: (a) => this.setError(n, a),
      })),
      (this.addTrace = (n, a) => {
        const f = this.events.get(n);
        f &&
          (f.props.properties.trace.push(a),
          this.events.set(n, f),
          (this.shouldPersist = !0));
      }),
      (this.setError = (n, a) => {
        const f = this.events.get(n);
        f &&
          ((f.props.type = a),
          (f.timestamp = Date.now()),
          this.events.set(n, f),
          (this.shouldPersist = !0));
      }),
      (this.persist = async () => {
        await this.core.storage.setItem(
          this.storageKey,
          Array.from(this.events.values())
        ),
          (this.shouldPersist = !1);
      }),
      (this.restore = async () => {
        try {
          const n = (await this.core.storage.getItem(this.storageKey)) || [];
          if (!n.length) return;
          n.forEach((a) => {
            this.events.set(
              a.eventId,
              No(No({}, a), this.setMethods(a.eventId))
            );
          });
        } catch (n) {
          this.logger.warn(n);
        }
      }),
      (this.submit = async () => {
        if (!this.telemetryEnabled || this.events.size === 0) return;
        const n = [];
        for (const [a, f] of this.events) f.props.type && n.push(f);
        if (n.length !== 0)
          try {
            if ((await this.sendEvent(n)).ok)
              for (const a of n)
                this.events.delete(a.eventId), (this.shouldPersist = !0);
          } catch (a) {
            this.logger.warn(a);
          }
      }),
      (this.sendEvent = async (n) => {
        const a = this.getAppDomain() ? "" : "&sp=desktop";
        return await fetch(
          `${nD}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Gl}${a}`,
          { method: "POST", body: JSON.stringify(n) }
        );
      }),
      (this.getAppDomain = () => $v().url),
      (this.logger = Qr(t, this.context)),
      (this.telemetryEnabled = i),
      i
        ? this.restore().then(async () => {
            await this.submit(), this.setEventListeners();
          })
        : this.persist();
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.storageVersion +
      this.core.customStoragePrefix +
      "//" +
      this.context
    );
  }
}
var dO = Object.defineProperty,
  Cg = Object.getOwnPropertySymbols,
  pO = Object.prototype.hasOwnProperty,
  gO = Object.prototype.propertyIsEnumerable,
  Rg = (r, e, t) =>
    e in r
      ? dO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ng = (r, e) => {
    for (var t in e || (e = {})) pO.call(e, t) && Rg(r, t, e[t]);
    if (Cg) for (var t of Cg(e)) gO.call(e, t) && Rg(r, t, e[t]);
    return r;
  };
class Id extends wI {
  constructor(e) {
    var t;
    super(e),
      (this.protocol = Yb),
      (this.version = Qb),
      (this.name = Md),
      (this.events = new Wi.EventEmitter()),
      (this.initialized = !1),
      (this.on = (f, h) => this.events.on(f, h)),
      (this.once = (f, h) => this.events.once(f, h)),
      (this.off = (f, h) => this.events.off(f, h)),
      (this.removeListener = (f, h) => this.events.removeListener(f, h)),
      (this.dispatchEnvelope = ({ topic: f, message: h, sessionExists: b }) => {
        if (!f || !h) return;
        const v = {
          topic: f,
          message: h,
          publishedAt: Date.now(),
          transportType: Kt.link_mode,
        };
        this.relayer.onLinkMessageEvent(v, { sessionExists: b });
      }),
      (this.projectId = e == null ? void 0 : e.projectId),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || Zb),
      (this.customStoragePrefix =
        e != null && e.customStoragePrefix ? `:${e.customStoragePrefix}` : "");
    const i = Au({
        level:
          typeof (e == null ? void 0 : e.logger) == "string" && e.logger
            ? e.logger
            : Sx.logger,
      }),
      { logger: n, chunkLoggerController: a } = yI({
        opts: i,
        maxSizeInBytes: e == null ? void 0 : e.maxLogBlobSizeInBytes,
        loggerOverride: e == null ? void 0 : e.logger,
      });
    (this.logChunkController = a),
      (t = this.logChunkController) != null &&
        t.downloadLogsBlobInBrowser &&
        (window.downloadLogsBlobInBrowser = async () => {
          var f, h;
          (f = this.logChunkController) != null &&
            f.downloadLogsBlobInBrowser &&
            ((h = this.logChunkController) == null ||
              h.downloadLogsBlobInBrowser({
                clientId: await this.crypto.getClientId(),
              }));
        }),
      (this.logger = Qr(n, this.name)),
      (this.heartbeat = new vM()),
      (this.crypto = new OP(
        this,
        this.logger,
        e == null ? void 0 : e.keychain
      )),
      (this.history = new JP(this, this.logger)),
      (this.expirer = new YP(this, this.logger)),
      (this.storage =
        e != null && e.storage
          ? e.storage
          : new KM(Ng(Ng({}, Mx), e == null ? void 0 : e.storageOptions))),
      (this.relayer = new HP({
        core: this,
        logger: this.logger,
        relayUrl: this.relayUrl,
        projectId: this.projectId,
      })),
      (this.pairing = new WP(this, this.logger)),
      (this.verify = new oO(this, this.logger, this.storage)),
      (this.echoClient = new cO(this.projectId || "", this.logger)),
      (this.linkModeSupportedApps = []),
      (this.eventClient = new lO(
        this,
        this.logger,
        e == null ? void 0 : e.telemetryEnabled
      ));
  }
  static async init(e) {
    const t = new Id(e);
    await t.initialize();
    const i = await t.crypto.getClientId();
    return await t.storage.setItem(Ux, i), t;
  }
  get context() {
    return pi(this.logger);
  }
  async start() {
    this.initialized || (await this.initialize());
  }
  async getLogsBlob() {
    var e;
    return (e = this.logChunkController) == null
      ? void 0
      : e.logsToBlob({ clientId: await this.crypto.getClientId() });
  }
  async addLinkModeSupportedApp(e) {
    this.linkModeSupportedApps.includes(e) ||
      (this.linkModeSupportedApps.push(e),
      await this.storage.setItem(gg, this.linkModeSupportedApps));
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.crypto.init(),
        await this.history.init(),
        await this.expirer.init(),
        await this.relayer.init(),
        await this.heartbeat.init(),
        await this.pairing.init(),
        this.eventClient.init(),
        (this.linkModeSupportedApps = (await this.storage.getItem(gg)) || []),
        (this.initialized = !0),
        this.logger.info("Core Initialization Success");
    } catch (e) {
      throw (
        (this.logger.warn(
          `Core Initialization Failure at epoch ${Date.now()}`,
          e
        ),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
const vO = Id,
  lm = "wc",
  dm = 2,
  pm = "client",
  xd = `${lm}@${dm}:${pm}:`,
  vl = {
    name: pm,
    logger: "error",
    controller: !1,
    relayUrl: "wss://relay.walletconnect.org",
  },
  Tg = "WALLETCONNECT_DEEPLINK_CHOICE",
  bO = "proposal",
  gm = "Proposal expired",
  mO = "session",
  Na = Se.SEVEN_DAYS,
  yO = "engine",
  Ar = {
    wc_sessionPropose: {
      req: { ttl: Se.FIVE_MINUTES, prompt: !0, tag: 1100 },
      res: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1101 },
      reject: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1120 },
      autoReject: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1121 },
    },
    wc_sessionSettle: {
      req: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1102 },
      res: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1103 },
    },
    wc_sessionUpdate: {
      req: { ttl: Se.ONE_DAY, prompt: !1, tag: 1104 },
      res: { ttl: Se.ONE_DAY, prompt: !1, tag: 1105 },
    },
    wc_sessionExtend: {
      req: { ttl: Se.ONE_DAY, prompt: !1, tag: 1106 },
      res: { ttl: Se.ONE_DAY, prompt: !1, tag: 1107 },
    },
    wc_sessionRequest: {
      req: { ttl: Se.FIVE_MINUTES, prompt: !0, tag: 1108 },
      res: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1109 },
    },
    wc_sessionEvent: {
      req: { ttl: Se.FIVE_MINUTES, prompt: !0, tag: 1110 },
      res: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1111 },
    },
    wc_sessionDelete: {
      req: { ttl: Se.ONE_DAY, prompt: !1, tag: 1112 },
      res: { ttl: Se.ONE_DAY, prompt: !1, tag: 1113 },
    },
    wc_sessionPing: {
      req: { ttl: Se.ONE_DAY, prompt: !1, tag: 1114 },
      res: { ttl: Se.ONE_DAY, prompt: !1, tag: 1115 },
    },
    wc_sessionAuthenticate: {
      req: { ttl: Se.ONE_HOUR, prompt: !0, tag: 1116 },
      res: { ttl: Se.ONE_HOUR, prompt: !1, tag: 1117 },
      reject: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1118 },
      autoReject: { ttl: Se.FIVE_MINUTES, prompt: !1, tag: 1119 },
    },
  },
  bl = { min: Se.FIVE_MINUTES, max: Se.SEVEN_DAYS },
  Mn = { idle: "IDLE", active: "ACTIVE" },
  wO = "request",
  _O = [
    "wc_sessionPropose",
    "wc_sessionRequest",
    "wc_authRequest",
    "wc_sessionAuthenticate",
  ],
  AO = "wc",
  EO = "auth",
  SO = "authKeys",
  MO = "pairingTopics",
  IO = "requests",
  xu = `${AO}@${1.5}:${EO}:`,
  qf = `${xu}:PUB_KEY`;
var xO = Object.defineProperty,
  DO = Object.defineProperties,
  PO = Object.getOwnPropertyDescriptors,
  Fg = Object.getOwnPropertySymbols,
  OO = Object.prototype.hasOwnProperty,
  CO = Object.prototype.propertyIsEnumerable,
  Bg = (r, e, t) =>
    e in r
      ? xO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  rr = (r, e) => {
    for (var t in e || (e = {})) OO.call(e, t) && Bg(r, t, e[t]);
    if (Fg) for (var t of Fg(e)) CO.call(e, t) && Bg(r, t, e[t]);
    return r;
  },
  ln = (r, e) => DO(r, PO(e));
class RO extends RI {
  constructor(e) {
    super(e),
      (this.name = yO),
      (this.events = new ed()),
      (this.initialized = !1),
      (this.requestQueue = { state: Mn.idle, queue: [] }),
      (this.sessionRequestQueue = { state: Mn.idle, queue: [] }),
      (this.requestQueueDelay = Se.ONE_SECOND),
      (this.expectedPairingMethodMap = new Map()),
      (this.recentlyDeletedMap = new Map()),
      (this.recentlyDeletedLimit = 200),
      (this.relayMessageCache = []),
      (this.init = async () => {
        this.initialized ||
          (await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          this.registerPairingEvents(),
          await this.registerLinkModeListeners(),
          this.client.core.pairing.register({ methods: Object.keys(Ar) }),
          (this.initialized = !0),
          setTimeout(() => {
            (this.sessionRequestQueue.queue = this.getPendingSessionRequests()),
              this.processSessionRequestQueue();
          }, Se.toMiliseconds(this.requestQueueDelay)));
      }),
      (this.connect = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        const i = ln(rr({}, t), {
          requiredNamespaces: t.requiredNamespaces || {},
          optionalNamespaces: t.optionalNamespaces || {},
        });
        await this.isValidConnect(i);
        const {
          pairingTopic: n,
          requiredNamespaces: a,
          optionalNamespaces: f,
          sessionProperties: h,
          relays: b,
        } = i;
        let v = n,
          y,
          S = !1;
        try {
          v && (S = this.client.core.pairing.pairings.get(v).active);
        } catch (U) {
          throw (
            (this.client.logger.error(`connect() -> pairing.get(${v}) failed`),
            U)
          );
        }
        if (!v || !S) {
          const { topic: U, uri: z } = await this.client.core.pairing.create();
          (v = U), (y = z);
        }
        if (!v) {
          const { message: U } = Ae(
            "NO_MATCHING_KEY",
            `connect() pairing topic: ${v}`
          );
          throw new Error(U);
        }
        const O = await this.client.core.crypto.generateKeyPair(),
          P = Ar.wc_sessionPropose.req.ttl || Se.FIVE_MINUTES,
          C = vr(P),
          H = rr(
            {
              requiredNamespaces: a,
              optionalNamespaces: f,
              relays: b ?? [{ protocol: Xb }],
              proposer: { publicKey: O, metadata: this.client.metadata },
              expiryTimestamp: C,
              pairingTopic: v,
            },
            h && { sessionProperties: h }
          ),
          { reject: V, resolve: Q, done: j } = Ys(P, gm);
        this.events.once(
          It("session_connect"),
          async ({ error: U, session: z }) => {
            if (U) V(U);
            else if (z) {
              z.self.publicKey = O;
              const G = ln(rr({}, z), {
                pairingTopic: H.pairingTopic,
                requiredNamespaces: H.requiredNamespaces,
                optionalNamespaces: H.optionalNamespaces,
                transportType: Kt.relay,
              });
              await this.client.session.set(z.topic, G),
                await this.setExpiry(z.topic, z.expiry),
                v &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: v,
                    metadata: z.peer.metadata,
                  })),
                this.cleanupDuplicatePairings(G),
                Q(G);
            }
          }
        );
        const Y = await this.sendRequest({
          topic: v,
          method: "wc_sessionPropose",
          params: H,
          throwOnFailedPublish: !0,
        });
        return (
          await this.setProposal(Y, rr({ id: Y }, H)), { uri: y, approval: j }
        );
      }),
      (this.pair = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          return await this.client.core.pairing.pair(t);
        } catch (i) {
          throw (this.client.logger.error("pair() failed"), i);
        }
      }),
      (this.approve = async (t) => {
        var i, n, a;
        const f = this.client.core.eventClient.createEvent({
          properties: {
            topic:
              (i = t == null ? void 0 : t.id) == null ? void 0 : i.toString(),
            trace: [hn.session_approve_started],
          },
        });
        try {
          this.isInitialized(), await this.confirmOnlineStateOrThrow();
        } catch (F) {
          throw (f.setError(Ws.no_internet_connection), F);
        }
        try {
          await this.isValidProposalId(t == null ? void 0 : t.id);
        } catch (F) {
          throw (
            (this.client.logger.error(
              `approve() -> proposal.get(${t == null ? void 0 : t.id}) failed`
            ),
            f.setError(Ws.proposal_not_found),
            F)
          );
        }
        try {
          await this.isValidApprove(t);
        } catch (F) {
          throw (
            (this.client.logger.error("approve() -> isValidApprove() failed"),
            f.setError(Ws.session_approve_namespace_validation_failure),
            F)
          );
        }
        const {
            id: h,
            relayProtocol: b,
            namespaces: v,
            sessionProperties: y,
            sessionConfig: S,
          } = t,
          O = this.client.proposal.get(h);
        this.client.core.eventClient.deleteEvent({ eventId: f.eventId });
        const {
          pairingTopic: P,
          proposer: C,
          requiredNamespaces: H,
          optionalNamespaces: V,
        } = O;
        let Q =
          (n = this.client.core.eventClient) == null
            ? void 0
            : n.getEvent({ topic: P });
        Q ||
          (Q =
            (a = this.client.core.eventClient) == null
              ? void 0
              : a.createEvent({
                  type: hn.session_approve_started,
                  properties: {
                    topic: P,
                    trace: [
                      hn.session_approve_started,
                      hn.session_namespaces_validation_success,
                    ],
                  },
                }));
        const j = await this.client.core.crypto.generateKeyPair(),
          Y = C.publicKey,
          U = await this.client.core.crypto.generateSharedKey(j, Y),
          z = rr(
            rr(
              {
                relay: { protocol: b ?? "irn" },
                namespaces: v,
                controller: { publicKey: j, metadata: this.client.metadata },
                expiry: vr(Na),
              },
              y && { sessionProperties: y }
            ),
            S && { sessionConfig: S }
          ),
          G = Kt.relay;
        Q.addTrace(hn.subscribing_session_topic);
        try {
          await this.client.core.relayer.subscribe(U, { transportType: G });
        } catch (F) {
          throw (Q.setError(Ws.subscribe_session_topic_failure), F);
        }
        Q.addTrace(hn.subscribe_session_topic_success);
        const A = ln(rr({}, z), {
          topic: U,
          requiredNamespaces: H,
          optionalNamespaces: V,
          pairingTopic: P,
          acknowledged: !1,
          self: z.controller,
          peer: { publicKey: C.publicKey, metadata: C.metadata },
          controller: j,
          transportType: Kt.relay,
        });
        await this.client.session.set(U, A), Q.addTrace(hn.store_session);
        try {
          Q.addTrace(hn.publishing_session_settle),
            await this.sendRequest({
              topic: U,
              method: "wc_sessionSettle",
              params: z,
              throwOnFailedPublish: !0,
            }).catch((F) => {
              throw (
                (Q == null || Q.setError(Ws.session_settle_publish_failure), F)
              );
            }),
            Q.addTrace(hn.session_settle_publish_success),
            Q.addTrace(hn.publishing_session_approve),
            await this.sendResult({
              id: h,
              topic: P,
              result: {
                relay: { protocol: b ?? "irn" },
                responderPublicKey: j,
              },
              throwOnFailedPublish: !0,
            }).catch((F) => {
              throw (
                (Q == null || Q.setError(Ws.session_approve_publish_failure), F)
              );
            }),
            Q.addTrace(hn.session_approve_publish_success);
        } catch (F) {
          throw (
            (this.client.logger.error(F),
            this.client.session.delete(U, Ut("USER_DISCONNECTED")),
            await this.client.core.relayer.unsubscribe(U),
            F)
          );
        }
        return (
          this.client.core.eventClient.deleteEvent({ eventId: Q.eventId }),
          await this.client.core.pairing.updateMetadata({
            topic: P,
            metadata: C.metadata,
          }),
          await this.client.proposal.delete(h, Ut("USER_DISCONNECTED")),
          await this.client.core.pairing.activate({ topic: P }),
          await this.setExpiry(U, vr(Na)),
          {
            topic: U,
            acknowledged: () => Promise.resolve(this.client.session.get(U)),
          }
        );
      }),
      (this.reject = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidReject(t);
        } catch (f) {
          throw (
            (this.client.logger.error("reject() -> isValidReject() failed"), f)
          );
        }
        const { id: i, reason: n } = t;
        let a;
        try {
          a = this.client.proposal.get(i).pairingTopic;
        } catch (f) {
          throw (
            (this.client.logger.error(`reject() -> proposal.get(${i}) failed`),
            f)
          );
        }
        a &&
          (await this.sendError({
            id: i,
            topic: a,
            error: n,
            rpcOpts: Ar.wc_sessionPropose.reject,
          }),
          await this.client.proposal.delete(i, Ut("USER_DISCONNECTED")));
      }),
      (this.update = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidUpdate(t);
        } catch (S) {
          throw (
            (this.client.logger.error("update() -> isValidUpdate() failed"), S)
          );
        }
        const { topic: i, namespaces: n } = t,
          { done: a, resolve: f, reject: h } = Ys(),
          b = Es(),
          v = ea().toString(),
          y = this.client.session.get(i).namespaces;
        return (
          this.events.once(It("session_update", b), ({ error: S }) => {
            S ? h(S) : f();
          }),
          await this.client.session.update(i, { namespaces: n }),
          await this.sendRequest({
            topic: i,
            method: "wc_sessionUpdate",
            params: { namespaces: n },
            throwOnFailedPublish: !0,
            clientRpcId: b,
            relayRpcId: v,
          }).catch((S) => {
            this.client.logger.error(S),
              this.client.session.update(i, { namespaces: y }),
              h(S);
          }),
          { acknowledged: a }
        );
      }),
      (this.extend = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidExtend(t);
        } catch (b) {
          throw (
            (this.client.logger.error("extend() -> isValidExtend() failed"), b)
          );
        }
        const { topic: i } = t,
          n = Es(),
          { done: a, resolve: f, reject: h } = Ys();
        return (
          this.events.once(It("session_extend", n), ({ error: b }) => {
            b ? h(b) : f();
          }),
          await this.setExpiry(i, vr(Na)),
          this.sendRequest({
            topic: i,
            method: "wc_sessionExtend",
            params: {},
            clientRpcId: n,
            throwOnFailedPublish: !0,
          }).catch((b) => {
            h(b);
          }),
          { acknowledged: a }
        );
      }),
      (this.request = async (t) => {
        this.isInitialized();
        try {
          await this.isValidRequest(t);
        } catch (C) {
          throw (
            (this.client.logger.error("request() -> isValidRequest() failed"),
            C)
          );
        }
        const {
            chainId: i,
            request: n,
            topic: a,
            expiry: f = Ar.wc_sessionRequest.req.ttl,
          } = t,
          h = this.client.session.get(a);
        (h == null ? void 0 : h.transportType) === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const b = Es(),
          v = ea().toString(),
          {
            done: y,
            resolve: S,
            reject: O,
          } = Ys(f, "Request expired. Please try again.");
        this.events.once(
          It("session_request", b),
          ({ error: C, result: H }) => {
            C ? O(C) : S(H);
          }
        );
        const P = this.getAppLinkIfEnabled(h.peer.metadata, h.transportType);
        return P
          ? (await this.sendRequest({
              clientRpcId: b,
              relayRpcId: v,
              topic: a,
              method: "wc_sessionRequest",
              params: {
                request: ln(rr({}, n), { expiryTimestamp: vr(f) }),
                chainId: i,
              },
              expiry: f,
              throwOnFailedPublish: !0,
              appLink: P,
            }).catch((C) => O(C)),
            this.client.events.emit("session_request_sent", {
              topic: a,
              request: n,
              chainId: i,
              id: b,
            }),
            await y())
          : await Promise.all([
              new Promise(async (C) => {
                await this.sendRequest({
                  clientRpcId: b,
                  relayRpcId: v,
                  topic: a,
                  method: "wc_sessionRequest",
                  params: {
                    request: ln(rr({}, n), { expiryTimestamp: vr(f) }),
                    chainId: i,
                  },
                  expiry: f,
                  throwOnFailedPublish: !0,
                }).catch((H) => O(H)),
                  this.client.events.emit("session_request_sent", {
                    topic: a,
                    request: n,
                    chainId: i,
                    id: b,
                  }),
                  C();
              }),
              new Promise(async (C) => {
                var H;
                if (!((H = h.sessionConfig) != null && H.disableDeepLink)) {
                  const V = await l9(this.client.core.storage, Tg);
                  await u9({ id: b, topic: a, wcDeepLink: V });
                }
                C();
              }),
              y(),
            ]).then((C) => C[2]);
      }),
      (this.respond = async (t) => {
        this.isInitialized(), await this.isValidRespond(t);
        const { topic: i, response: n } = t,
          { id: a } = n,
          f = this.client.session.get(i);
        f.transportType === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const h = this.getAppLinkIfEnabled(f.peer.metadata, f.transportType);
        Pn(n)
          ? await this.sendResult({
              id: a,
              topic: i,
              result: n.result,
              throwOnFailedPublish: !0,
              appLink: h,
            })
          : zi(n) &&
            (await this.sendError({
              id: a,
              topic: i,
              error: n.error,
              appLink: h,
            })),
          this.cleanupAfterResponse(t);
      }),
      (this.ping = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidPing(t);
        } catch (n) {
          throw (this.client.logger.error("ping() -> isValidPing() failed"), n);
        }
        const { topic: i } = t;
        if (this.client.session.keys.includes(i)) {
          const n = Es(),
            a = ea().toString(),
            { done: f, resolve: h, reject: b } = Ys();
          this.events.once(It("session_ping", n), ({ error: v }) => {
            v ? b(v) : h();
          }),
            await Promise.all([
              this.sendRequest({
                topic: i,
                method: "wc_sessionPing",
                params: {},
                throwOnFailedPublish: !0,
                clientRpcId: n,
                relayRpcId: a,
              }),
              f(),
            ]);
        } else
          this.client.core.pairing.pairings.keys.includes(i) &&
            (await this.client.core.pairing.ping({ topic: i }));
      }),
      (this.emit = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidEmit(t);
        const { topic: i, event: n, chainId: a } = t,
          f = ea().toString();
        await this.sendRequest({
          topic: i,
          method: "wc_sessionEvent",
          params: { event: n, chainId: a },
          throwOnFailedPublish: !0,
          relayRpcId: f,
        });
      }),
      (this.disconnect = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidDisconnect(t);
        const { topic: i } = t;
        if (this.client.session.keys.includes(i))
          await this.sendRequest({
            topic: i,
            method: "wc_sessionDelete",
            params: Ut("USER_DISCONNECTED"),
            throwOnFailedPublish: !0,
          }),
            await this.deleteSession({ topic: i, emitEvent: !1 });
        else if (this.client.core.pairing.pairings.keys.includes(i))
          await this.client.core.pairing.disconnect({ topic: i });
        else {
          const { message: n } = Ae(
            "MISMATCHED_TOPIC",
            `Session or pairing topic not found: ${i}`
          );
          throw new Error(n);
        }
      }),
      (this.find = (t) => (
        this.isInitialized(),
        this.client.session.getAll().filter((i) => $S(i, t))
      )),
      (this.getPendingSessionRequests = () =>
        this.client.pendingRequest.getAll()),
      (this.authenticate = async (t, i) => {
        var n;
        this.isInitialized(), this.isValidAuthenticate(t);
        const a =
            i &&
            this.client.core.linkModeSupportedApps.includes(i) &&
            ((n = this.client.metadata.redirect) == null ? void 0 : n.linkMode),
          f = a ? Kt.link_mode : Kt.relay;
        f === Kt.relay && (await this.confirmOnlineStateOrThrow());
        const {
            chains: h,
            statement: b = "",
            uri: v,
            domain: y,
            nonce: S,
            type: O,
            exp: P,
            nbf: C,
            methods: H = [],
            expiry: V,
          } = t,
          Q = [...(t.resources || [])],
          { topic: j, uri: Y } = await this.client.core.pairing.create({
            methods: ["wc_sessionAuthenticate"],
            transportType: f,
          });
        this.client.logger.info({
          message: "Generated new pairing",
          pairing: { topic: j, uri: Y },
        });
        const U = await this.client.core.crypto.generateKeyPair(),
          z = Tf(U);
        if (
          (await Promise.all([
            this.client.auth.authKeys.set(qf, {
              responseTopic: z,
              publicKey: U,
            }),
            this.client.auth.pairingTopics.set(z, {
              topic: z,
              pairingTopic: j,
            }),
          ]),
          await this.client.core.relayer.subscribe(z, { transportType: f }),
          this.client.logger.info(`sending request to new pairing topic: ${j}`),
          H.length > 0)
        ) {
          const { namespace: x } = Uo(h[0]);
          let M = oS(x, "request", H);
          Nf(Q) && (M = fS(M, Q.pop())), Q.push(M);
        }
        const G =
            V && V > Ar.wc_sessionAuthenticate.req.ttl
              ? V
              : Ar.wc_sessionAuthenticate.req.ttl,
          A = {
            authPayload: {
              type: O ?? "caip122",
              chains: h,
              statement: b,
              aud: v,
              domain: y,
              version: "1",
              nonce: S,
              iat: new Date().toISOString(),
              exp: P,
              nbf: C,
              resources: Q,
            },
            requester: { publicKey: U, metadata: this.client.metadata },
            expiryTimestamp: vr(G),
          },
          F = {
            eip155: {
              chains: h,
              methods: [...new Set(["personal_sign", ...H])],
              events: ["chainChanged", "accountsChanged"],
            },
          },
          ae = {
            requiredNamespaces: {},
            optionalNamespaces: F,
            relays: [{ protocol: "irn" }],
            pairingTopic: j,
            proposer: { publicKey: U, metadata: this.client.metadata },
            expiryTimestamp: vr(Ar.wc_sessionPropose.req.ttl),
          },
          { done: de, resolve: B, reject: m } = Ys(G, "Request expired"),
          c = async ({ error: x, session: M }) => {
            if ((this.events.off(It("session_request", g), u), x)) m(x);
            else if (M) {
              (M.self.publicKey = U),
                await this.client.session.set(M.topic, M),
                await this.setExpiry(M.topic, M.expiry),
                j &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: j,
                    metadata: M.peer.metadata,
                  }));
              const d = this.client.session.get(M.topic);
              await this.deleteProposal(_), B({ session: d });
            }
          },
          u = async (x) => {
            var M, d, p;
            if (
              (await this.deletePendingAuthRequest(g, {
                message: "fulfilled",
                code: 0,
              }),
              x.error)
            ) {
              const k = Ut("WC_METHOD_UNSUPPORTED", "wc_sessionAuthenticate");
              return x.error.code === k.code
                ? void 0
                : (this.events.off(It("session_connect"), c),
                  m(x.error.message));
            }
            await this.deleteProposal(_),
              this.events.off(It("session_connect"), c);
            const { cacaos: N, responder: Z } = x.result,
              se = [],
              D = [];
            for (const k of N) {
              (await T1({ cacao: k, projectId: this.client.core.projectId })) ||
                (this.client.logger.error(k, "Signature verification failed"),
                m(
                  Ut(
                    "SESSION_SETTLEMENT_FAILED",
                    "Signature verification failed"
                  )
                ));
              const { p: K } = k,
                w = Nf(K.resources),
                $ = [N1(K.iss)],
                ne = Yf(K.iss);
              if (w) {
                const ce = F1(w),
                  ue = B1(w);
                se.push(...ce), $.push(...ue);
              }
              for (const ce of $) D.push(`${ce}:${ne}`);
            }
            const ee = await this.client.core.crypto.generateSharedKey(
              U,
              Z.publicKey
            );
            let q;
            se.length > 0 &&
              ((q = {
                topic: ee,
                acknowledged: !0,
                self: { publicKey: U, metadata: this.client.metadata },
                peer: Z,
                controller: Z.publicKey,
                expiry: vr(Na),
                requiredNamespaces: {},
                optionalNamespaces: {},
                relay: { protocol: "irn" },
                pairingTopic: j,
                namespaces: K1([...new Set(se)], [...new Set(D)]),
                transportType: f,
              }),
              await this.client.core.relayer.subscribe(ee, {
                transportType: f,
              }),
              await this.client.session.set(ee, q),
              j &&
                (await this.client.core.pairing.updateMetadata({
                  topic: j,
                  metadata: Z.metadata,
                })),
              (q = this.client.session.get(ee))),
              (M = this.client.metadata.redirect) != null &&
                M.linkMode &&
                (d = Z.metadata.redirect) != null &&
                d.linkMode &&
                (p = Z.metadata.redirect) != null &&
                p.universal &&
                i &&
                (this.client.core.addLinkModeSupportedApp(
                  Z.metadata.redirect.universal
                ),
                this.client.session.update(ee, {
                  transportType: Kt.link_mode,
                })),
              B({ auths: N, session: q });
          },
          g = Es(),
          _ = Es();
        this.events.once(It("session_connect"), c),
          this.events.once(It("session_request", g), u);
        let I;
        try {
          if (a) {
            const x = xs("wc_sessionAuthenticate", A, g);
            this.client.core.history.set(j, x);
            const M = await this.client.core.crypto.encode("", x, {
              type: fc,
              encoding: Do,
            });
            I = Af(i, j, M);
          } else
            await Promise.all([
              this.sendRequest({
                topic: j,
                method: "wc_sessionAuthenticate",
                params: A,
                expiry: t.expiry,
                throwOnFailedPublish: !0,
                clientRpcId: g,
              }),
              this.sendRequest({
                topic: j,
                method: "wc_sessionPropose",
                params: ae,
                expiry: Ar.wc_sessionPropose.req.ttl,
                throwOnFailedPublish: !0,
                clientRpcId: _,
              }),
            ]);
        } catch (x) {
          throw (
            (this.events.off(It("session_connect"), c),
            this.events.off(It("session_request", g), u),
            x)
          );
        }
        return (
          await this.setProposal(_, rr({ id: _ }, ae)),
          await this.setAuthRequest(g, {
            request: ln(rr({}, A), { verifyContext: {} }),
            pairingTopic: j,
            transportType: f,
          }),
          { uri: I ?? Y, response: de }
        );
      }),
      (this.approveSessionAuthenticate = async (t) => {
        const { id: i, auths: n } = t,
          a = this.client.core.eventClient.createEvent({
            properties: {
              topic: i.toString(),
              trace: [Js.authenticated_session_approve_started],
            },
          });
        try {
          this.isInitialized();
        } catch (V) {
          throw (a.setError(Co.no_internet_connection), V);
        }
        const f = this.getPendingAuthRequest(i);
        if (!f)
          throw (
            (a.setError(Co.authenticated_session_pending_request_not_found),
            new Error(`Could not find pending auth request with id ${i}`))
          );
        const h = f.transportType || Kt.relay;
        h === Kt.relay && (await this.confirmOnlineStateOrThrow());
        const b = f.requester.publicKey,
          v = await this.client.core.crypto.generateKeyPair(),
          y = Tf(b),
          S = { type: os, receiverPublicKey: b, senderPublicKey: v },
          O = [],
          P = [];
        for (const V of n) {
          if (
            !(await T1({ cacao: V, projectId: this.client.core.projectId }))
          ) {
            a.setError(Co.invalid_cacao);
            const z = Ut(
              "SESSION_SETTLEMENT_FAILED",
              "Signature verification failed"
            );
            throw (
              (await this.sendError({
                id: i,
                topic: y,
                error: z,
                encodeOpts: S,
              }),
              new Error(z.message))
            );
          }
          a.addTrace(Js.cacaos_verified);
          const { p: Q } = V,
            j = Nf(Q.resources),
            Y = [N1(Q.iss)],
            U = Yf(Q.iss);
          if (j) {
            const z = F1(j),
              G = B1(j);
            O.push(...z), Y.push(...G);
          }
          for (const z of Y) P.push(`${z}:${U}`);
        }
        const C = await this.client.core.crypto.generateSharedKey(v, b);
        a.addTrace(Js.create_authenticated_session_topic);
        let H;
        if ((O == null ? void 0 : O.length) > 0) {
          (H = {
            topic: C,
            acknowledged: !0,
            self: { publicKey: v, metadata: this.client.metadata },
            peer: { publicKey: b, metadata: f.requester.metadata },
            controller: b,
            expiry: vr(Na),
            authentication: n,
            requiredNamespaces: {},
            optionalNamespaces: {},
            relay: { protocol: "irn" },
            pairingTopic: f.pairingTopic,
            namespaces: K1([...new Set(O)], [...new Set(P)]),
            transportType: h,
          }),
            a.addTrace(Js.subscribing_authenticated_session_topic);
          try {
            await this.client.core.relayer.subscribe(C, { transportType: h });
          } catch (V) {
            throw (
              (a.setError(Co.subscribe_authenticated_session_topic_failure), V)
            );
          }
          a.addTrace(Js.subscribe_authenticated_session_topic_success),
            await this.client.session.set(C, H),
            a.addTrace(Js.store_authenticated_session),
            await this.client.core.pairing.updateMetadata({
              topic: f.pairingTopic,
              metadata: f.requester.metadata,
            });
        }
        a.addTrace(Js.publishing_authenticated_session_approve);
        try {
          await this.sendResult({
            topic: y,
            id: i,
            result: {
              cacaos: n,
              responder: { publicKey: v, metadata: this.client.metadata },
            },
            encodeOpts: S,
            throwOnFailedPublish: !0,
            appLink: this.getAppLinkIfEnabled(f.requester.metadata, h),
          });
        } catch (V) {
          throw (
            (a.setError(Co.authenticated_session_approve_publish_failure), V)
          );
        }
        return (
          await this.client.auth.requests.delete(i, {
            message: "fulfilled",
            code: 0,
          }),
          await this.client.core.pairing.activate({ topic: f.pairingTopic }),
          this.client.core.eventClient.deleteEvent({ eventId: a.eventId }),
          { session: H }
        );
      }),
      (this.rejectSessionAuthenticate = async (t) => {
        this.isInitialized();
        const { id: i, reason: n } = t,
          a = this.getPendingAuthRequest(i);
        if (!a)
          throw new Error(`Could not find pending auth request with id ${i}`);
        a.transportType === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const f = a.requester.publicKey,
          h = await this.client.core.crypto.generateKeyPair(),
          b = Tf(f),
          v = { type: os, receiverPublicKey: f, senderPublicKey: h };
        await this.sendError({
          id: i,
          topic: b,
          error: n,
          encodeOpts: v,
          rpcOpts: Ar.wc_sessionAuthenticate.reject,
          appLink: this.getAppLinkIfEnabled(
            a.requester.metadata,
            a.transportType
          ),
        }),
          await this.client.auth.requests.delete(i, {
            message: "rejected",
            code: 0,
          }),
          await this.client.proposal.delete(i, Ut("USER_DISCONNECTED"));
      }),
      (this.formatAuthMessage = (t) => {
        this.isInitialized();
        const { request: i, iss: n } = t;
        return Db(i, n);
      }),
      (this.processRelayMessageCache = () => {
        setTimeout(async () => {
          if (this.relayMessageCache.length !== 0)
            for (; this.relayMessageCache.length > 0; )
              try {
                const t = this.relayMessageCache.shift();
                t && (await this.onRelayMessage(t));
              } catch (t) {
                this.client.logger.error(t);
              }
        }, 50);
      }),
      (this.cleanupDuplicatePairings = async (t) => {
        if (t.pairingTopic)
          try {
            const i = this.client.core.pairing.pairings.get(t.pairingTopic),
              n = this.client.core.pairing.pairings.getAll().filter((a) => {
                var f, h;
                return (
                  ((f = a.peerMetadata) == null ? void 0 : f.url) &&
                  ((h = a.peerMetadata) == null ? void 0 : h.url) ===
                    t.peer.metadata.url &&
                  a.topic &&
                  a.topic !== i.topic
                );
              });
            if (n.length === 0) return;
            this.client.logger.info(
              `Cleaning up ${n.length} duplicate pairing(s)`
            ),
              await Promise.all(
                n.map((a) =>
                  this.client.core.pairing.disconnect({ topic: a.topic })
                )
              ),
              this.client.logger.info("Duplicate pairings clean up finished");
          } catch (i) {
            this.client.logger.error(i);
          }
      }),
      (this.deleteSession = async (t) => {
        var i;
        const {
            topic: n,
            expirerHasDeleted: a = !1,
            emitEvent: f = !0,
            id: h = 0,
          } = t,
          { self: b } = this.client.session.get(n);
        await this.client.core.relayer.unsubscribe(n),
          await this.client.session.delete(n, Ut("USER_DISCONNECTED")),
          this.addToRecentlyDeleted(n, "session"),
          this.client.core.crypto.keychain.has(b.publicKey) &&
            (await this.client.core.crypto.deleteKeyPair(b.publicKey)),
          this.client.core.crypto.keychain.has(n) &&
            (await this.client.core.crypto.deleteSymKey(n)),
          a || this.client.core.expirer.del(n),
          this.client.core.storage
            .removeItem(Tg)
            .catch((v) => this.client.logger.warn(v)),
          this.getPendingSessionRequests().forEach((v) => {
            v.topic === n &&
              this.deletePendingSessionRequest(v.id, Ut("USER_DISCONNECTED"));
          }),
          n ===
            ((i = this.sessionRequestQueue.queue[0]) == null
              ? void 0
              : i.topic) && (this.sessionRequestQueue.state = Mn.idle),
          f && this.client.events.emit("session_delete", { id: h, topic: n });
      }),
      (this.deleteProposal = async (t, i) => {
        if (i)
          try {
            const n = this.client.proposal.get(t),
              a = this.client.core.eventClient.getEvent({
                topic: n.pairingTopic,
              });
            a == null || a.setError(Ws.proposal_expired);
          } catch {}
        await Promise.all([
          this.client.proposal.delete(t, Ut("USER_DISCONNECTED")),
          i ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "proposal");
      }),
      (this.deletePendingSessionRequest = async (t, i, n = !1) => {
        await Promise.all([
          this.client.pendingRequest.delete(t, i),
          n ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "request"),
          (this.sessionRequestQueue.queue =
            this.sessionRequestQueue.queue.filter((a) => a.id !== t)),
          n &&
            ((this.sessionRequestQueue.state = Mn.idle),
            this.client.events.emit("session_request_expire", { id: t }));
      }),
      (this.deletePendingAuthRequest = async (t, i, n = !1) => {
        await Promise.all([
          this.client.auth.requests.delete(t, i),
          n ? Promise.resolve() : this.client.core.expirer.del(t),
        ]);
      }),
      (this.setExpiry = async (t, i) => {
        this.client.session.keys.includes(t) &&
          (this.client.core.expirer.set(t, i),
          await this.client.session.update(t, { expiry: i }));
      }),
      (this.setProposal = async (t, i) => {
        this.client.core.expirer.set(t, vr(Ar.wc_sessionPropose.req.ttl)),
          await this.client.proposal.set(t, i);
      }),
      (this.setAuthRequest = async (t, i) => {
        const { request: n, pairingTopic: a, transportType: f = Kt.relay } = i;
        this.client.core.expirer.set(t, n.expiryTimestamp),
          await this.client.auth.requests.set(t, {
            authPayload: n.authPayload,
            requester: n.requester,
            expiryTimestamp: n.expiryTimestamp,
            id: t,
            pairingTopic: a,
            verifyContext: n.verifyContext,
            transportType: f,
          });
      }),
      (this.setPendingSessionRequest = async (t) => {
        const { id: i, topic: n, params: a, verifyContext: f } = t,
          h = a.request.expiryTimestamp || vr(Ar.wc_sessionRequest.req.ttl);
        this.client.core.expirer.set(i, h),
          await this.client.pendingRequest.set(i, {
            id: i,
            topic: n,
            params: a,
            verifyContext: f,
          });
      }),
      (this.sendRequest = async (t) => {
        const {
            topic: i,
            method: n,
            params: a,
            expiry: f,
            relayRpcId: h,
            clientRpcId: b,
            throwOnFailedPublish: v,
            appLink: y,
          } = t,
          S = xs(n, a, b);
        let O;
        const P = !!y;
        try {
          const V = P ? Do : Is;
          O = await this.client.core.crypto.encode(i, S, { encoding: V });
        } catch (V) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendRequest() -> core.crypto.encode() for topic ${i} failed`
            ),
            V)
          );
        }
        let C;
        if (_O.includes(n)) {
          const V = is(JSON.stringify(S)),
            Q = is(O);
          C = await this.client.core.verify.register({ id: Q, decryptedId: V });
        }
        const H = Ar[n].req;
        if (
          ((H.attestation = C),
          f && (H.ttl = f),
          h && (H.id = h),
          this.client.core.history.set(i, S),
          P)
        ) {
          const V = Af(y, i, O);
          await pt.Linking.openURL(V, this.client.name);
        } else {
          const V = Ar[n].req;
          f && (V.ttl = f),
            h && (V.id = h),
            v
              ? ((V.internal = ln(rr({}, V.internal), {
                  throwOnFailedPublish: !0,
                })),
                await this.client.core.relayer.publish(i, O, V))
              : this.client.core.relayer
                  .publish(i, O, V)
                  .catch((Q) => this.client.logger.error(Q));
        }
        return S.id;
      }),
      (this.sendResult = async (t) => {
        const {
            id: i,
            topic: n,
            result: a,
            throwOnFailedPublish: f,
            encodeOpts: h,
            appLink: b,
          } = t,
          v = Eu(i, a);
        let y;
        const S = b && typeof (pt == null ? void 0 : pt.Linking) < "u";
        try {
          const P = S ? Do : Is;
          y = await this.client.core.crypto.encode(
            n,
            v,
            ln(rr({}, h || {}), { encoding: P })
          );
        } catch (P) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendResult() -> core.crypto.encode() for topic ${n} failed`
            ),
            P)
          );
        }
        let O;
        try {
          O = await this.client.core.history.get(n, i);
        } catch (P) {
          throw (
            (this.client.logger.error(
              `sendResult() -> history.get(${n}, ${i}) failed`
            ),
            P)
          );
        }
        if (S) {
          const P = Af(b, n, y);
          await pt.Linking.openURL(P, this.client.name);
        } else {
          const P = Ar[O.request.method].res;
          f
            ? ((P.internal = ln(rr({}, P.internal), {
                throwOnFailedPublish: !0,
              })),
              await this.client.core.relayer.publish(n, y, P))
            : this.client.core.relayer
                .publish(n, y, P)
                .catch((C) => this.client.logger.error(C));
        }
        await this.client.core.history.resolve(v);
      }),
      (this.sendError = async (t) => {
        const {
            id: i,
            topic: n,
            error: a,
            encodeOpts: f,
            rpcOpts: h,
            appLink: b,
          } = t,
          v = Su(i, a);
        let y;
        const S = b && typeof (pt == null ? void 0 : pt.Linking) < "u";
        try {
          const P = S ? Do : Is;
          y = await this.client.core.crypto.encode(
            n,
            v,
            ln(rr({}, f || {}), { encoding: P })
          );
        } catch (P) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendError() -> core.crypto.encode() for topic ${n} failed`
            ),
            P)
          );
        }
        let O;
        try {
          O = await this.client.core.history.get(n, i);
        } catch (P) {
          throw (
            (this.client.logger.error(
              `sendError() -> history.get(${n}, ${i}) failed`
            ),
            P)
          );
        }
        if (S) {
          const P = Af(b, n, y);
          await pt.Linking.openURL(P, this.client.name);
        } else {
          const P = h || Ar[O.request.method].res;
          this.client.core.relayer.publish(n, y, P);
        }
        await this.client.core.history.resolve(v);
      }),
      (this.cleanup = async () => {
        const t = [],
          i = [];
        this.client.session.getAll().forEach((n) => {
          let a = !1;
          _s(n.expiry) && (a = !0),
            this.client.core.crypto.keychain.has(n.topic) || (a = !0),
            a && t.push(n.topic);
        }),
          this.client.proposal.getAll().forEach((n) => {
            _s(n.expiryTimestamp) && i.push(n.id);
          }),
          await Promise.all([
            ...t.map((n) => this.deleteSession({ topic: n })),
            ...i.map((n) => this.deleteProposal(n)),
          ]);
      }),
      (this.onRelayEventRequest = async (t) => {
        this.requestQueue.queue.push(t), await this.processRequestsQueue();
      }),
      (this.processRequestsQueue = async () => {
        if (this.requestQueue.state === Mn.active) {
          this.client.logger.info("Request queue already active, skipping...");
          return;
        }
        for (
          this.client.logger.info(
            `Request queue starting with ${this.requestQueue.queue.length} requests`
          );
          this.requestQueue.queue.length > 0;

        ) {
          this.requestQueue.state = Mn.active;
          const t = this.requestQueue.queue.shift();
          if (t)
            try {
              await this.processRequest(t);
            } catch (i) {
              this.client.logger.warn(i);
            }
        }
        this.requestQueue.state = Mn.idle;
      }),
      (this.processRequest = async (t) => {
        const {
            topic: i,
            payload: n,
            attestation: a,
            transportType: f,
            encryptedId: h,
          } = t,
          b = n.method;
        if (!this.shouldIgnorePairingRequest({ topic: i, requestMethod: b }))
          switch (b) {
            case "wc_sessionPropose":
              return await this.onSessionProposeRequest({
                topic: i,
                payload: n,
                attestation: a,
                encryptedId: h,
              });
            case "wc_sessionSettle":
              return await this.onSessionSettleRequest(i, n);
            case "wc_sessionUpdate":
              return await this.onSessionUpdateRequest(i, n);
            case "wc_sessionExtend":
              return await this.onSessionExtendRequest(i, n);
            case "wc_sessionPing":
              return await this.onSessionPingRequest(i, n);
            case "wc_sessionDelete":
              return await this.onSessionDeleteRequest(i, n);
            case "wc_sessionRequest":
              return await this.onSessionRequest({
                topic: i,
                payload: n,
                attestation: a,
                encryptedId: h,
                transportType: f,
              });
            case "wc_sessionEvent":
              return await this.onSessionEventRequest(i, n);
            case "wc_sessionAuthenticate":
              return await this.onSessionAuthenticateRequest({
                topic: i,
                payload: n,
                attestation: a,
                encryptedId: h,
                transportType: f,
              });
            default:
              return this.client.logger.info(`Unsupported request method ${b}`);
          }
      }),
      (this.onRelayEventResponse = async (t) => {
        const { topic: i, payload: n, transportType: a } = t,
          f = (await this.client.core.history.get(i, n.id)).request.method;
        switch (f) {
          case "wc_sessionPropose":
            return this.onSessionProposeResponse(i, n, a);
          case "wc_sessionSettle":
            return this.onSessionSettleResponse(i, n);
          case "wc_sessionUpdate":
            return this.onSessionUpdateResponse(i, n);
          case "wc_sessionExtend":
            return this.onSessionExtendResponse(i, n);
          case "wc_sessionPing":
            return this.onSessionPingResponse(i, n);
          case "wc_sessionRequest":
            return this.onSessionRequestResponse(i, n);
          case "wc_sessionAuthenticate":
            return this.onSessionAuthenticateResponse(i, n);
          default:
            return this.client.logger.info(`Unsupported response method ${f}`);
        }
      }),
      (this.onRelayEventUnknownPayload = (t) => {
        const { topic: i } = t,
          { message: n } = Ae(
            "MISSING_OR_INVALID",
            `Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`
          );
        throw new Error(n);
      }),
      (this.shouldIgnorePairingRequest = (t) => {
        const { topic: i, requestMethod: n } = t,
          a = this.expectedPairingMethodMap.get(i);
        return !a || a.includes(n)
          ? !1
          : !!(
              a.includes("wc_sessionAuthenticate") &&
              this.client.events.listenerCount("session_authenticate") > 0
            );
      }),
      (this.onSessionProposeRequest = async (t) => {
        const { topic: i, payload: n, attestation: a, encryptedId: f } = t,
          { params: h, id: b } = n;
        try {
          const v = this.client.core.eventClient.getEvent({ topic: i });
          this.isValidConnect(rr({}, n.params));
          const y = h.expiryTimestamp || vr(Ar.wc_sessionPropose.req.ttl),
            S = rr({ id: b, pairingTopic: i, expiryTimestamp: y }, h);
          await this.setProposal(b, S);
          const O = await this.getVerifyContext({
            attestationId: a,
            hash: is(JSON.stringify(n)),
            encryptedId: f,
            metadata: S.proposer.metadata,
          });
          this.client.events.listenerCount("session_proposal") === 0 &&
            (v == null || v.setError(ts.proposal_listener_not_found)),
            v == null || v.addTrace(In.emit_session_proposal),
            this.client.events.emit("session_proposal", {
              id: b,
              params: S,
              verifyContext: O,
            });
        } catch (v) {
          await this.sendError({
            id: b,
            topic: i,
            error: v,
            rpcOpts: Ar.wc_sessionPropose.autoReject,
          }),
            this.client.logger.error(v);
        }
      }),
      (this.onSessionProposeResponse = async (t, i, n) => {
        const { id: a } = i;
        if (Pn(i)) {
          const { result: f } = i;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            result: f,
          });
          const h = this.client.proposal.get(a);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            proposal: h,
          });
          const b = h.proposer.publicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            selfPublicKey: b,
          });
          const v = f.responderPublicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            peerPublicKey: v,
          });
          const y = await this.client.core.crypto.generateSharedKey(b, v);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            sessionTopic: y,
          });
          const S = await this.client.core.relayer.subscribe(y, {
            transportType: n,
          });
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            subscriptionId: S,
          }),
            await this.client.core.pairing.activate({ topic: t });
        } else if (zi(i)) {
          await this.client.proposal.delete(a, Ut("USER_DISCONNECTED"));
          const f = It("session_connect");
          if (this.events.listenerCount(f) === 0)
            throw new Error(`emitting ${f} without any listeners, 954`);
          this.events.emit(It("session_connect"), { error: i.error });
        }
      }),
      (this.onSessionSettleRequest = async (t, i) => {
        const { id: n, params: a } = i;
        try {
          this.isValidSessionSettleRequest(a);
          const {
              relay: f,
              controller: h,
              expiry: b,
              namespaces: v,
              sessionProperties: y,
              sessionConfig: S,
            } = i.params,
            O = ln(
              rr(
                rr(
                  {
                    topic: t,
                    relay: f,
                    expiry: b,
                    namespaces: v,
                    acknowledged: !0,
                    pairingTopic: "",
                    requiredNamespaces: {},
                    optionalNamespaces: {},
                    controller: h.publicKey,
                    self: { publicKey: "", metadata: this.client.metadata },
                    peer: { publicKey: h.publicKey, metadata: h.metadata },
                  },
                  y && { sessionProperties: y }
                ),
                S && { sessionConfig: S }
              ),
              { transportType: Kt.relay }
            ),
            P = It("session_connect");
          if (this.events.listenerCount(P) === 0)
            throw new Error(`emitting ${P} without any listeners 997`);
          this.events.emit(It("session_connect"), { session: O }),
            await this.sendResult({
              id: i.id,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            });
        } catch (f) {
          await this.sendError({ id: n, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.onSessionSettleResponse = async (t, i) => {
        const { id: n } = i;
        Pn(i)
          ? (await this.client.session.update(t, { acknowledged: !0 }),
            this.events.emit(It("session_approve", n), {}))
          : zi(i) &&
            (await this.client.session.delete(t, Ut("USER_DISCONNECTED")),
            this.events.emit(It("session_approve", n), { error: i.error }));
      }),
      (this.onSessionUpdateRequest = async (t, i) => {
        const { params: n, id: a } = i;
        try {
          const f = `${t}_session_update`,
            h = Po.get(f);
          if (h && this.isRequestOutOfSync(h, a)) {
            this.client.logger.info(`Discarding out of sync request - ${a}`),
              this.sendError({
                id: a,
                topic: t,
                error: Ut("INVALID_UPDATE_REQUEST"),
              });
            return;
          }
          this.isValidUpdate(rr({ topic: t }, n));
          try {
            Po.set(f, a),
              await this.client.session.update(t, { namespaces: n.namespaces }),
              await this.sendResult({
                id: a,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              });
          } catch (b) {
            throw (Po.delete(f), b);
          }
          this.client.events.emit("session_update", {
            id: a,
            topic: t,
            params: n,
          });
        } catch (f) {
          await this.sendError({ id: a, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.isRequestOutOfSync = (t, i) =>
        parseInt(i.toString().slice(0, -3)) <=
        parseInt(t.toString().slice(0, -3))),
      (this.onSessionUpdateResponse = (t, i) => {
        const { id: n } = i,
          a = It("session_update", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        Pn(i)
          ? this.events.emit(It("session_update", n), {})
          : zi(i) &&
            this.events.emit(It("session_update", n), { error: i.error });
      }),
      (this.onSessionExtendRequest = async (t, i) => {
        const { id: n } = i;
        try {
          this.isValidExtend({ topic: t }),
            await this.setExpiry(t, vr(Na)),
            await this.sendResult({
              id: n,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_extend", { id: n, topic: t });
        } catch (a) {
          await this.sendError({ id: n, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionExtendResponse = (t, i) => {
        const { id: n } = i,
          a = It("session_extend", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        Pn(i)
          ? this.events.emit(It("session_extend", n), {})
          : zi(i) &&
            this.events.emit(It("session_extend", n), { error: i.error });
      }),
      (this.onSessionPingRequest = async (t, i) => {
        const { id: n } = i;
        try {
          this.isValidPing({ topic: t }),
            await this.sendResult({
              id: n,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_ping", { id: n, topic: t });
        } catch (a) {
          await this.sendError({ id: n, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionPingResponse = (t, i) => {
        const { id: n } = i,
          a = It("session_ping", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        setTimeout(() => {
          Pn(i)
            ? this.events.emit(It("session_ping", n), {})
            : zi(i) &&
              this.events.emit(It("session_ping", n), { error: i.error });
        }, 500);
      }),
      (this.onSessionDeleteRequest = async (t, i) => {
        const { id: n } = i;
        try {
          this.isValidDisconnect({ topic: t, reason: i.params }),
            Promise.all([
              new Promise((a) => {
                this.client.core.relayer.once(Wr.publish, async () => {
                  a(await this.deleteSession({ topic: t, id: n }));
                });
              }),
              this.sendResult({
                id: n,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              }),
              this.cleanupPendingSentRequestsForTopic({
                topic: t,
                error: Ut("USER_DISCONNECTED"),
              }),
            ]).catch((a) => this.client.logger.error(a));
        } catch (a) {
          this.client.logger.error(a);
        }
      }),
      (this.onSessionRequest = async (t) => {
        var i, n, a;
        const {
            topic: f,
            payload: h,
            attestation: b,
            encryptedId: v,
            transportType: y,
          } = t,
          { id: S, params: O } = h;
        try {
          await this.isValidRequest(rr({ topic: f }, O));
          const P = this.client.session.get(f),
            C = await this.getVerifyContext({
              attestationId: b,
              hash: is(JSON.stringify(xs("wc_sessionRequest", O, S))),
              encryptedId: v,
              metadata: P.peer.metadata,
              transportType: y,
            }),
            H = { id: S, topic: f, params: O, verifyContext: C };
          await this.setPendingSessionRequest(H),
            y === Kt.link_mode &&
              (i = P.peer.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                (n = P.peer.metadata.redirect) == null ? void 0 : n.universal
              ),
            (a = this.client.signConfig) != null && a.disableRequestQueue
              ? this.emitSessionRequest(H)
              : (this.addSessionRequestToSessionRequestQueue(H),
                this.processSessionRequestQueue());
        } catch (P) {
          await this.sendError({ id: S, topic: f, error: P }),
            this.client.logger.error(P);
        }
      }),
      (this.onSessionRequestResponse = (t, i) => {
        const { id: n } = i,
          a = It("session_request", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        Pn(i)
          ? this.events.emit(It("session_request", n), { result: i.result })
          : zi(i) &&
            this.events.emit(It("session_request", n), { error: i.error });
      }),
      (this.onSessionEventRequest = async (t, i) => {
        const { id: n, params: a } = i;
        try {
          const f = `${t}_session_event_${a.event.name}`,
            h = Po.get(f);
          if (h && this.isRequestOutOfSync(h, n)) {
            this.client.logger.info(`Discarding out of sync request - ${n}`);
            return;
          }
          this.isValidEmit(rr({ topic: t }, a)),
            this.client.events.emit("session_event", {
              id: n,
              topic: t,
              params: a,
            }),
            Po.set(f, n);
        } catch (f) {
          await this.sendError({ id: n, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.onSessionAuthenticateResponse = (t, i) => {
        const { id: n } = i;
        this.client.logger.trace({
          type: "method",
          method: "onSessionAuthenticateResponse",
          topic: t,
          payload: i,
        }),
          Pn(i)
            ? this.events.emit(It("session_request", n), { result: i.result })
            : zi(i) &&
              this.events.emit(It("session_request", n), { error: i.error });
      }),
      (this.onSessionAuthenticateRequest = async (t) => {
        var i;
        const {
          topic: n,
          payload: a,
          attestation: f,
          encryptedId: h,
          transportType: b,
        } = t;
        try {
          const { requester: v, authPayload: y, expiryTimestamp: S } = a.params,
            O = await this.getVerifyContext({
              attestationId: f,
              hash: is(JSON.stringify(a)),
              encryptedId: h,
              metadata: v.metadata,
              transportType: b,
            }),
            P = {
              requester: v,
              pairingTopic: n,
              id: a.id,
              authPayload: y,
              verifyContext: O,
              expiryTimestamp: S,
            };
          await this.setAuthRequest(a.id, {
            request: P,
            pairingTopic: n,
            transportType: b,
          }),
            b === Kt.link_mode &&
              (i = v.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                v.metadata.redirect.universal
              ),
            this.client.events.emit("session_authenticate", {
              topic: n,
              params: a.params,
              id: a.id,
              verifyContext: O,
            });
        } catch (v) {
          this.client.logger.error(v);
          const y = a.params.requester.publicKey,
            S = await this.client.core.crypto.generateKeyPair(),
            O = this.getAppLinkIfEnabled(a.params.requester.metadata, b),
            P = { type: os, receiverPublicKey: y, senderPublicKey: S };
          await this.sendError({
            id: a.id,
            topic: n,
            error: v,
            encodeOpts: P,
            rpcOpts: Ar.wc_sessionAuthenticate.autoReject,
            appLink: O,
          });
        }
      }),
      (this.addSessionRequestToSessionRequestQueue = (t) => {
        this.sessionRequestQueue.queue.push(t);
      }),
      (this.cleanupAfterResponse = (t) => {
        this.deletePendingSessionRequest(t.response.id, {
          message: "fulfilled",
          code: 0,
        }),
          setTimeout(() => {
            (this.sessionRequestQueue.state = Mn.idle),
              this.processSessionRequestQueue();
          }, Se.toMiliseconds(this.requestQueueDelay));
      }),
      (this.cleanupPendingSentRequestsForTopic = ({ topic: t, error: i }) => {
        const n = this.client.core.history.pending;
        n.length > 0 &&
          n
            .filter(
              (a) => a.topic === t && a.request.method === "wc_sessionRequest"
            )
            .forEach((a) => {
              const f = a.request.id,
                h = It("session_request", f);
              if (this.events.listenerCount(h) === 0)
                throw new Error(`emitting ${h} without any listeners`);
              this.events.emit(It("session_request", a.request.id), {
                error: i,
              });
            });
      }),
      (this.processSessionRequestQueue = () => {
        if (this.sessionRequestQueue.state === Mn.active) {
          this.client.logger.info("session request queue is already active.");
          return;
        }
        const t = this.sessionRequestQueue.queue[0];
        if (!t) {
          this.client.logger.info("session request queue is empty.");
          return;
        }
        try {
          (this.sessionRequestQueue.state = Mn.active),
            this.emitSessionRequest(t);
        } catch (i) {
          this.client.logger.error(i);
        }
      }),
      (this.emitSessionRequest = (t) => {
        this.client.events.emit("session_request", t);
      }),
      (this.onPairingCreated = (t) => {
        if (
          (t.methods && this.expectedPairingMethodMap.set(t.topic, t.methods),
          t.active)
        )
          return;
        const i = this.client.proposal
          .getAll()
          .find((n) => n.pairingTopic === t.topic);
        i &&
          this.onSessionProposeRequest({
            topic: t.topic,
            payload: xs(
              "wc_sessionPropose",
              {
                requiredNamespaces: i.requiredNamespaces,
                optionalNamespaces: i.optionalNamespaces,
                relays: i.relays,
                proposer: i.proposer,
                sessionProperties: i.sessionProperties,
              },
              i.id
            ),
          });
      }),
      (this.isValidConnect = async (t) => {
        if (!ci(t)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `connect() params: ${JSON.stringify(t)}`
          );
          throw new Error(b);
        }
        const {
          pairingTopic: i,
          requiredNamespaces: n,
          optionalNamespaces: a,
          sessionProperties: f,
          relays: h,
        } = t;
        if ((ui(i) || (await this.isValidPairingTopic(i)), !XS(h))) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `connect() relays: ${h}`
          );
          throw new Error(b);
        }
        !ui(n) &&
          Yo(n) !== 0 &&
          this.validateNamespaces(n, "requiredNamespaces"),
          !ui(a) &&
            Yo(a) !== 0 &&
            this.validateNamespaces(a, "optionalNamespaces"),
          ui(f) || this.validateSessionProps(f, "sessionProperties");
      }),
      (this.validateNamespaces = (t, i) => {
        const n = QS(t, "connect()", i);
        if (n) throw new Error(n.message);
      }),
      (this.isValidApprove = async (t) => {
        if (!ci(t))
          throw new Error(
            Ae("MISSING_OR_INVALID", `approve() params: ${t}`).message
          );
        const {
          id: i,
          namespaces: n,
          relayProtocol: a,
          sessionProperties: f,
        } = t;
        this.checkRecentlyDeleted(i), await this.isValidProposalId(i);
        const h = this.client.proposal.get(i),
          b = cl(n, "approve()");
        if (b) throw new Error(b.message);
        const v = W1(h.requiredNamespaces, n, "approve()");
        if (v) throw new Error(v.message);
        if (!fr(a, !0)) {
          const { message: y } = Ae(
            "MISSING_OR_INVALID",
            `approve() relayProtocol: ${a}`
          );
          throw new Error(y);
        }
        ui(f) || this.validateSessionProps(f, "sessionProperties");
      }),
      (this.isValidReject = async (t) => {
        if (!ci(t)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `reject() params: ${t}`
          );
          throw new Error(a);
        }
        const { id: i, reason: n } = t;
        if (
          (this.checkRecentlyDeleted(i),
          await this.isValidProposalId(i),
          !eM(n))
        ) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `reject() reason: ${JSON.stringify(n)}`
          );
          throw new Error(a);
        }
      }),
      (this.isValidSessionSettleRequest = (t) => {
        if (!ci(t)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `onSessionSettleRequest() params: ${t}`
          );
          throw new Error(v);
        }
        const { relay: i, controller: n, namespaces: a, expiry: f } = t;
        if (!Bb(i)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            "onSessionSettleRequest() relay protocol should be a string"
          );
          throw new Error(v);
        }
        const h = KS(n, "onSessionSettleRequest()");
        if (h) throw new Error(h.message);
        const b = cl(a, "onSessionSettleRequest()");
        if (b) throw new Error(b.message);
        if (_s(f)) {
          const { message: v } = Ae("EXPIRED", "onSessionSettleRequest()");
          throw new Error(v);
        }
      }),
      (this.isValidUpdate = async (t) => {
        if (!ci(t)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `update() params: ${t}`
          );
          throw new Error(b);
        }
        const { topic: i, namespaces: n } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const a = this.client.session.get(i),
          f = cl(n, "update()");
        if (f) throw new Error(f.message);
        const h = W1(a.requiredNamespaces, n, "update()");
        if (h) throw new Error(h.message);
      }),
      (this.isValidExtend = async (t) => {
        if (!ci(t)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `extend() params: ${t}`
          );
          throw new Error(n);
        }
        const { topic: i } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
      }),
      (this.isValidRequest = async (t) => {
        if (!ci(t)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `request() params: ${t}`
          );
          throw new Error(b);
        }
        const { topic: i, request: n, chainId: a, expiry: f } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const { namespaces: h } = this.client.session.get(i);
        if (!G1(h, a)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `request() chainId: ${a}`
          );
          throw new Error(b);
        }
        if (!tM(n)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `request() ${JSON.stringify(n)}`
          );
          throw new Error(b);
        }
        if (!nM(h, a, n.method)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `request() method: ${n.method}`
          );
          throw new Error(b);
        }
        if (f && !cM(f, bl)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `request() expiry: ${f}. Expiry must be a number (in seconds) between ${bl.min} and ${bl.max}`
          );
          throw new Error(b);
        }
      }),
      (this.isValidRespond = async (t) => {
        var i;
        if (!ci(t)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `respond() params: ${t}`
          );
          throw new Error(f);
        }
        const { topic: n, response: a } = t;
        try {
          await this.isValidSessionTopic(n);
        } catch (f) {
          throw (
            ((i = t == null ? void 0 : t.response) != null &&
              i.id &&
              this.cleanupAfterResponse(t),
            f)
          );
        }
        if (!rM(a)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `respond() response: ${JSON.stringify(a)}`
          );
          throw new Error(f);
        }
      }),
      (this.isValidPing = async (t) => {
        if (!ci(t)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `ping() params: ${t}`
          );
          throw new Error(n);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidEmit = async (t) => {
        if (!ci(t)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() params: ${t}`
          );
          throw new Error(h);
        }
        const { topic: i, event: n, chainId: a } = t;
        await this.isValidSessionTopic(i);
        const { namespaces: f } = this.client.session.get(i);
        if (!G1(f, a)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() chainId: ${a}`
          );
          throw new Error(h);
        }
        if (!iM(n)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(n)}`
          );
          throw new Error(h);
        }
        if (!sM(f, a, n.name)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(n)}`
          );
          throw new Error(h);
        }
      }),
      (this.isValidDisconnect = async (t) => {
        if (!ci(t)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `disconnect() params: ${t}`
          );
          throw new Error(n);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidAuthenticate = (t) => {
        const { chains: i, uri: n, domain: a, nonce: f } = t;
        if (!Array.isArray(i) || i.length === 0)
          throw new Error("chains is required and must be a non-empty array");
        if (!fr(n, !1)) throw new Error("uri is required parameter");
        if (!fr(a, !1)) throw new Error("domain is required parameter");
        if (!fr(f, !1)) throw new Error("nonce is required parameter");
        if ([...new Set(i.map((b) => Uo(b).namespace))].length > 1)
          throw new Error(
            "Multi-namespace requests are not supported. Please request single namespace only."
          );
        const { namespace: h } = Uo(i[0]);
        if (h !== "eip155")
          throw new Error(
            "Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains."
          );
      }),
      (this.getVerifyContext = async (t) => {
        const {
            attestationId: i,
            hash: n,
            encryptedId: a,
            metadata: f,
            transportType: h,
          } = t,
          b = {
            verified: {
              verifyUrl: f.verifyUrl || Ho,
              validation: "UNKNOWN",
              origin: f.url || "",
            },
          };
        try {
          if (h === Kt.link_mode) {
            const y = this.getAppLinkIfEnabled(f, h);
            return (
              (b.verified.validation =
                y && new URL(y).origin === new URL(f.url).origin
                  ? "VALID"
                  : "INVALID"),
              b
            );
          }
          const v = await this.client.core.verify.resolve({
            attestationId: i,
            hash: n,
            encryptedId: a,
            verifyUrl: f.verifyUrl,
          });
          v &&
            ((b.verified.origin = v.origin),
            (b.verified.isScam = v.isScam),
            (b.verified.validation =
              v.origin === new URL(f.url).origin ? "VALID" : "INVALID"));
        } catch (v) {
          this.client.logger.warn(v);
        }
        return (
          this.client.logger.debug(`Verify context: ${JSON.stringify(b)}`), b
        );
      }),
      (this.validateSessionProps = (t, i) => {
        Object.values(t).forEach((n) => {
          if (!fr(n, !1)) {
            const { message: a } = Ae(
              "MISSING_OR_INVALID",
              `${i} must be in Record<string, string> format. Received: ${JSON.stringify(
                n
              )}`
            );
            throw new Error(a);
          }
        });
      }),
      (this.getPendingAuthRequest = (t) => {
        const i = this.client.auth.requests.get(t);
        return typeof i == "object" ? i : void 0;
      }),
      (this.addToRecentlyDeleted = (t, i) => {
        if (
          (this.recentlyDeletedMap.set(t, i),
          this.recentlyDeletedMap.size >= this.recentlyDeletedLimit)
        ) {
          let n = 0;
          const a = this.recentlyDeletedLimit / 2;
          for (const f of this.recentlyDeletedMap.keys()) {
            if (n++ >= a) break;
            this.recentlyDeletedMap.delete(f);
          }
        }
      }),
      (this.checkRecentlyDeleted = (t) => {
        const i = this.recentlyDeletedMap.get(t);
        if (i) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `Record was recently deleted - ${i}: ${t}`
          );
          throw new Error(n);
        }
      }),
      (this.isLinkModeEnabled = (t, i) => {
        var n, a, f, h, b, v, y, S, O;
        return !t || i !== Kt.link_mode
          ? !1
          : ((a = (n = this.client.metadata) == null ? void 0 : n.redirect) ==
            null
              ? void 0
              : a.linkMode) === !0 &&
              ((h = (f = this.client.metadata) == null ? void 0 : f.redirect) ==
              null
                ? void 0
                : h.universal) !== void 0 &&
              ((v = (b = this.client.metadata) == null ? void 0 : b.redirect) ==
              null
                ? void 0
                : v.universal) !== "" &&
              ((y = t == null ? void 0 : t.redirect) == null
                ? void 0
                : y.universal) !== void 0 &&
              ((S = t == null ? void 0 : t.redirect) == null
                ? void 0
                : S.universal) !== "" &&
              ((O = t == null ? void 0 : t.redirect) == null
                ? void 0
                : O.linkMode) === !0 &&
              this.client.core.linkModeSupportedApps.includes(
                t.redirect.universal
              ) &&
              typeof (pt == null ? void 0 : pt.Linking) < "u";
      }),
      (this.getAppLinkIfEnabled = (t, i) => {
        var n;
        return this.isLinkModeEnabled(t, i)
          ? (n = t == null ? void 0 : t.redirect) == null
            ? void 0
            : n.universal
          : void 0;
      }),
      (this.handleLinkModeMessage = ({ url: t }) => {
        if (!t || !t.includes("wc_ev") || !t.includes("topic")) return;
        const i = o1(t, "topic") || "",
          n = decodeURIComponent(o1(t, "wc_ev") || ""),
          a = this.client.session.keys.includes(i);
        a && this.client.session.update(i, { transportType: Kt.link_mode }),
          this.client.core.dispatchEnvelope({
            topic: i,
            message: n,
            sessionExists: a,
          });
      }),
      (this.registerLinkModeListeners = async () => {
        var t;
        if (
          ld() ||
          (Ja() && (t = this.client.metadata.redirect) != null && t.linkMode)
        ) {
          const i = pt == null ? void 0 : pt.Linking;
          if (typeof i < "u") {
            i.addEventListener(
              "url",
              this.handleLinkModeMessage,
              this.client.name
            );
            const n = await i.getInitialURL();
            n &&
              setTimeout(() => {
                this.handleLinkModeMessage({ url: n });
              }, 50);
          }
        }
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async confirmOnlineStateOrThrow() {
    await this.client.core.relayer.confirmOnlineStateOrThrow();
  }
  registerRelayerEvents() {
    this.client.core.relayer.on(Wr.message, (e) => {
      !this.initialized || this.relayMessageCache.length > 0
        ? this.relayMessageCache.push(e)
        : this.onRelayMessage(e);
    });
  }
  async onRelayMessage(e) {
    const { topic: t, message: i, attestation: n, transportType: a } = e,
      { publicKey: f } = this.client.auth.authKeys.keys.includes(qf)
        ? this.client.auth.authKeys.get(qf)
        : { responseTopic: void 0, publicKey: void 0 },
      h = await this.client.core.crypto.decode(t, i, {
        receiverPublicKey: f,
        encoding: a === Kt.link_mode ? Do : Is,
      });
    try {
      Sd(h)
        ? (this.client.core.history.set(t, h),
          this.onRelayEventRequest({
            topic: t,
            payload: h,
            attestation: n,
            transportType: a,
            encryptedId: is(i),
          }))
        : Mu(h)
        ? (await this.client.core.history.resolve(h),
          await this.onRelayEventResponse({
            topic: t,
            payload: h,
            transportType: a,
          }),
          this.client.core.history.delete(t, h.id))
        : this.onRelayEventUnknownPayload({
            topic: t,
            payload: h,
            transportType: a,
          });
    } catch (b) {
      this.client.logger.error(b);
    }
  }
  registerExpirerEvents() {
    this.client.core.expirer.on($i.expired, async (e) => {
      const { topic: t, id: i } = Kv(e.target);
      if (i && this.client.pendingRequest.keys.includes(i))
        return await this.deletePendingSessionRequest(i, Ae("EXPIRED"), !0);
      if (i && this.client.auth.requests.keys.includes(i))
        return await this.deletePendingAuthRequest(i, Ae("EXPIRED"), !0);
      t
        ? this.client.session.keys.includes(t) &&
          (await this.deleteSession({ topic: t, expirerHasDeleted: !0 }),
          this.client.events.emit("session_expire", { topic: t }))
        : i &&
          (await this.deleteProposal(i, !0),
          this.client.events.emit("proposal_expire", { id: i }));
    });
  }
  registerPairingEvents() {
    this.client.core.pairing.events.on(Xs.create, (e) =>
      this.onPairingCreated(e)
    ),
      this.client.core.pairing.events.on(Xs.delete, (e) => {
        this.addToRecentlyDeleted(e.topic, "pairing");
      });
  }
  isValidPairingTopic(e) {
    if (!fr(e, !1)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `pairing topic should be a string: ${e}`
      );
      throw new Error(t);
    }
    if (!this.client.core.pairing.pairings.keys.includes(e)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `pairing topic doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (_s(this.client.core.pairing.pairings.get(e).expiry)) {
      const { message: t } = Ae("EXPIRED", `pairing topic: ${e}`);
      throw new Error(t);
    }
  }
  async isValidSessionTopic(e) {
    if (!fr(e, !1)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session topic should be a string: ${e}`
      );
      throw new Error(t);
    }
    if ((this.checkRecentlyDeleted(e), !this.client.session.keys.includes(e))) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `session topic doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (_s(this.client.session.get(e).expiry)) {
      await this.deleteSession({ topic: e });
      const { message: t } = Ae("EXPIRED", `session topic: ${e}`);
      throw new Error(t);
    }
    if (!this.client.core.crypto.keychain.has(e)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session topic does not exist in keychain: ${e}`
      );
      throw (await this.deleteSession({ topic: e }), new Error(t));
    }
  }
  async isValidSessionOrPairingTopic(e) {
    if ((this.checkRecentlyDeleted(e), this.client.session.keys.includes(e)))
      await this.isValidSessionTopic(e);
    else if (this.client.core.pairing.pairings.keys.includes(e))
      this.isValidPairingTopic(e);
    else if (fr(e, !1)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `session or pairing topic doesn't exist: ${e}`
      );
      throw new Error(t);
    } else {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session or pairing topic should be a string: ${e}`
      );
      throw new Error(t);
    }
  }
  async isValidProposalId(e) {
    if (!ZS(e)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `proposal id should be a number: ${e}`
      );
      throw new Error(t);
    }
    if (!this.client.proposal.keys.includes(e)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `proposal id doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (_s(this.client.proposal.get(e).expiryTimestamp)) {
      await this.deleteProposal(e);
      const { message: t } = Ae("EXPIRED", `proposal id: ${e}`);
      throw new Error(t);
    }
  }
}
class NO extends ua {
  constructor(e, t) {
    super(e, t, bO, xd), (this.core = e), (this.logger = t);
  }
}
class TO extends ua {
  constructor(e, t) {
    super(e, t, mO, xd), (this.core = e), (this.logger = t);
  }
}
class FO extends ua {
  constructor(e, t) {
    super(e, t, wO, xd, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class BO extends ua {
  constructor(e, t) {
    super(e, t, SO, xu, () => qf), (this.core = e), (this.logger = t);
  }
}
class qO extends ua {
  constructor(e, t) {
    super(e, t, MO, xu), (this.core = e), (this.logger = t);
  }
}
class LO extends ua {
  constructor(e, t) {
    super(e, t, IO, xu, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class UO {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.authKeys = new BO(this.core, this.logger)),
      (this.pairingTopics = new qO(this.core, this.logger)),
      (this.requests = new LO(this.core, this.logger));
  }
  async init() {
    await this.authKeys.init(),
      await this.pairingTopics.init(),
      await this.requests.init();
  }
}
class Dd extends CI {
  constructor(e) {
    super(e),
      (this.protocol = lm),
      (this.version = dm),
      (this.name = vl.name),
      (this.events = new Wi.EventEmitter()),
      (this.on = (i, n) => this.events.on(i, n)),
      (this.once = (i, n) => this.events.once(i, n)),
      (this.off = (i, n) => this.events.off(i, n)),
      (this.removeListener = (i, n) => this.events.removeListener(i, n)),
      (this.removeAllListeners = (i) => this.events.removeAllListeners(i)),
      (this.connect = async (i) => {
        try {
          return await this.engine.connect(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.pair = async (i) => {
        try {
          return await this.engine.pair(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.approve = async (i) => {
        try {
          return await this.engine.approve(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.reject = async (i) => {
        try {
          return await this.engine.reject(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.update = async (i) => {
        try {
          return await this.engine.update(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.extend = async (i) => {
        try {
          return await this.engine.extend(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.request = async (i) => {
        try {
          return await this.engine.request(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.respond = async (i) => {
        try {
          return await this.engine.respond(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.ping = async (i) => {
        try {
          return await this.engine.ping(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.emit = async (i) => {
        try {
          return await this.engine.emit(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.disconnect = async (i) => {
        try {
          return await this.engine.disconnect(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.find = (i) => {
        try {
          return this.engine.find(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.getPendingSessionRequests = () => {
        try {
          return this.engine.getPendingSessionRequests();
        } catch (i) {
          throw (this.logger.error(i.message), i);
        }
      }),
      (this.authenticate = async (i, n) => {
        try {
          return await this.engine.authenticate(i, n);
        } catch (a) {
          throw (this.logger.error(a.message), a);
        }
      }),
      (this.formatAuthMessage = (i) => {
        try {
          return this.engine.formatAuthMessage(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.approveSessionAuthenticate = async (i) => {
        try {
          return await this.engine.approveSessionAuthenticate(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.rejectSessionAuthenticate = async (i) => {
        try {
          return await this.engine.rejectSessionAuthenticate(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.name = (e == null ? void 0 : e.name) || vl.name),
      (this.metadata = (e == null ? void 0 : e.metadata) || $v()),
      (this.signConfig = e == null ? void 0 : e.signConfig);
    const t =
      typeof (e == null ? void 0 : e.logger) < "u" &&
      typeof (e == null ? void 0 : e.logger) != "string"
        ? e.logger
        : hc(Au({ level: (e == null ? void 0 : e.logger) || vl.logger }));
    (this.core = (e == null ? void 0 : e.core) || new vO(e)),
      (this.logger = Qr(t, this.name)),
      (this.session = new TO(this.core, this.logger)),
      (this.proposal = new NO(this.core, this.logger)),
      (this.pendingRequest = new FO(this.core, this.logger)),
      (this.engine = new RO(this)),
      (this.auth = new UO(this.core, this.logger));
  }
  static async init(e) {
    const t = new Dd(e);
    return await t.initialize(), t;
  }
  get context() {
    return pi(this.logger);
  }
  get pairing() {
    return this.core.pairing.pairings;
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.core.start(),
        await this.session.init(),
        await this.proposal.init(),
        await this.pendingRequest.init(),
        await this.auth.init(),
        await this.engine.init(),
        this.logger.info("SignClient Initialization Success"),
        this.engine.processRelayMessageCache();
    } catch (e) {
      throw (
        (this.logger.info("SignClient Initialization Failure"),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
var Yl = { exports: {} };
(function (r, e) {
  var t = typeof self < "u" ? self : Hi,
    i = (function () {
      function a() {
        (this.fetch = !1), (this.DOMException = t.DOMException);
      }
      return (a.prototype = t), new a();
    })();
  (function (a) {
    (function (f) {
      var h = {
        searchParams: "URLSearchParams" in a,
        iterable: "Symbol" in a && "iterator" in Symbol,
        blob:
          "FileReader" in a &&
          "Blob" in a &&
          (function () {
            try {
              return new Blob(), !0;
            } catch {
              return !1;
            }
          })(),
        formData: "FormData" in a,
        arrayBuffer: "ArrayBuffer" in a,
      };
      function b(u) {
        return u && DataView.prototype.isPrototypeOf(u);
      }
      if (h.arrayBuffer)
        var v = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]",
          ],
          y =
            ArrayBuffer.isView ||
            function (u) {
              return u && v.indexOf(Object.prototype.toString.call(u)) > -1;
            };
      function S(u) {
        if (
          (typeof u != "string" && (u = String(u)),
          /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))
        )
          throw new TypeError("Invalid character in header field name");
        return u.toLowerCase();
      }
      function O(u) {
        return typeof u != "string" && (u = String(u)), u;
      }
      function P(u) {
        var g = {
          next: function () {
            var _ = u.shift();
            return { done: _ === void 0, value: _ };
          },
        };
        return (
          h.iterable &&
            (g[Symbol.iterator] = function () {
              return g;
            }),
          g
        );
      }
      function C(u) {
        (this.map = {}),
          u instanceof C
            ? u.forEach(function (g, _) {
                this.append(_, g);
              }, this)
            : Array.isArray(u)
            ? u.forEach(function (g) {
                this.append(g[0], g[1]);
              }, this)
            : u &&
              Object.getOwnPropertyNames(u).forEach(function (g) {
                this.append(g, u[g]);
              }, this);
      }
      (C.prototype.append = function (u, g) {
        (u = S(u)), (g = O(g));
        var _ = this.map[u];
        this.map[u] = _ ? _ + ", " + g : g;
      }),
        (C.prototype.delete = function (u) {
          delete this.map[S(u)];
        }),
        (C.prototype.get = function (u) {
          return (u = S(u)), this.has(u) ? this.map[u] : null;
        }),
        (C.prototype.has = function (u) {
          return this.map.hasOwnProperty(S(u));
        }),
        (C.prototype.set = function (u, g) {
          this.map[S(u)] = O(g);
        }),
        (C.prototype.forEach = function (u, g) {
          for (var _ in this.map)
            this.map.hasOwnProperty(_) && u.call(g, this.map[_], _, this);
        }),
        (C.prototype.keys = function () {
          var u = [];
          return (
            this.forEach(function (g, _) {
              u.push(_);
            }),
            P(u)
          );
        }),
        (C.prototype.values = function () {
          var u = [];
          return (
            this.forEach(function (g) {
              u.push(g);
            }),
            P(u)
          );
        }),
        (C.prototype.entries = function () {
          var u = [];
          return (
            this.forEach(function (g, _) {
              u.push([_, g]);
            }),
            P(u)
          );
        }),
        h.iterable && (C.prototype[Symbol.iterator] = C.prototype.entries);
      function H(u) {
        if (u.bodyUsed) return Promise.reject(new TypeError("Already read"));
        u.bodyUsed = !0;
      }
      function V(u) {
        return new Promise(function (g, _) {
          (u.onload = function () {
            g(u.result);
          }),
            (u.onerror = function () {
              _(u.error);
            });
        });
      }
      function Q(u) {
        var g = new FileReader(),
          _ = V(g);
        return g.readAsArrayBuffer(u), _;
      }
      function j(u) {
        var g = new FileReader(),
          _ = V(g);
        return g.readAsText(u), _;
      }
      function Y(u) {
        for (
          var g = new Uint8Array(u), _ = new Array(g.length), I = 0;
          I < g.length;
          I++
        )
          _[I] = String.fromCharCode(g[I]);
        return _.join("");
      }
      function U(u) {
        if (u.slice) return u.slice(0);
        var g = new Uint8Array(u.byteLength);
        return g.set(new Uint8Array(u)), g.buffer;
      }
      function z() {
        return (
          (this.bodyUsed = !1),
          (this._initBody = function (u) {
            (this._bodyInit = u),
              u
                ? typeof u == "string"
                  ? (this._bodyText = u)
                  : h.blob && Blob.prototype.isPrototypeOf(u)
                  ? (this._bodyBlob = u)
                  : h.formData && FormData.prototype.isPrototypeOf(u)
                  ? (this._bodyFormData = u)
                  : h.searchParams && URLSearchParams.prototype.isPrototypeOf(u)
                  ? (this._bodyText = u.toString())
                  : h.arrayBuffer && h.blob && b(u)
                  ? ((this._bodyArrayBuffer = U(u.buffer)),
                    (this._bodyInit = new Blob([this._bodyArrayBuffer])))
                  : h.arrayBuffer &&
                    (ArrayBuffer.prototype.isPrototypeOf(u) || y(u))
                  ? (this._bodyArrayBuffer = U(u))
                  : (this._bodyText = u = Object.prototype.toString.call(u))
                : (this._bodyText = ""),
              this.headers.get("content-type") ||
                (typeof u == "string"
                  ? this.headers.set("content-type", "text/plain;charset=UTF-8")
                  : this._bodyBlob && this._bodyBlob.type
                  ? this.headers.set("content-type", this._bodyBlob.type)
                  : h.searchParams &&
                    URLSearchParams.prototype.isPrototypeOf(u) &&
                    this.headers.set(
                      "content-type",
                      "application/x-www-form-urlencoded;charset=UTF-8"
                    ));
          }),
          h.blob &&
            ((this.blob = function () {
              var u = H(this);
              if (u) return u;
              if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
              if (this._bodyArrayBuffer)
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              if (this._bodyFormData)
                throw new Error("could not read FormData body as blob");
              return Promise.resolve(new Blob([this._bodyText]));
            }),
            (this.arrayBuffer = function () {
              return this._bodyArrayBuffer
                ? H(this) || Promise.resolve(this._bodyArrayBuffer)
                : this.blob().then(Q);
            })),
          (this.text = function () {
            var u = H(this);
            if (u) return u;
            if (this._bodyBlob) return j(this._bodyBlob);
            if (this._bodyArrayBuffer)
              return Promise.resolve(Y(this._bodyArrayBuffer));
            if (this._bodyFormData)
              throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText);
          }),
          h.formData &&
            (this.formData = function () {
              return this.text().then(ae);
            }),
          (this.json = function () {
            return this.text().then(JSON.parse);
          }),
          this
        );
      }
      var G = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
      function A(u) {
        var g = u.toUpperCase();
        return G.indexOf(g) > -1 ? g : u;
      }
      function F(u, g) {
        g = g || {};
        var _ = g.body;
        if (u instanceof F) {
          if (u.bodyUsed) throw new TypeError("Already read");
          (this.url = u.url),
            (this.credentials = u.credentials),
            g.headers || (this.headers = new C(u.headers)),
            (this.method = u.method),
            (this.mode = u.mode),
            (this.signal = u.signal),
            !_ && u._bodyInit != null && ((_ = u._bodyInit), (u.bodyUsed = !0));
        } else this.url = String(u);
        if (
          ((this.credentials =
            g.credentials || this.credentials || "same-origin"),
          (g.headers || !this.headers) && (this.headers = new C(g.headers)),
          (this.method = A(g.method || this.method || "GET")),
          (this.mode = g.mode || this.mode || null),
          (this.signal = g.signal || this.signal),
          (this.referrer = null),
          (this.method === "GET" || this.method === "HEAD") && _)
        )
          throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(_);
      }
      F.prototype.clone = function () {
        return new F(this, { body: this._bodyInit });
      };
      function ae(u) {
        var g = new FormData();
        return (
          u
            .trim()
            .split("&")
            .forEach(function (_) {
              if (_) {
                var I = _.split("="),
                  x = I.shift().replace(/\+/g, " "),
                  M = I.join("=").replace(/\+/g, " ");
                g.append(decodeURIComponent(x), decodeURIComponent(M));
              }
            }),
          g
        );
      }
      function de(u) {
        var g = new C(),
          _ = u.replace(/\r?\n[\t ]+/g, " ");
        return (
          _.split(/\r?\n/).forEach(function (I) {
            var x = I.split(":"),
              M = x.shift().trim();
            if (M) {
              var d = x.join(":").trim();
              g.append(M, d);
            }
          }),
          g
        );
      }
      z.call(F.prototype);
      function B(u, g) {
        g || (g = {}),
          (this.type = "default"),
          (this.status = g.status === void 0 ? 200 : g.status),
          (this.ok = this.status >= 200 && this.status < 300),
          (this.statusText = "statusText" in g ? g.statusText : "OK"),
          (this.headers = new C(g.headers)),
          (this.url = g.url || ""),
          this._initBody(u);
      }
      z.call(B.prototype),
        (B.prototype.clone = function () {
          return new B(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new C(this.headers),
            url: this.url,
          });
        }),
        (B.error = function () {
          var u = new B(null, { status: 0, statusText: "" });
          return (u.type = "error"), u;
        });
      var m = [301, 302, 303, 307, 308];
      (B.redirect = function (u, g) {
        if (m.indexOf(g) === -1) throw new RangeError("Invalid status code");
        return new B(null, { status: g, headers: { location: u } });
      }),
        (f.DOMException = a.DOMException);
      try {
        new f.DOMException();
      } catch {
        (f.DOMException = function (g, _) {
          (this.message = g), (this.name = _);
          var I = Error(g);
          this.stack = I.stack;
        }),
          (f.DOMException.prototype = Object.create(Error.prototype)),
          (f.DOMException.prototype.constructor = f.DOMException);
      }
      function c(u, g) {
        return new Promise(function (_, I) {
          var x = new F(u, g);
          if (x.signal && x.signal.aborted)
            return I(new f.DOMException("Aborted", "AbortError"));
          var M = new XMLHttpRequest();
          function d() {
            M.abort();
          }
          (M.onload = function () {
            var p = {
              status: M.status,
              statusText: M.statusText,
              headers: de(M.getAllResponseHeaders() || ""),
            };
            p.url =
              "responseURL" in M
                ? M.responseURL
                : p.headers.get("X-Request-URL");
            var N = "response" in M ? M.response : M.responseText;
            _(new B(N, p));
          }),
            (M.onerror = function () {
              I(new TypeError("Network request failed"));
            }),
            (M.ontimeout = function () {
              I(new TypeError("Network request failed"));
            }),
            (M.onabort = function () {
              I(new f.DOMException("Aborted", "AbortError"));
            }),
            M.open(x.method, x.url, !0),
            x.credentials === "include"
              ? (M.withCredentials = !0)
              : x.credentials === "omit" && (M.withCredentials = !1),
            "responseType" in M && h.blob && (M.responseType = "blob"),
            x.headers.forEach(function (p, N) {
              M.setRequestHeader(N, p);
            }),
            x.signal &&
              (x.signal.addEventListener("abort", d),
              (M.onreadystatechange = function () {
                M.readyState === 4 && x.signal.removeEventListener("abort", d);
              })),
            M.send(typeof x._bodyInit > "u" ? null : x._bodyInit);
        });
      }
      return (
        (c.polyfill = !0),
        a.fetch ||
          ((a.fetch = c), (a.Headers = C), (a.Request = F), (a.Response = B)),
        (f.Headers = C),
        (f.Request = F),
        (f.Response = B),
        (f.fetch = c),
        Object.defineProperty(f, "__esModule", { value: !0 }),
        f
      );
    })({});
  })(i),
    (i.fetch.ponyfill = !0),
    delete i.fetch.polyfill;
  var n = i;
  (e = n.fetch),
    (e.default = n.fetch),
    (e.fetch = n.fetch),
    (e.Headers = n.Headers),
    (e.Request = n.Request),
    (e.Response = n.Response),
    (r.exports = e);
})(Yl, Yl.exports);
var $O = Yl.exports;
const qg = Zl($O);
var jO = Object.defineProperty,
  zO = Object.defineProperties,
  kO = Object.getOwnPropertyDescriptors,
  Lg = Object.getOwnPropertySymbols,
  HO = Object.prototype.hasOwnProperty,
  KO = Object.prototype.propertyIsEnumerable,
  Ug = (r, e, t) =>
    e in r
      ? jO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  $g = (r, e) => {
    for (var t in e || (e = {})) HO.call(e, t) && Ug(r, t, e[t]);
    if (Lg) for (var t of Lg(e)) KO.call(e, t) && Ug(r, t, e[t]);
    return r;
  },
  jg = (r, e) => zO(r, kO(e));
const VO = { Accept: "application/json", "Content-Type": "application/json" },
  GO = "POST",
  zg = { headers: VO, method: GO },
  kg = 10;
class Gi {
  constructor(e, t = !1) {
    if (
      ((this.url = e),
      (this.disableProviderPing = t),
      (this.events = new Wi.EventEmitter()),
      (this.isAvailable = !1),
      (this.registering = !1),
      !fg(e))
    )
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`
      );
    (this.url = e), (this.disableProviderPing = t);
  }
  get connected() {
    return this.isAvailable;
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    if (!this.isAvailable) throw new Error("Connection already closed");
    this.onClose();
  }
  async send(e) {
    this.isAvailable || (await this.register());
    try {
      const t = cs(e),
        i = await (await qg(this.url, jg($g({}, zg), { body: t }))).json();
      this.onPayload({ data: i });
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  async register(e = this.url) {
    if (!fg(e))
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, n) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), n(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.isAvailable > "u"))
                return n(new Error("HTTP connection is missing or invalid"));
              i();
            });
        })
      );
    }
    (this.url = e), (this.registering = !0);
    try {
      if (!this.disableProviderPing) {
        const t = cs({ id: 1, jsonrpc: "2.0", method: "test", params: [] });
        await qg(e, jg($g({}, zg), { body: t }));
      }
      this.onOpen();
    } catch (t) {
      const i = this.parseError(t);
      throw (this.events.emit("register_error", i), this.onClose(), i);
    }
  }
  onOpen() {
    (this.isAvailable = !0), (this.registering = !1), this.events.emit("open");
  }
  onClose() {
    (this.isAvailable = !1), (this.registering = !1), this.events.emit("close");
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? ra(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      n = i.message || i.toString(),
      a = Su(e, n);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return Kb(e, t, "HTTP");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > kg && this.events.setMaxListeners(kg);
  }
}
const hR = Object.freeze(
    Object.defineProperty(
      { __proto__: null, HttpConnection: Gi, default: Gi },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Hg = "error",
  WO = "wss://relay.walletconnect.org",
  JO = "wc",
  YO = "universal_provider",
  Kg = `${JO}@2:${YO}:`,
  vm = "https://rpc.walletconnect.org/v1/",
  Ba = "generic",
  QO = `${vm}bundler`,
  mn = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" };
var To =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
      ? window
      : typeof pt < "u"
      ? pt
      : typeof self < "u"
      ? self
      : {},
  Ql = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ (function (r, e) {
  (function () {
    var t,
      i = "4.17.21",
      n = 200,
      a = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
      f = "Expected a function",
      h = "Invalid `variable` option passed into `_.template`",
      b = "__lodash_hash_undefined__",
      v = 500,
      y = "__lodash_placeholder__",
      S = 1,
      O = 2,
      P = 4,
      C = 1,
      H = 2,
      V = 1,
      Q = 2,
      j = 4,
      Y = 8,
      U = 16,
      z = 32,
      G = 64,
      A = 128,
      F = 256,
      ae = 512,
      de = 30,
      B = "...",
      m = 800,
      c = 16,
      u = 1,
      g = 2,
      _ = 3,
      I = 1 / 0,
      x = 9007199254740991,
      M = 17976931348623157e292,
      d = NaN,
      p = 4294967295,
      N = p - 1,
      Z = p >>> 1,
      se = [
        ["ary", A],
        ["bind", V],
        ["bindKey", Q],
        ["curry", Y],
        ["curryRight", U],
        ["flip", ae],
        ["partial", z],
        ["partialRight", G],
        ["rearg", F],
      ],
      D = "[object Arguments]",
      ee = "[object Array]",
      q = "[object AsyncFunction]",
      k = "[object Boolean]",
      K = "[object Date]",
      w = "[object DOMException]",
      $ = "[object Error]",
      ne = "[object Function]",
      ce = "[object GeneratorFunction]",
      ue = "[object Map]",
      ye = "[object Number]",
      we = "[object Null]",
      Re = "[object Object]",
      Qe = "[object Promise]",
      Pe = "[object Proxy]",
      Ne = "[object RegExp]",
      Ie = "[object Set]",
      me = "[object String]",
      Oe = "[object Symbol]",
      Te = "[object Undefined]",
      ve = "[object WeakMap]",
      Ce = "[object WeakSet]",
      Me = "[object ArrayBuffer]",
      be = "[object DataView]",
      Le = "[object Float32Array]",
      xe = "[object Float64Array]",
      _e = "[object Int8Array]",
      He = "[object Int16Array]",
      Ve = "[object Int32Array]",
      Ee = "[object Uint8Array]",
      Ke = "[object Uint8ClampedArray]",
      ht = "[object Uint16Array]",
      Ge = "[object Uint32Array]",
      At = /\b__p \+= '';/g,
      lt = /\b(__p \+=) '' \+/g,
      Je = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
      St = /&(?:amp|lt|gt|quot|#39);/g,
      xt = /[&<>"']/g,
      Fe = RegExp(St.source),
      Xe = RegExp(xt.source),
      tt = /<%-([\s\S]+?)%>/g,
      Be = /<%([\s\S]+?)%>/g,
      et = /<%=([\s\S]+?)%>/g,
      Ze = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
      $e = /^\w*$/,
      ft =
        /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
      rt = /[\\^$.*+?()[\]{}|]/g,
      je = RegExp(rt.source),
      it = /^\s+/,
      st = /\s/,
      qe = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
      Ye = /\{\n\/\* \[wrapped with (.+)\] \*/,
      ut = /,? & /,
      ze = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
      Nt = /[()=,{}\[\]\/\s]/,
      Tt = /\\(\\)?/g,
      at = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
      mt = /\w*$/,
      Nr = /^[-+]0x[0-9a-f]+$/i,
      Tr = /^0b[01]+$/i,
      Fr = /^\[object .+?Constructor\]$/,
      Br = /^0o[0-7]+$/i,
      qr = /^(?:0|[1-9]\d*)$/,
      er = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
      Xr = /($^)/,
      Qi = /['\n\r\u2028\u2029\\]/g,
      Zr = "\\ud800-\\udfff",
      Xi = "\\u0300-\\u036f",
      Zi = "\\ufe20-\\ufe2f",
      ei = "\\u20d0-\\u20ff",
      xi = Xi + Zi + ei,
      Di = "\\u2700-\\u27bf",
      lr = "a-z\\xdf-\\xf6\\xf8-\\xff",
      en = "\\xac\\xb1\\xd7\\xf7",
      tn = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",
      rn = "\\u2000-\\u206f",
      Cs =
        " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
      pc = "A-Z\\xc0-\\xd6\\xd8-\\xde",
      gc = "\\ufe0e\\ufe0f",
      Rs = en + tn + rn + Cs,
      io = "['’]",
      Ns = "[" + Zr + "]",
      no = "[" + Rs + "]",
      Ts = "[" + xi + "]",
      vc = "\\d+",
      Pu = "[" + Di + "]",
      bc = "[" + lr + "]",
      mc = "[^" + Zr + Rs + vc + Di + lr + pc + "]",
      da = "\\ud83c[\\udffb-\\udfff]",
      Ou = "(?:" + Ts + "|" + da + ")",
      yc = "[^" + Zr + "]",
      pa = "(?:\\ud83c[\\udde6-\\uddff]){2}",
      us = "[\\ud800-\\udbff][\\udc00-\\udfff]",
      gi = "[" + pc + "]",
      wc = "\\u200d",
      _c = "(?:" + bc + "|" + mc + ")",
      yn = "(?:" + gi + "|" + mc + ")",
      Ac = "(?:" + io + "(?:d|ll|m|re|s|t|ve))?",
      Ec = "(?:" + io + "(?:D|LL|M|RE|S|T|VE))?",
      Sc = Ou + "?",
      Mc = "[" + gc + "]?",
      Cu = "(?:" + wc + "(?:" + [yc, pa, us].join("|") + ")" + Mc + Sc + ")*",
      zn = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
      Ic = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
      xc = Mc + Sc + Cu,
      ga = "(?:" + [Pu, pa, us].join("|") + ")" + xc,
      Ru = "(?:" + [yc + Ts + "?", Ts, pa, us, Ns].join("|") + ")",
      so = RegExp(io, "g"),
      Nu = RegExp(Ts, "g"),
      va = RegExp(da + "(?=" + da + ")|" + Ru + xc, "g"),
      Dc = RegExp(
        [
          gi + "?" + bc + "+" + Ac + "(?=" + [no, gi, "$"].join("|") + ")",
          yn + "+" + Ec + "(?=" + [no, gi + _c, "$"].join("|") + ")",
          gi + "?" + _c + "+" + Ac,
          gi + "+" + Ec,
          Ic,
          zn,
          vc,
          ga,
        ].join("|"),
        "g"
      ),
      Pc = RegExp("[" + wc + Zr + xi + gc + "]"),
      Fs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
      Oc = [
        "Array",
        "Buffer",
        "DataView",
        "Date",
        "Error",
        "Float32Array",
        "Float64Array",
        "Function",
        "Int8Array",
        "Int16Array",
        "Int32Array",
        "Map",
        "Math",
        "Object",
        "Promise",
        "RegExp",
        "Set",
        "String",
        "Symbol",
        "TypeError",
        "Uint8Array",
        "Uint8ClampedArray",
        "Uint16Array",
        "Uint32Array",
        "WeakMap",
        "_",
        "clearTimeout",
        "isFinite",
        "parseInt",
        "setTimeout",
      ],
      Tu = -1,
      jt = {};
    (jt[Le] =
      jt[xe] =
      jt[_e] =
      jt[He] =
      jt[Ve] =
      jt[Ee] =
      jt[Ke] =
      jt[ht] =
      jt[Ge] =
        !0),
      (jt[D] =
        jt[ee] =
        jt[Me] =
        jt[k] =
        jt[be] =
        jt[K] =
        jt[$] =
        jt[ne] =
        jt[ue] =
        jt[ye] =
        jt[Re] =
        jt[Ne] =
        jt[Ie] =
        jt[me] =
        jt[ve] =
          !1);
    var $t = {};
    ($t[D] =
      $t[ee] =
      $t[Me] =
      $t[be] =
      $t[k] =
      $t[K] =
      $t[Le] =
      $t[xe] =
      $t[_e] =
      $t[He] =
      $t[Ve] =
      $t[ue] =
      $t[ye] =
      $t[Re] =
      $t[Ne] =
      $t[Ie] =
      $t[me] =
      $t[Oe] =
      $t[Ee] =
      $t[Ke] =
      $t[ht] =
      $t[Ge] =
        !0),
      ($t[$] = $t[ne] = $t[ve] = !1);
    var W = {
        À: "A",
        Á: "A",
        Â: "A",
        Ã: "A",
        Ä: "A",
        Å: "A",
        à: "a",
        á: "a",
        â: "a",
        ã: "a",
        ä: "a",
        å: "a",
        Ç: "C",
        ç: "c",
        Ð: "D",
        ð: "d",
        È: "E",
        É: "E",
        Ê: "E",
        Ë: "E",
        è: "e",
        é: "e",
        ê: "e",
        ë: "e",
        Ì: "I",
        Í: "I",
        Î: "I",
        Ï: "I",
        ì: "i",
        í: "i",
        î: "i",
        ï: "i",
        Ñ: "N",
        ñ: "n",
        Ò: "O",
        Ó: "O",
        Ô: "O",
        Õ: "O",
        Ö: "O",
        Ø: "O",
        ò: "o",
        ó: "o",
        ô: "o",
        õ: "o",
        ö: "o",
        ø: "o",
        Ù: "U",
        Ú: "U",
        Û: "U",
        Ü: "U",
        ù: "u",
        ú: "u",
        û: "u",
        ü: "u",
        Ý: "Y",
        ý: "y",
        ÿ: "y",
        Æ: "Ae",
        æ: "ae",
        Þ: "Th",
        þ: "th",
        ß: "ss",
        Ā: "A",
        Ă: "A",
        Ą: "A",
        ā: "a",
        ă: "a",
        ą: "a",
        Ć: "C",
        Ĉ: "C",
        Ċ: "C",
        Č: "C",
        ć: "c",
        ĉ: "c",
        ċ: "c",
        č: "c",
        Ď: "D",
        Đ: "D",
        ď: "d",
        đ: "d",
        Ē: "E",
        Ĕ: "E",
        Ė: "E",
        Ę: "E",
        Ě: "E",
        ē: "e",
        ĕ: "e",
        ė: "e",
        ę: "e",
        ě: "e",
        Ĝ: "G",
        Ğ: "G",
        Ġ: "G",
        Ģ: "G",
        ĝ: "g",
        ğ: "g",
        ġ: "g",
        ģ: "g",
        Ĥ: "H",
        Ħ: "H",
        ĥ: "h",
        ħ: "h",
        Ĩ: "I",
        Ī: "I",
        Ĭ: "I",
        Į: "I",
        İ: "I",
        ĩ: "i",
        ī: "i",
        ĭ: "i",
        į: "i",
        ı: "i",
        Ĵ: "J",
        ĵ: "j",
        Ķ: "K",
        ķ: "k",
        ĸ: "k",
        Ĺ: "L",
        Ļ: "L",
        Ľ: "L",
        Ŀ: "L",
        Ł: "L",
        ĺ: "l",
        ļ: "l",
        ľ: "l",
        ŀ: "l",
        ł: "l",
        Ń: "N",
        Ņ: "N",
        Ň: "N",
        Ŋ: "N",
        ń: "n",
        ņ: "n",
        ň: "n",
        ŋ: "n",
        Ō: "O",
        Ŏ: "O",
        Ő: "O",
        ō: "o",
        ŏ: "o",
        ő: "o",
        Ŕ: "R",
        Ŗ: "R",
        Ř: "R",
        ŕ: "r",
        ŗ: "r",
        ř: "r",
        Ś: "S",
        Ŝ: "S",
        Ş: "S",
        Š: "S",
        ś: "s",
        ŝ: "s",
        ş: "s",
        š: "s",
        Ţ: "T",
        Ť: "T",
        Ŧ: "T",
        ţ: "t",
        ť: "t",
        ŧ: "t",
        Ũ: "U",
        Ū: "U",
        Ŭ: "U",
        Ů: "U",
        Ű: "U",
        Ų: "U",
        ũ: "u",
        ū: "u",
        ŭ: "u",
        ů: "u",
        ű: "u",
        ų: "u",
        Ŵ: "W",
        ŵ: "w",
        Ŷ: "Y",
        ŷ: "y",
        Ÿ: "Y",
        Ź: "Z",
        Ż: "Z",
        Ž: "Z",
        ź: "z",
        ż: "z",
        ž: "z",
        Ĳ: "IJ",
        ĳ: "ij",
        Œ: "Oe",
        œ: "oe",
        ŉ: "'n",
        ſ: "s",
      },
      te = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
      },
      pe = {
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&quot;": '"',
        "&#39;": "'",
      },
      Ue = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029",
      },
      zt = parseFloat,
      gt = parseInt,
      Jt = typeof To == "object" && To && To.Object === Object && To,
      ur = typeof self == "object" && self && self.Object === Object && self,
      Ct = Jt || ur || Function("return this")(),
      kt = e && !e.nodeType && e,
      sr = kt && !0 && r && !r.nodeType && r,
      ti = sr && sr.exports === kt,
      hr = ti && Jt.process,
      Yt = (function () {
        try {
          var re = sr && sr.require && sr.require("util").types;
          return re || (hr && hr.binding && hr.binding("util"));
        } catch {}
      })(),
      kr = Yt && Yt.isArrayBuffer,
      nn = Yt && Yt.isDate,
      Pi = Yt && Yt.isMap,
      wn = Yt && Yt.isRegExp,
      ao = Yt && Yt.isSet,
      Bs = Yt && Yt.isTypedArray;
    function yr(re, fe, oe) {
      switch (oe.length) {
        case 0:
          return re.call(fe);
        case 1:
          return re.call(fe, oe[0]);
        case 2:
          return re.call(fe, oe[0], oe[1]);
        case 3:
          return re.call(fe, oe[0], oe[1], oe[2]);
      }
      return re.apply(fe, oe);
    }
    function _m(re, fe, oe, ke) {
      for (var dt = -1, Ft = re == null ? 0 : re.length; ++dt < Ft; ) {
        var dr = re[dt];
        fe(ke, dr, oe(dr), re);
      }
      return ke;
    }
    function Oi(re, fe) {
      for (
        var oe = -1, ke = re == null ? 0 : re.length;
        ++oe < ke && fe(re[oe], oe, re) !== !1;

      );
      return re;
    }
    function Am(re, fe) {
      for (
        var oe = re == null ? 0 : re.length;
        oe-- && fe(re[oe], oe, re) !== !1;

      );
      return re;
    }
    function Od(re, fe) {
      for (var oe = -1, ke = re == null ? 0 : re.length; ++oe < ke; )
        if (!fe(re[oe], oe, re)) return !1;
      return !0;
    }
    function hs(re, fe) {
      for (
        var oe = -1, ke = re == null ? 0 : re.length, dt = 0, Ft = [];
        ++oe < ke;

      ) {
        var dr = re[oe];
        fe(dr, oe, re) && (Ft[dt++] = dr);
      }
      return Ft;
    }
    function Cc(re, fe) {
      var oe = re == null ? 0 : re.length;
      return !!oe && ba(re, fe, 0) > -1;
    }
    function Fu(re, fe, oe) {
      for (var ke = -1, dt = re == null ? 0 : re.length; ++ke < dt; )
        if (oe(fe, re[ke])) return !0;
      return !1;
    }
    function Xt(re, fe) {
      for (
        var oe = -1, ke = re == null ? 0 : re.length, dt = Array(ke);
        ++oe < ke;

      )
        dt[oe] = fe(re[oe], oe, re);
      return dt;
    }
    function ls(re, fe) {
      for (var oe = -1, ke = fe.length, dt = re.length; ++oe < ke; )
        re[dt + oe] = fe[oe];
      return re;
    }
    function Bu(re, fe, oe, ke) {
      var dt = -1,
        Ft = re == null ? 0 : re.length;
      for (ke && Ft && (oe = re[++dt]); ++dt < Ft; )
        oe = fe(oe, re[dt], dt, re);
      return oe;
    }
    function Em(re, fe, oe, ke) {
      var dt = re == null ? 0 : re.length;
      for (ke && dt && (oe = re[--dt]); dt--; ) oe = fe(oe, re[dt], dt, re);
      return oe;
    }
    function qu(re, fe) {
      for (var oe = -1, ke = re == null ? 0 : re.length; ++oe < ke; )
        if (fe(re[oe], oe, re)) return !0;
      return !1;
    }
    var Sm = Lu("length");
    function Mm(re) {
      return re.split("");
    }
    function Im(re) {
      return re.match(ze) || [];
    }
    function Cd(re, fe, oe) {
      var ke;
      return (
        oe(re, function (dt, Ft, dr) {
          if (fe(dt, Ft, dr)) return (ke = Ft), !1;
        }),
        ke
      );
    }
    function Rc(re, fe, oe, ke) {
      for (var dt = re.length, Ft = oe + (ke ? 1 : -1); ke ? Ft-- : ++Ft < dt; )
        if (fe(re[Ft], Ft, re)) return Ft;
      return -1;
    }
    function ba(re, fe, oe) {
      return fe === fe ? Lm(re, fe, oe) : Rc(re, Rd, oe);
    }
    function xm(re, fe, oe, ke) {
      for (var dt = oe - 1, Ft = re.length; ++dt < Ft; )
        if (ke(re[dt], fe)) return dt;
      return -1;
    }
    function Rd(re) {
      return re !== re;
    }
    function Nd(re, fe) {
      var oe = re == null ? 0 : re.length;
      return oe ? $u(re, fe) / oe : d;
    }
    function Lu(re) {
      return function (fe) {
        return fe == null ? t : fe[re];
      };
    }
    function Uu(re) {
      return function (fe) {
        return re == null ? t : re[fe];
      };
    }
    function Td(re, fe, oe, ke, dt) {
      return (
        dt(re, function (Ft, dr, Ht) {
          oe = ke ? ((ke = !1), Ft) : fe(oe, Ft, dr, Ht);
        }),
        oe
      );
    }
    function Dm(re, fe) {
      var oe = re.length;
      for (re.sort(fe); oe--; ) re[oe] = re[oe].value;
      return re;
    }
    function $u(re, fe) {
      for (var oe, ke = -1, dt = re.length; ++ke < dt; ) {
        var Ft = fe(re[ke]);
        Ft !== t && (oe = oe === t ? Ft : oe + Ft);
      }
      return oe;
    }
    function ju(re, fe) {
      for (var oe = -1, ke = Array(re); ++oe < re; ) ke[oe] = fe(oe);
      return ke;
    }
    function Pm(re, fe) {
      return Xt(fe, function (oe) {
        return [oe, re[oe]];
      });
    }
    function Fd(re) {
      return re && re.slice(0, Ud(re) + 1).replace(it, "");
    }
    function vi(re) {
      return function (fe) {
        return re(fe);
      };
    }
    function zu(re, fe) {
      return Xt(fe, function (oe) {
        return re[oe];
      });
    }
    function oo(re, fe) {
      return re.has(fe);
    }
    function Bd(re, fe) {
      for (var oe = -1, ke = re.length; ++oe < ke && ba(fe, re[oe], 0) > -1; );
      return oe;
    }
    function qd(re, fe) {
      for (var oe = re.length; oe-- && ba(fe, re[oe], 0) > -1; );
      return oe;
    }
    function Om(re, fe) {
      for (var oe = re.length, ke = 0; oe--; ) re[oe] === fe && ++ke;
      return ke;
    }
    var Cm = Uu(W),
      Rm = Uu(te);
    function Nm(re) {
      return "\\" + Ue[re];
    }
    function Tm(re, fe) {
      return re == null ? t : re[fe];
    }
    function ma(re) {
      return Pc.test(re);
    }
    function Fm(re) {
      return Fs.test(re);
    }
    function Bm(re) {
      for (var fe, oe = []; !(fe = re.next()).done; ) oe.push(fe.value);
      return oe;
    }
    function ku(re) {
      var fe = -1,
        oe = Array(re.size);
      return (
        re.forEach(function (ke, dt) {
          oe[++fe] = [dt, ke];
        }),
        oe
      );
    }
    function Ld(re, fe) {
      return function (oe) {
        return re(fe(oe));
      };
    }
    function ds(re, fe) {
      for (var oe = -1, ke = re.length, dt = 0, Ft = []; ++oe < ke; ) {
        var dr = re[oe];
        (dr === fe || dr === y) && ((re[oe] = y), (Ft[dt++] = oe));
      }
      return Ft;
    }
    function Nc(re) {
      var fe = -1,
        oe = Array(re.size);
      return (
        re.forEach(function (ke) {
          oe[++fe] = ke;
        }),
        oe
      );
    }
    function qm(re) {
      var fe = -1,
        oe = Array(re.size);
      return (
        re.forEach(function (ke) {
          oe[++fe] = [ke, ke];
        }),
        oe
      );
    }
    function Lm(re, fe, oe) {
      for (var ke = oe - 1, dt = re.length; ++ke < dt; )
        if (re[ke] === fe) return ke;
      return -1;
    }
    function Um(re, fe, oe) {
      for (var ke = oe + 1; ke--; ) if (re[ke] === fe) return ke;
      return ke;
    }
    function ya(re) {
      return ma(re) ? jm(re) : Sm(re);
    }
    function sn(re) {
      return ma(re) ? zm(re) : Mm(re);
    }
    function Ud(re) {
      for (var fe = re.length; fe-- && st.test(re.charAt(fe)); );
      return fe;
    }
    var $m = Uu(pe);
    function jm(re) {
      for (var fe = (va.lastIndex = 0); va.test(re); ) ++fe;
      return fe;
    }
    function zm(re) {
      return re.match(va) || [];
    }
    function km(re) {
      return re.match(Dc) || [];
    }
    var Hm = function re(fe) {
        fe = fe == null ? Ct : wa.defaults(Ct.Object(), fe, wa.pick(Ct, Oc));
        var oe = fe.Array,
          ke = fe.Date,
          dt = fe.Error,
          Ft = fe.Function,
          dr = fe.Math,
          Ht = fe.Object,
          Hu = fe.RegExp,
          Km = fe.String,
          Ci = fe.TypeError,
          Tc = oe.prototype,
          Vm = Ft.prototype,
          _a = Ht.prototype,
          Fc = fe["__core-js_shared__"],
          Bc = Vm.toString,
          Lt = _a.hasOwnProperty,
          Gm = 0,
          $d = (function () {
            var s = /[^.]+$/.exec((Fc && Fc.keys && Fc.keys.IE_PROTO) || "");
            return s ? "Symbol(src)_1." + s : "";
          })(),
          qc = _a.toString,
          Wm = Bc.call(Ht),
          Jm = Ct._,
          Ym = Hu(
            "^" +
              Bc.call(Lt)
                .replace(rt, "\\$&")
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  "$1.*?"
                ) +
              "$"
          ),
          Lc = ti ? fe.Buffer : t,
          ps = fe.Symbol,
          Uc = fe.Uint8Array,
          jd = Lc ? Lc.allocUnsafe : t,
          $c = Ld(Ht.getPrototypeOf, Ht),
          zd = Ht.create,
          kd = _a.propertyIsEnumerable,
          jc = Tc.splice,
          Hd = ps ? ps.isConcatSpreadable : t,
          co = ps ? ps.iterator : t,
          qs = ps ? ps.toStringTag : t,
          zc = (function () {
            try {
              var s = zs(Ht, "defineProperty");
              return s({}, "", {}), s;
            } catch {}
          })(),
          Qm = fe.clearTimeout !== Ct.clearTimeout && fe.clearTimeout,
          Xm = ke && ke.now !== Ct.Date.now && ke.now,
          Zm = fe.setTimeout !== Ct.setTimeout && fe.setTimeout,
          kc = dr.ceil,
          Hc = dr.floor,
          Ku = Ht.getOwnPropertySymbols,
          e2 = Lc ? Lc.isBuffer : t,
          Kd = fe.isFinite,
          t2 = Tc.join,
          r2 = Ld(Ht.keys, Ht),
          pr = dr.max,
          Lr = dr.min,
          i2 = ke.now,
          n2 = fe.parseInt,
          Vd = dr.random,
          s2 = Tc.reverse,
          Vu = zs(fe, "DataView"),
          fo = zs(fe, "Map"),
          Gu = zs(fe, "Promise"),
          Aa = zs(fe, "Set"),
          uo = zs(fe, "WeakMap"),
          ho = zs(Ht, "create"),
          Kc = uo && new uo(),
          Ea = {},
          a2 = ks(Vu),
          o2 = ks(fo),
          c2 = ks(Gu),
          f2 = ks(Aa),
          u2 = ks(uo),
          Vc = ps ? ps.prototype : t,
          lo = Vc ? Vc.valueOf : t,
          Gd = Vc ? Vc.toString : t;
        function T(s) {
          if (tr(s) && !vt(s) && !(s instanceof Dt)) {
            if (s instanceof Ri) return s;
            if (Lt.call(s, "__wrapped__")) return W0(s);
          }
          return new Ri(s);
        }
        var Sa = (function () {
          function s() {}
          return function (o) {
            if (!Zt(o)) return {};
            if (zd) return zd(o);
            s.prototype = o;
            var l = new s();
            return (s.prototype = t), l;
          };
        })();
        function Gc() {}
        function Ri(s, o) {
          (this.__wrapped__ = s),
            (this.__actions__ = []),
            (this.__chain__ = !!o),
            (this.__index__ = 0),
            (this.__values__ = t);
        }
        (T.templateSettings = {
          escape: tt,
          evaluate: Be,
          interpolate: et,
          variable: "",
          imports: { _: T },
        }),
          (T.prototype = Gc.prototype),
          (T.prototype.constructor = T),
          (Ri.prototype = Sa(Gc.prototype)),
          (Ri.prototype.constructor = Ri);
        function Dt(s) {
          (this.__wrapped__ = s),
            (this.__actions__ = []),
            (this.__dir__ = 1),
            (this.__filtered__ = !1),
            (this.__iteratees__ = []),
            (this.__takeCount__ = p),
            (this.__views__ = []);
        }
        function h2() {
          var s = new Dt(this.__wrapped__);
          return (
            (s.__actions__ = ri(this.__actions__)),
            (s.__dir__ = this.__dir__),
            (s.__filtered__ = this.__filtered__),
            (s.__iteratees__ = ri(this.__iteratees__)),
            (s.__takeCount__ = this.__takeCount__),
            (s.__views__ = ri(this.__views__)),
            s
          );
        }
        function l2() {
          if (this.__filtered__) {
            var s = new Dt(this);
            (s.__dir__ = -1), (s.__filtered__ = !0);
          } else (s = this.clone()), (s.__dir__ *= -1);
          return s;
        }
        function d2() {
          var s = this.__wrapped__.value(),
            o = this.__dir__,
            l = vt(s),
            E = o < 0,
            R = l ? s.length : 0,
            L = My(0, R, this.__views__),
            J = L.start,
            X = L.end,
            ie = X - J,
            he = E ? X : J - 1,
            le = this.__iteratees__,
            ge = le.length,
            De = 0,
            We = Lr(ie, this.__takeCount__);
          if (!l || (!E && R == ie && We == ie)) return b0(s, this.__actions__);
          var ot = [];
          e: for (; ie-- && De < We; ) {
            he += o;
            for (var _t = -1, ct = s[he]; ++_t < ge; ) {
              var Mt = le[_t],
                Rt = Mt.iteratee,
                yi = Mt.type,
                Vr = Rt(ct);
              if (yi == g) ct = Vr;
              else if (!Vr) {
                if (yi == u) continue e;
                break e;
              }
            }
            ot[De++] = ct;
          }
          return ot;
        }
        (Dt.prototype = Sa(Gc.prototype)), (Dt.prototype.constructor = Dt);
        function Ls(s) {
          var o = -1,
            l = s == null ? 0 : s.length;
          for (this.clear(); ++o < l; ) {
            var E = s[o];
            this.set(E[0], E[1]);
          }
        }
        function p2() {
          (this.__data__ = ho ? ho(null) : {}), (this.size = 0);
        }
        function g2(s) {
          var o = this.has(s) && delete this.__data__[s];
          return (this.size -= o ? 1 : 0), o;
        }
        function v2(s) {
          var o = this.__data__;
          if (ho) {
            var l = o[s];
            return l === b ? t : l;
          }
          return Lt.call(o, s) ? o[s] : t;
        }
        function b2(s) {
          var o = this.__data__;
          return ho ? o[s] !== t : Lt.call(o, s);
        }
        function m2(s, o) {
          var l = this.__data__;
          return (
            (this.size += this.has(s) ? 0 : 1),
            (l[s] = ho && o === t ? b : o),
            this
          );
        }
        (Ls.prototype.clear = p2),
          (Ls.prototype.delete = g2),
          (Ls.prototype.get = v2),
          (Ls.prototype.has = b2),
          (Ls.prototype.set = m2);
        function kn(s) {
          var o = -1,
            l = s == null ? 0 : s.length;
          for (this.clear(); ++o < l; ) {
            var E = s[o];
            this.set(E[0], E[1]);
          }
        }
        function y2() {
          (this.__data__ = []), (this.size = 0);
        }
        function w2(s) {
          var o = this.__data__,
            l = Wc(o, s);
          if (l < 0) return !1;
          var E = o.length - 1;
          return l == E ? o.pop() : jc.call(o, l, 1), --this.size, !0;
        }
        function _2(s) {
          var o = this.__data__,
            l = Wc(o, s);
          return l < 0 ? t : o[l][1];
        }
        function A2(s) {
          return Wc(this.__data__, s) > -1;
        }
        function E2(s, o) {
          var l = this.__data__,
            E = Wc(l, s);
          return E < 0 ? (++this.size, l.push([s, o])) : (l[E][1] = o), this;
        }
        (kn.prototype.clear = y2),
          (kn.prototype.delete = w2),
          (kn.prototype.get = _2),
          (kn.prototype.has = A2),
          (kn.prototype.set = E2);
        function Hn(s) {
          var o = -1,
            l = s == null ? 0 : s.length;
          for (this.clear(); ++o < l; ) {
            var E = s[o];
            this.set(E[0], E[1]);
          }
        }
        function S2() {
          (this.size = 0),
            (this.__data__ = {
              hash: new Ls(),
              map: new (fo || kn)(),
              string: new Ls(),
            });
        }
        function M2(s) {
          var o = of(this, s).delete(s);
          return (this.size -= o ? 1 : 0), o;
        }
        function I2(s) {
          return of(this, s).get(s);
        }
        function x2(s) {
          return of(this, s).has(s);
        }
        function D2(s, o) {
          var l = of(this, s),
            E = l.size;
          return l.set(s, o), (this.size += l.size == E ? 0 : 1), this;
        }
        (Hn.prototype.clear = S2),
          (Hn.prototype.delete = M2),
          (Hn.prototype.get = I2),
          (Hn.prototype.has = x2),
          (Hn.prototype.set = D2);
        function Us(s) {
          var o = -1,
            l = s == null ? 0 : s.length;
          for (this.__data__ = new Hn(); ++o < l; ) this.add(s[o]);
        }
        function P2(s) {
          return this.__data__.set(s, b), this;
        }
        function O2(s) {
          return this.__data__.has(s);
        }
        (Us.prototype.add = Us.prototype.push = P2), (Us.prototype.has = O2);
        function an(s) {
          var o = (this.__data__ = new kn(s));
          this.size = o.size;
        }
        function C2() {
          (this.__data__ = new kn()), (this.size = 0);
        }
        function R2(s) {
          var o = this.__data__,
            l = o.delete(s);
          return (this.size = o.size), l;
        }
        function N2(s) {
          return this.__data__.get(s);
        }
        function T2(s) {
          return this.__data__.has(s);
        }
        function F2(s, o) {
          var l = this.__data__;
          if (l instanceof kn) {
            var E = l.__data__;
            if (!fo || E.length < n - 1)
              return E.push([s, o]), (this.size = ++l.size), this;
            l = this.__data__ = new Hn(E);
          }
          return l.set(s, o), (this.size = l.size), this;
        }
        (an.prototype.clear = C2),
          (an.prototype.delete = R2),
          (an.prototype.get = N2),
          (an.prototype.has = T2),
          (an.prototype.set = F2);
        function Wd(s, o) {
          var l = vt(s),
            E = !l && Hs(s),
            R = !l && !E && ys(s),
            L = !l && !E && !R && Da(s),
            J = l || E || R || L,
            X = J ? ju(s.length, Km) : [],
            ie = X.length;
          for (var he in s)
            (o || Lt.call(s, he)) &&
              !(
                J &&
                (he == "length" ||
                  (R && (he == "offset" || he == "parent")) ||
                  (L &&
                    (he == "buffer" ||
                      he == "byteLength" ||
                      he == "byteOffset")) ||
                  Wn(he, ie))
              ) &&
              X.push(he);
          return X;
        }
        function Jd(s) {
          var o = s.length;
          return o ? s[nh(0, o - 1)] : t;
        }
        function B2(s, o) {
          return cf(ri(s), $s(o, 0, s.length));
        }
        function q2(s) {
          return cf(ri(s));
        }
        function Wu(s, o, l) {
          ((l !== t && !on(s[o], l)) || (l === t && !(o in s))) && Kn(s, o, l);
        }
        function po(s, o, l) {
          var E = s[o];
          (!(Lt.call(s, o) && on(E, l)) || (l === t && !(o in s))) &&
            Kn(s, o, l);
        }
        function Wc(s, o) {
          for (var l = s.length; l--; ) if (on(s[l][0], o)) return l;
          return -1;
        }
        function L2(s, o, l, E) {
          return (
            gs(s, function (R, L, J) {
              o(E, R, l(R), J);
            }),
            E
          );
        }
        function Yd(s, o) {
          return s && An(o, wr(o), s);
        }
        function U2(s, o) {
          return s && An(o, ni(o), s);
        }
        function Kn(s, o, l) {
          o == "__proto__" && zc
            ? zc(s, o, {
                configurable: !0,
                enumerable: !0,
                value: l,
                writable: !0,
              })
            : (s[o] = l);
        }
        function Ju(s, o) {
          for (var l = -1, E = o.length, R = oe(E), L = s == null; ++l < E; )
            R[l] = L ? t : Ph(s, o[l]);
          return R;
        }
        function $s(s, o, l) {
          return (
            s === s &&
              (l !== t && (s = s <= l ? s : l),
              o !== t && (s = s >= o ? s : o)),
            s
          );
        }
        function Ni(s, o, l, E, R, L) {
          var J,
            X = o & S,
            ie = o & O,
            he = o & P;
          if ((l && (J = R ? l(s, E, R, L) : l(s)), J !== t)) return J;
          if (!Zt(s)) return s;
          var le = vt(s);
          if (le) {
            if (((J = xy(s)), !X)) return ri(s, J);
          } else {
            var ge = Ur(s),
              De = ge == ne || ge == ce;
            if (ys(s)) return w0(s, X);
            if (ge == Re || ge == D || (De && !R)) {
              if (((J = ie || De ? {} : U0(s)), !X))
                return ie ? vy(s, U2(J, s)) : gy(s, Yd(J, s));
            } else {
              if (!$t[ge]) return R ? s : {};
              J = Dy(s, ge, X);
            }
          }
          L || (L = new an());
          var We = L.get(s);
          if (We) return We;
          L.set(s, J),
            pp(s)
              ? s.forEach(function (ct) {
                  J.add(Ni(ct, o, l, ct, s, L));
                })
              : lp(s) &&
                s.forEach(function (ct, Mt) {
                  J.set(Mt, Ni(ct, o, l, Mt, s, L));
                });
          var ot = he ? (ie ? gh : ph) : ie ? ni : wr,
            _t = le ? t : ot(s);
          return (
            Oi(_t || s, function (ct, Mt) {
              _t && ((Mt = ct), (ct = s[Mt])),
                po(J, Mt, Ni(ct, o, l, Mt, s, L));
            }),
            J
          );
        }
        function $2(s) {
          var o = wr(s);
          return function (l) {
            return Qd(l, s, o);
          };
        }
        function Qd(s, o, l) {
          var E = l.length;
          if (s == null) return !E;
          for (s = Ht(s); E--; ) {
            var R = l[E],
              L = o[R],
              J = s[R];
            if ((J === t && !(R in s)) || !L(J)) return !1;
          }
          return !0;
        }
        function Xd(s, o, l) {
          if (typeof s != "function") throw new Ci(f);
          return _o(function () {
            s.apply(t, l);
          }, o);
        }
        function go(s, o, l, E) {
          var R = -1,
            L = Cc,
            J = !0,
            X = s.length,
            ie = [],
            he = o.length;
          if (!X) return ie;
          l && (o = Xt(o, vi(l))),
            E
              ? ((L = Fu), (J = !1))
              : o.length >= n && ((L = oo), (J = !1), (o = new Us(o)));
          e: for (; ++R < X; ) {
            var le = s[R],
              ge = l == null ? le : l(le);
            if (((le = E || le !== 0 ? le : 0), J && ge === ge)) {
              for (var De = he; De--; ) if (o[De] === ge) continue e;
              ie.push(le);
            } else L(o, ge, E) || ie.push(le);
          }
          return ie;
        }
        var gs = M0(_n),
          Zd = M0(Qu, !0);
        function j2(s, o) {
          var l = !0;
          return (
            gs(s, function (E, R, L) {
              return (l = !!o(E, R, L)), l;
            }),
            l
          );
        }
        function Jc(s, o, l) {
          for (var E = -1, R = s.length; ++E < R; ) {
            var L = s[E],
              J = o(L);
            if (J != null && (X === t ? J === J && !mi(J) : l(J, X)))
              var X = J,
                ie = L;
          }
          return ie;
        }
        function z2(s, o, l, E) {
          var R = s.length;
          for (
            l = wt(l),
              l < 0 && (l = -l > R ? 0 : R + l),
              E = E === t || E > R ? R : wt(E),
              E < 0 && (E += R),
              E = l > E ? 0 : vp(E);
            l < E;

          )
            s[l++] = o;
          return s;
        }
        function e0(s, o) {
          var l = [];
          return (
            gs(s, function (E, R, L) {
              o(E, R, L) && l.push(E);
            }),
            l
          );
        }
        function xr(s, o, l, E, R) {
          var L = -1,
            J = s.length;
          for (l || (l = Oy), R || (R = []); ++L < J; ) {
            var X = s[L];
            o > 0 && l(X)
              ? o > 1
                ? xr(X, o - 1, l, E, R)
                : ls(R, X)
              : E || (R[R.length] = X);
          }
          return R;
        }
        var Yu = I0(),
          t0 = I0(!0);
        function _n(s, o) {
          return s && Yu(s, o, wr);
        }
        function Qu(s, o) {
          return s && t0(s, o, wr);
        }
        function Yc(s, o) {
          return hs(o, function (l) {
            return Jn(s[l]);
          });
        }
        function js(s, o) {
          o = bs(o, s);
          for (var l = 0, E = o.length; s != null && l < E; ) s = s[En(o[l++])];
          return l && l == E ? s : t;
        }
        function r0(s, o, l) {
          var E = o(s);
          return vt(s) ? E : ls(E, l(s));
        }
        function Hr(s) {
          return s == null
            ? s === t
              ? Te
              : we
            : qs && qs in Ht(s)
            ? Sy(s)
            : qy(s);
        }
        function Xu(s, o) {
          return s > o;
        }
        function k2(s, o) {
          return s != null && Lt.call(s, o);
        }
        function H2(s, o) {
          return s != null && o in Ht(s);
        }
        function K2(s, o, l) {
          return s >= Lr(o, l) && s < pr(o, l);
        }
        function Zu(s, o, l) {
          for (
            var E = l ? Fu : Cc,
              R = s[0].length,
              L = s.length,
              J = L,
              X = oe(L),
              ie = 1 / 0,
              he = [];
            J--;

          ) {
            var le = s[J];
            J && o && (le = Xt(le, vi(o))),
              (ie = Lr(le.length, ie)),
              (X[J] =
                !l && (o || (R >= 120 && le.length >= 120))
                  ? new Us(J && le)
                  : t);
          }
          le = s[0];
          var ge = -1,
            De = X[0];
          e: for (; ++ge < R && he.length < ie; ) {
            var We = le[ge],
              ot = o ? o(We) : We;
            if (
              ((We = l || We !== 0 ? We : 0), !(De ? oo(De, ot) : E(he, ot, l)))
            ) {
              for (J = L; --J; ) {
                var _t = X[J];
                if (!(_t ? oo(_t, ot) : E(s[J], ot, l))) continue e;
              }
              De && De.push(ot), he.push(We);
            }
          }
          return he;
        }
        function V2(s, o, l, E) {
          return (
            _n(s, function (R, L, J) {
              o(E, l(R), L, J);
            }),
            E
          );
        }
        function vo(s, o, l) {
          (o = bs(o, s)), (s = k0(s, o));
          var E = s == null ? s : s[En(Fi(o))];
          return E == null ? t : yr(E, s, l);
        }
        function i0(s) {
          return tr(s) && Hr(s) == D;
        }
        function G2(s) {
          return tr(s) && Hr(s) == Me;
        }
        function W2(s) {
          return tr(s) && Hr(s) == K;
        }
        function bo(s, o, l, E, R) {
          return s === o
            ? !0
            : s == null || o == null || (!tr(s) && !tr(o))
            ? s !== s && o !== o
            : J2(s, o, l, E, bo, R);
        }
        function J2(s, o, l, E, R, L) {
          var J = vt(s),
            X = vt(o),
            ie = J ? ee : Ur(s),
            he = X ? ee : Ur(o);
          (ie = ie == D ? Re : ie), (he = he == D ? Re : he);
          var le = ie == Re,
            ge = he == Re,
            De = ie == he;
          if (De && ys(s)) {
            if (!ys(o)) return !1;
            (J = !0), (le = !1);
          }
          if (De && !le)
            return (
              L || (L = new an()),
              J || Da(s) ? B0(s, o, l, E, R, L) : Ay(s, o, ie, l, E, R, L)
            );
          if (!(l & C)) {
            var We = le && Lt.call(s, "__wrapped__"),
              ot = ge && Lt.call(o, "__wrapped__");
            if (We || ot) {
              var _t = We ? s.value() : s,
                ct = ot ? o.value() : o;
              return L || (L = new an()), R(_t, ct, l, E, L);
            }
          }
          return De ? (L || (L = new an()), Ey(s, o, l, E, R, L)) : !1;
        }
        function Y2(s) {
          return tr(s) && Ur(s) == ue;
        }
        function eh(s, o, l, E) {
          var R = l.length,
            L = R,
            J = !E;
          if (s == null) return !L;
          for (s = Ht(s); R--; ) {
            var X = l[R];
            if (J && X[2] ? X[1] !== s[X[0]] : !(X[0] in s)) return !1;
          }
          for (; ++R < L; ) {
            X = l[R];
            var ie = X[0],
              he = s[ie],
              le = X[1];
            if (J && X[2]) {
              if (he === t && !(ie in s)) return !1;
            } else {
              var ge = new an();
              if (E) var De = E(he, le, ie, s, o, ge);
              if (!(De === t ? bo(le, he, C | H, E, ge) : De)) return !1;
            }
          }
          return !0;
        }
        function n0(s) {
          if (!Zt(s) || Ry(s)) return !1;
          var o = Jn(s) ? Ym : Fr;
          return o.test(ks(s));
        }
        function Q2(s) {
          return tr(s) && Hr(s) == Ne;
        }
        function X2(s) {
          return tr(s) && Ur(s) == Ie;
        }
        function Z2(s) {
          return tr(s) && pf(s.length) && !!jt[Hr(s)];
        }
        function s0(s) {
          return typeof s == "function"
            ? s
            : s == null
            ? si
            : typeof s == "object"
            ? vt(s)
              ? c0(s[0], s[1])
              : o0(s)
            : xp(s);
        }
        function th(s) {
          if (!wo(s)) return r2(s);
          var o = [];
          for (var l in Ht(s)) Lt.call(s, l) && l != "constructor" && o.push(l);
          return o;
        }
        function ey(s) {
          if (!Zt(s)) return By(s);
          var o = wo(s),
            l = [];
          for (var E in s)
            (E == "constructor" && (o || !Lt.call(s, E))) || l.push(E);
          return l;
        }
        function rh(s, o) {
          return s < o;
        }
        function a0(s, o) {
          var l = -1,
            E = ii(s) ? oe(s.length) : [];
          return (
            gs(s, function (R, L, J) {
              E[++l] = o(R, L, J);
            }),
            E
          );
        }
        function o0(s) {
          var o = bh(s);
          return o.length == 1 && o[0][2]
            ? j0(o[0][0], o[0][1])
            : function (l) {
                return l === s || eh(l, s, o);
              };
        }
        function c0(s, o) {
          return yh(s) && $0(o)
            ? j0(En(s), o)
            : function (l) {
                var E = Ph(l, s);
                return E === t && E === o ? Oh(l, s) : bo(o, E, C | H);
              };
        }
        function Qc(s, o, l, E, R) {
          s !== o &&
            Yu(
              o,
              function (L, J) {
                if ((R || (R = new an()), Zt(L))) ty(s, o, J, l, Qc, E, R);
                else {
                  var X = E ? E(_h(s, J), L, J + "", s, o, R) : t;
                  X === t && (X = L), Wu(s, J, X);
                }
              },
              ni
            );
        }
        function ty(s, o, l, E, R, L, J) {
          var X = _h(s, l),
            ie = _h(o, l),
            he = J.get(ie);
          if (he) {
            Wu(s, l, he);
            return;
          }
          var le = L ? L(X, ie, l + "", s, o, J) : t,
            ge = le === t;
          if (ge) {
            var De = vt(ie),
              We = !De && ys(ie),
              ot = !De && !We && Da(ie);
            (le = ie),
              De || We || ot
                ? vt(X)
                  ? (le = X)
                  : ar(X)
                  ? (le = ri(X))
                  : We
                  ? ((ge = !1), (le = w0(ie, !0)))
                  : ot
                  ? ((ge = !1), (le = _0(ie, !0)))
                  : (le = [])
                : Ao(ie) || Hs(ie)
                ? ((le = X),
                  Hs(X) ? (le = bp(X)) : (!Zt(X) || Jn(X)) && (le = U0(ie)))
                : (ge = !1);
          }
          ge && (J.set(ie, le), R(le, ie, E, L, J), J.delete(ie)), Wu(s, l, le);
        }
        function f0(s, o) {
          var l = s.length;
          if (l) return (o += o < 0 ? l : 0), Wn(o, l) ? s[o] : t;
        }
        function u0(s, o, l) {
          o.length
            ? (o = Xt(o, function (L) {
                return vt(L)
                  ? function (J) {
                      return js(J, L.length === 1 ? L[0] : L);
                    }
                  : L;
              }))
            : (o = [si]);
          var E = -1;
          o = Xt(o, vi(nt()));
          var R = a0(s, function (L, J, X) {
            var ie = Xt(o, function (he) {
              return he(L);
            });
            return { criteria: ie, index: ++E, value: L };
          });
          return Dm(R, function (L, J) {
            return py(L, J, l);
          });
        }
        function ry(s, o) {
          return h0(s, o, function (l, E) {
            return Oh(s, E);
          });
        }
        function h0(s, o, l) {
          for (var E = -1, R = o.length, L = {}; ++E < R; ) {
            var J = o[E],
              X = js(s, J);
            l(X, J) && mo(L, bs(J, s), X);
          }
          return L;
        }
        function iy(s) {
          return function (o) {
            return js(o, s);
          };
        }
        function ih(s, o, l, E) {
          var R = E ? xm : ba,
            L = -1,
            J = o.length,
            X = s;
          for (s === o && (o = ri(o)), l && (X = Xt(s, vi(l))); ++L < J; )
            for (
              var ie = 0, he = o[L], le = l ? l(he) : he;
              (ie = R(X, le, ie, E)) > -1;

            )
              X !== s && jc.call(X, ie, 1), jc.call(s, ie, 1);
          return s;
        }
        function l0(s, o) {
          for (var l = s ? o.length : 0, E = l - 1; l--; ) {
            var R = o[l];
            if (l == E || R !== L) {
              var L = R;
              Wn(R) ? jc.call(s, R, 1) : oh(s, R);
            }
          }
          return s;
        }
        function nh(s, o) {
          return s + Hc(Vd() * (o - s + 1));
        }
        function ny(s, o, l, E) {
          for (var R = -1, L = pr(kc((o - s) / (l || 1)), 0), J = oe(L); L--; )
            (J[E ? L : ++R] = s), (s += l);
          return J;
        }
        function sh(s, o) {
          var l = "";
          if (!s || o < 1 || o > x) return l;
          do o % 2 && (l += s), (o = Hc(o / 2)), o && (s += s);
          while (o);
          return l;
        }
        function Et(s, o) {
          return Ah(z0(s, o, si), s + "");
        }
        function sy(s) {
          return Jd(Pa(s));
        }
        function ay(s, o) {
          var l = Pa(s);
          return cf(l, $s(o, 0, l.length));
        }
        function mo(s, o, l, E) {
          if (!Zt(s)) return s;
          o = bs(o, s);
          for (
            var R = -1, L = o.length, J = L - 1, X = s;
            X != null && ++R < L;

          ) {
            var ie = En(o[R]),
              he = l;
            if (
              ie === "__proto__" ||
              ie === "constructor" ||
              ie === "prototype"
            )
              return s;
            if (R != J) {
              var le = X[ie];
              (he = E ? E(le, ie, X) : t),
                he === t && (he = Zt(le) ? le : Wn(o[R + 1]) ? [] : {});
            }
            po(X, ie, he), (X = X[ie]);
          }
          return s;
        }
        var d0 = Kc
            ? function (s, o) {
                return Kc.set(s, o), s;
              }
            : si,
          oy = zc
            ? function (s, o) {
                return zc(s, "toString", {
                  configurable: !0,
                  enumerable: !1,
                  value: Rh(o),
                  writable: !0,
                });
              }
            : si;
        function cy(s) {
          return cf(Pa(s));
        }
        function Ti(s, o, l) {
          var E = -1,
            R = s.length;
          o < 0 && (o = -o > R ? 0 : R + o),
            (l = l > R ? R : l),
            l < 0 && (l += R),
            (R = o > l ? 0 : (l - o) >>> 0),
            (o >>>= 0);
          for (var L = oe(R); ++E < R; ) L[E] = s[E + o];
          return L;
        }
        function fy(s, o) {
          var l;
          return (
            gs(s, function (E, R, L) {
              return (l = o(E, R, L)), !l;
            }),
            !!l
          );
        }
        function Xc(s, o, l) {
          var E = 0,
            R = s == null ? E : s.length;
          if (typeof o == "number" && o === o && R <= Z) {
            for (; E < R; ) {
              var L = (E + R) >>> 1,
                J = s[L];
              J !== null && !mi(J) && (l ? J <= o : J < o)
                ? (E = L + 1)
                : (R = L);
            }
            return R;
          }
          return ah(s, o, si, l);
        }
        function ah(s, o, l, E) {
          var R = 0,
            L = s == null ? 0 : s.length;
          if (L === 0) return 0;
          o = l(o);
          for (
            var J = o !== o, X = o === null, ie = mi(o), he = o === t;
            R < L;

          ) {
            var le = Hc((R + L) / 2),
              ge = l(s[le]),
              De = ge !== t,
              We = ge === null,
              ot = ge === ge,
              _t = mi(ge);
            if (J) var ct = E || ot;
            else
              he
                ? (ct = ot && (E || De))
                : X
                ? (ct = ot && De && (E || !We))
                : ie
                ? (ct = ot && De && !We && (E || !_t))
                : We || _t
                ? (ct = !1)
                : (ct = E ? ge <= o : ge < o);
            ct ? (R = le + 1) : (L = le);
          }
          return Lr(L, N);
        }
        function p0(s, o) {
          for (var l = -1, E = s.length, R = 0, L = []; ++l < E; ) {
            var J = s[l],
              X = o ? o(J) : J;
            if (!l || !on(X, ie)) {
              var ie = X;
              L[R++] = J === 0 ? 0 : J;
            }
          }
          return L;
        }
        function g0(s) {
          return typeof s == "number" ? s : mi(s) ? d : +s;
        }
        function bi(s) {
          if (typeof s == "string") return s;
          if (vt(s)) return Xt(s, bi) + "";
          if (mi(s)) return Gd ? Gd.call(s) : "";
          var o = s + "";
          return o == "0" && 1 / s == -I ? "-0" : o;
        }
        function vs(s, o, l) {
          var E = -1,
            R = Cc,
            L = s.length,
            J = !0,
            X = [],
            ie = X;
          if (l) (J = !1), (R = Fu);
          else if (L >= n) {
            var he = o ? null : wy(s);
            if (he) return Nc(he);
            (J = !1), (R = oo), (ie = new Us());
          } else ie = o ? [] : X;
          e: for (; ++E < L; ) {
            var le = s[E],
              ge = o ? o(le) : le;
            if (((le = l || le !== 0 ? le : 0), J && ge === ge)) {
              for (var De = ie.length; De--; ) if (ie[De] === ge) continue e;
              o && ie.push(ge), X.push(le);
            } else R(ie, ge, l) || (ie !== X && ie.push(ge), X.push(le));
          }
          return X;
        }
        function oh(s, o) {
          return (
            (o = bs(o, s)), (s = k0(s, o)), s == null || delete s[En(Fi(o))]
          );
        }
        function v0(s, o, l, E) {
          return mo(s, o, l(js(s, o)), E);
        }
        function Zc(s, o, l, E) {
          for (
            var R = s.length, L = E ? R : -1;
            (E ? L-- : ++L < R) && o(s[L], L, s);

          );
          return l
            ? Ti(s, E ? 0 : L, E ? L + 1 : R)
            : Ti(s, E ? L + 1 : 0, E ? R : L);
        }
        function b0(s, o) {
          var l = s;
          return (
            l instanceof Dt && (l = l.value()),
            Bu(
              o,
              function (E, R) {
                return R.func.apply(R.thisArg, ls([E], R.args));
              },
              l
            )
          );
        }
        function ch(s, o, l) {
          var E = s.length;
          if (E < 2) return E ? vs(s[0]) : [];
          for (var R = -1, L = oe(E); ++R < E; )
            for (var J = s[R], X = -1; ++X < E; )
              X != R && (L[R] = go(L[R] || J, s[X], o, l));
          return vs(xr(L, 1), o, l);
        }
        function m0(s, o, l) {
          for (var E = -1, R = s.length, L = o.length, J = {}; ++E < R; ) {
            var X = E < L ? o[E] : t;
            l(J, s[E], X);
          }
          return J;
        }
        function fh(s) {
          return ar(s) ? s : [];
        }
        function uh(s) {
          return typeof s == "function" ? s : si;
        }
        function bs(s, o) {
          return vt(s) ? s : yh(s, o) ? [s] : G0(Bt(s));
        }
        var uy = Et;
        function ms(s, o, l) {
          var E = s.length;
          return (l = l === t ? E : l), !o && l >= E ? s : Ti(s, o, l);
        }
        var y0 =
          Qm ||
          function (s) {
            return Ct.clearTimeout(s);
          };
        function w0(s, o) {
          if (o) return s.slice();
          var l = s.length,
            E = jd ? jd(l) : new s.constructor(l);
          return s.copy(E), E;
        }
        function hh(s) {
          var o = new s.constructor(s.byteLength);
          return new Uc(o).set(new Uc(s)), o;
        }
        function hy(s, o) {
          var l = o ? hh(s.buffer) : s.buffer;
          return new s.constructor(l, s.byteOffset, s.byteLength);
        }
        function ly(s) {
          var o = new s.constructor(s.source, mt.exec(s));
          return (o.lastIndex = s.lastIndex), o;
        }
        function dy(s) {
          return lo ? Ht(lo.call(s)) : {};
        }
        function _0(s, o) {
          var l = o ? hh(s.buffer) : s.buffer;
          return new s.constructor(l, s.byteOffset, s.length);
        }
        function A0(s, o) {
          if (s !== o) {
            var l = s !== t,
              E = s === null,
              R = s === s,
              L = mi(s),
              J = o !== t,
              X = o === null,
              ie = o === o,
              he = mi(o);
            if (
              (!X && !he && !L && s > o) ||
              (L && J && ie && !X && !he) ||
              (E && J && ie) ||
              (!l && ie) ||
              !R
            )
              return 1;
            if (
              (!E && !L && !he && s < o) ||
              (he && l && R && !E && !L) ||
              (X && l && R) ||
              (!J && R) ||
              !ie
            )
              return -1;
          }
          return 0;
        }
        function py(s, o, l) {
          for (
            var E = -1,
              R = s.criteria,
              L = o.criteria,
              J = R.length,
              X = l.length;
            ++E < J;

          ) {
            var ie = A0(R[E], L[E]);
            if (ie) {
              if (E >= X) return ie;
              var he = l[E];
              return ie * (he == "desc" ? -1 : 1);
            }
          }
          return s.index - o.index;
        }
        function E0(s, o, l, E) {
          for (
            var R = -1,
              L = s.length,
              J = l.length,
              X = -1,
              ie = o.length,
              he = pr(L - J, 0),
              le = oe(ie + he),
              ge = !E;
            ++X < ie;

          )
            le[X] = o[X];
          for (; ++R < J; ) (ge || R < L) && (le[l[R]] = s[R]);
          for (; he--; ) le[X++] = s[R++];
          return le;
        }
        function S0(s, o, l, E) {
          for (
            var R = -1,
              L = s.length,
              J = -1,
              X = l.length,
              ie = -1,
              he = o.length,
              le = pr(L - X, 0),
              ge = oe(le + he),
              De = !E;
            ++R < le;

          )
            ge[R] = s[R];
          for (var We = R; ++ie < he; ) ge[We + ie] = o[ie];
          for (; ++J < X; ) (De || R < L) && (ge[We + l[J]] = s[R++]);
          return ge;
        }
        function ri(s, o) {
          var l = -1,
            E = s.length;
          for (o || (o = oe(E)); ++l < E; ) o[l] = s[l];
          return o;
        }
        function An(s, o, l, E) {
          var R = !l;
          l || (l = {});
          for (var L = -1, J = o.length; ++L < J; ) {
            var X = o[L],
              ie = E ? E(l[X], s[X], X, l, s) : t;
            ie === t && (ie = s[X]), R ? Kn(l, X, ie) : po(l, X, ie);
          }
          return l;
        }
        function gy(s, o) {
          return An(s, mh(s), o);
        }
        function vy(s, o) {
          return An(s, q0(s), o);
        }
        function ef(s, o) {
          return function (l, E) {
            var R = vt(l) ? _m : L2,
              L = o ? o() : {};
            return R(l, s, nt(E, 2), L);
          };
        }
        function Ma(s) {
          return Et(function (o, l) {
            var E = -1,
              R = l.length,
              L = R > 1 ? l[R - 1] : t,
              J = R > 2 ? l[2] : t;
            for (
              L = s.length > 3 && typeof L == "function" ? (R--, L) : t,
                J && Kr(l[0], l[1], J) && ((L = R < 3 ? t : L), (R = 1)),
                o = Ht(o);
              ++E < R;

            ) {
              var X = l[E];
              X && s(o, X, E, L);
            }
            return o;
          });
        }
        function M0(s, o) {
          return function (l, E) {
            if (l == null) return l;
            if (!ii(l)) return s(l, E);
            for (
              var R = l.length, L = o ? R : -1, J = Ht(l);
              (o ? L-- : ++L < R) && E(J[L], L, J) !== !1;

            );
            return l;
          };
        }
        function I0(s) {
          return function (o, l, E) {
            for (var R = -1, L = Ht(o), J = E(o), X = J.length; X--; ) {
              var ie = J[s ? X : ++R];
              if (l(L[ie], ie, L) === !1) break;
            }
            return o;
          };
        }
        function by(s, o, l) {
          var E = o & V,
            R = yo(s);
          function L() {
            var J = this && this !== Ct && this instanceof L ? R : s;
            return J.apply(E ? l : this, arguments);
          }
          return L;
        }
        function x0(s) {
          return function (o) {
            o = Bt(o);
            var l = ma(o) ? sn(o) : t,
              E = l ? l[0] : o.charAt(0),
              R = l ? ms(l, 1).join("") : o.slice(1);
            return E[s]() + R;
          };
        }
        function Ia(s) {
          return function (o) {
            return Bu(Mp(Sp(o).replace(so, "")), s, "");
          };
        }
        function yo(s) {
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return new s();
              case 1:
                return new s(o[0]);
              case 2:
                return new s(o[0], o[1]);
              case 3:
                return new s(o[0], o[1], o[2]);
              case 4:
                return new s(o[0], o[1], o[2], o[3]);
              case 5:
                return new s(o[0], o[1], o[2], o[3], o[4]);
              case 6:
                return new s(o[0], o[1], o[2], o[3], o[4], o[5]);
              case 7:
                return new s(o[0], o[1], o[2], o[3], o[4], o[5], o[6]);
            }
            var l = Sa(s.prototype),
              E = s.apply(l, o);
            return Zt(E) ? E : l;
          };
        }
        function my(s, o, l) {
          var E = yo(s);
          function R() {
            for (var L = arguments.length, J = oe(L), X = L, ie = xa(R); X--; )
              J[X] = arguments[X];
            var he = L < 3 && J[0] !== ie && J[L - 1] !== ie ? [] : ds(J, ie);
            if (((L -= he.length), L < l))
              return R0(s, o, tf, R.placeholder, t, J, he, t, t, l - L);
            var le = this && this !== Ct && this instanceof R ? E : s;
            return yr(le, this, J);
          }
          return R;
        }
        function D0(s) {
          return function (o, l, E) {
            var R = Ht(o);
            if (!ii(o)) {
              var L = nt(l, 3);
              (o = wr(o)),
                (l = function (X) {
                  return L(R[X], X, R);
                });
            }
            var J = s(o, l, E);
            return J > -1 ? R[L ? o[J] : J] : t;
          };
        }
        function P0(s) {
          return Gn(function (o) {
            var l = o.length,
              E = l,
              R = Ri.prototype.thru;
            for (s && o.reverse(); E--; ) {
              var L = o[E];
              if (typeof L != "function") throw new Ci(f);
              if (R && !J && af(L) == "wrapper") var J = new Ri([], !0);
            }
            for (E = J ? E : l; ++E < l; ) {
              L = o[E];
              var X = af(L),
                ie = X == "wrapper" ? vh(L) : t;
              ie &&
              wh(ie[0]) &&
              ie[1] == (A | Y | z | F) &&
              !ie[4].length &&
              ie[9] == 1
                ? (J = J[af(ie[0])].apply(J, ie[3]))
                : (J = L.length == 1 && wh(L) ? J[X]() : J.thru(L));
            }
            return function () {
              var he = arguments,
                le = he[0];
              if (J && he.length == 1 && vt(le)) return J.plant(le).value();
              for (var ge = 0, De = l ? o[ge].apply(this, he) : le; ++ge < l; )
                De = o[ge].call(this, De);
              return De;
            };
          });
        }
        function tf(s, o, l, E, R, L, J, X, ie, he) {
          var le = o & A,
            ge = o & V,
            De = o & Q,
            We = o & (Y | U),
            ot = o & ae,
            _t = De ? t : yo(s);
          function ct() {
            for (var Mt = arguments.length, Rt = oe(Mt), yi = Mt; yi--; )
              Rt[yi] = arguments[yi];
            if (We)
              var Vr = xa(ct),
                wi = Om(Rt, Vr);
            if (
              (E && (Rt = E0(Rt, E, R, We)),
              L && (Rt = S0(Rt, L, J, We)),
              (Mt -= wi),
              We && Mt < he)
            ) {
              var or = ds(Rt, Vr);
              return R0(s, o, tf, ct.placeholder, l, Rt, or, X, ie, he - Mt);
            }
            var cn = ge ? l : this,
              Qn = De ? cn[s] : s;
            return (
              (Mt = Rt.length),
              X ? (Rt = Ly(Rt, X)) : ot && Mt > 1 && Rt.reverse(),
              le && ie < Mt && (Rt.length = ie),
              this && this !== Ct && this instanceof ct && (Qn = _t || yo(Qn)),
              Qn.apply(cn, Rt)
            );
          }
          return ct;
        }
        function O0(s, o) {
          return function (l, E) {
            return V2(l, s, o(E), {});
          };
        }
        function rf(s, o) {
          return function (l, E) {
            var R;
            if (l === t && E === t) return o;
            if ((l !== t && (R = l), E !== t)) {
              if (R === t) return E;
              typeof l == "string" || typeof E == "string"
                ? ((l = bi(l)), (E = bi(E)))
                : ((l = g0(l)), (E = g0(E))),
                (R = s(l, E));
            }
            return R;
          };
        }
        function lh(s) {
          return Gn(function (o) {
            return (
              (o = Xt(o, vi(nt()))),
              Et(function (l) {
                var E = this;
                return s(o, function (R) {
                  return yr(R, E, l);
                });
              })
            );
          });
        }
        function nf(s, o) {
          o = o === t ? " " : bi(o);
          var l = o.length;
          if (l < 2) return l ? sh(o, s) : o;
          var E = sh(o, kc(s / ya(o)));
          return ma(o) ? ms(sn(E), 0, s).join("") : E.slice(0, s);
        }
        function yy(s, o, l, E) {
          var R = o & V,
            L = yo(s);
          function J() {
            for (
              var X = -1,
                ie = arguments.length,
                he = -1,
                le = E.length,
                ge = oe(le + ie),
                De = this && this !== Ct && this instanceof J ? L : s;
              ++he < le;

            )
              ge[he] = E[he];
            for (; ie--; ) ge[he++] = arguments[++X];
            return yr(De, R ? l : this, ge);
          }
          return J;
        }
        function C0(s) {
          return function (o, l, E) {
            return (
              E && typeof E != "number" && Kr(o, l, E) && (l = E = t),
              (o = Yn(o)),
              l === t ? ((l = o), (o = 0)) : (l = Yn(l)),
              (E = E === t ? (o < l ? 1 : -1) : Yn(E)),
              ny(o, l, E, s)
            );
          };
        }
        function sf(s) {
          return function (o, l) {
            return (
              (typeof o == "string" && typeof l == "string") ||
                ((o = Bi(o)), (l = Bi(l))),
              s(o, l)
            );
          };
        }
        function R0(s, o, l, E, R, L, J, X, ie, he) {
          var le = o & Y,
            ge = le ? J : t,
            De = le ? t : J,
            We = le ? L : t,
            ot = le ? t : L;
          (o |= le ? z : G), (o &= ~(le ? G : z)), o & j || (o &= ~(V | Q));
          var _t = [s, o, R, We, ge, ot, De, X, ie, he],
            ct = l.apply(t, _t);
          return wh(s) && H0(ct, _t), (ct.placeholder = E), K0(ct, s, o);
        }
        function dh(s) {
          var o = dr[s];
          return function (l, E) {
            if (
              ((l = Bi(l)), (E = E == null ? 0 : Lr(wt(E), 292)), E && Kd(l))
            ) {
              var R = (Bt(l) + "e").split("e"),
                L = o(R[0] + "e" + (+R[1] + E));
              return (
                (R = (Bt(L) + "e").split("e")), +(R[0] + "e" + (+R[1] - E))
              );
            }
            return o(l);
          };
        }
        var wy =
          Aa && 1 / Nc(new Aa([, -0]))[1] == I
            ? function (s) {
                return new Aa(s);
              }
            : Fh;
        function N0(s) {
          return function (o) {
            var l = Ur(o);
            return l == ue ? ku(o) : l == Ie ? qm(o) : Pm(o, s(o));
          };
        }
        function Vn(s, o, l, E, R, L, J, X) {
          var ie = o & Q;
          if (!ie && typeof s != "function") throw new Ci(f);
          var he = E ? E.length : 0;
          if (
            (he || ((o &= ~(z | G)), (E = R = t)),
            (J = J === t ? J : pr(wt(J), 0)),
            (X = X === t ? X : wt(X)),
            (he -= R ? R.length : 0),
            o & G)
          ) {
            var le = E,
              ge = R;
            E = R = t;
          }
          var De = ie ? t : vh(s),
            We = [s, o, l, E, R, le, ge, L, J, X];
          if (
            (De && Fy(We, De),
            (s = We[0]),
            (o = We[1]),
            (l = We[2]),
            (E = We[3]),
            (R = We[4]),
            (X = We[9] = We[9] === t ? (ie ? 0 : s.length) : pr(We[9] - he, 0)),
            !X && o & (Y | U) && (o &= ~(Y | U)),
            !o || o == V)
          )
            var ot = by(s, o, l);
          else
            o == Y || o == U
              ? (ot = my(s, o, X))
              : (o == z || o == (V | z)) && !R.length
              ? (ot = yy(s, o, l, E))
              : (ot = tf.apply(t, We));
          var _t = De ? d0 : H0;
          return K0(_t(ot, We), s, o);
        }
        function T0(s, o, l, E) {
          return s === t || (on(s, _a[l]) && !Lt.call(E, l)) ? o : s;
        }
        function F0(s, o, l, E, R, L) {
          return (
            Zt(s) && Zt(o) && (L.set(o, s), Qc(s, o, t, F0, L), L.delete(o)), s
          );
        }
        function _y(s) {
          return Ao(s) ? t : s;
        }
        function B0(s, o, l, E, R, L) {
          var J = l & C,
            X = s.length,
            ie = o.length;
          if (X != ie && !(J && ie > X)) return !1;
          var he = L.get(s),
            le = L.get(o);
          if (he && le) return he == o && le == s;
          var ge = -1,
            De = !0,
            We = l & H ? new Us() : t;
          for (L.set(s, o), L.set(o, s); ++ge < X; ) {
            var ot = s[ge],
              _t = o[ge];
            if (E) var ct = J ? E(_t, ot, ge, o, s, L) : E(ot, _t, ge, s, o, L);
            if (ct !== t) {
              if (ct) continue;
              De = !1;
              break;
            }
            if (We) {
              if (
                !qu(o, function (Mt, Rt) {
                  if (!oo(We, Rt) && (ot === Mt || R(ot, Mt, l, E, L)))
                    return We.push(Rt);
                })
              ) {
                De = !1;
                break;
              }
            } else if (!(ot === _t || R(ot, _t, l, E, L))) {
              De = !1;
              break;
            }
          }
          return L.delete(s), L.delete(o), De;
        }
        function Ay(s, o, l, E, R, L, J) {
          switch (l) {
            case be:
              if (s.byteLength != o.byteLength || s.byteOffset != o.byteOffset)
                return !1;
              (s = s.buffer), (o = o.buffer);
            case Me:
              return !(
                s.byteLength != o.byteLength || !L(new Uc(s), new Uc(o))
              );
            case k:
            case K:
            case ye:
              return on(+s, +o);
            case $:
              return s.name == o.name && s.message == o.message;
            case Ne:
            case me:
              return s == o + "";
            case ue:
              var X = ku;
            case Ie:
              var ie = E & C;
              if ((X || (X = Nc), s.size != o.size && !ie)) return !1;
              var he = J.get(s);
              if (he) return he == o;
              (E |= H), J.set(s, o);
              var le = B0(X(s), X(o), E, R, L, J);
              return J.delete(s), le;
            case Oe:
              if (lo) return lo.call(s) == lo.call(o);
          }
          return !1;
        }
        function Ey(s, o, l, E, R, L) {
          var J = l & C,
            X = ph(s),
            ie = X.length,
            he = ph(o),
            le = he.length;
          if (ie != le && !J) return !1;
          for (var ge = ie; ge--; ) {
            var De = X[ge];
            if (!(J ? De in o : Lt.call(o, De))) return !1;
          }
          var We = L.get(s),
            ot = L.get(o);
          if (We && ot) return We == o && ot == s;
          var _t = !0;
          L.set(s, o), L.set(o, s);
          for (var ct = J; ++ge < ie; ) {
            De = X[ge];
            var Mt = s[De],
              Rt = o[De];
            if (E) var yi = J ? E(Rt, Mt, De, o, s, L) : E(Mt, Rt, De, s, o, L);
            if (!(yi === t ? Mt === Rt || R(Mt, Rt, l, E, L) : yi)) {
              _t = !1;
              break;
            }
            ct || (ct = De == "constructor");
          }
          if (_t && !ct) {
            var Vr = s.constructor,
              wi = o.constructor;
            Vr != wi &&
              "constructor" in s &&
              "constructor" in o &&
              !(
                typeof Vr == "function" &&
                Vr instanceof Vr &&
                typeof wi == "function" &&
                wi instanceof wi
              ) &&
              (_t = !1);
          }
          return L.delete(s), L.delete(o), _t;
        }
        function Gn(s) {
          return Ah(z0(s, t, Q0), s + "");
        }
        function ph(s) {
          return r0(s, wr, mh);
        }
        function gh(s) {
          return r0(s, ni, q0);
        }
        var vh = Kc
          ? function (s) {
              return Kc.get(s);
            }
          : Fh;
        function af(s) {
          for (
            var o = s.name + "", l = Ea[o], E = Lt.call(Ea, o) ? l.length : 0;
            E--;

          ) {
            var R = l[E],
              L = R.func;
            if (L == null || L == s) return R.name;
          }
          return o;
        }
        function xa(s) {
          var o = Lt.call(T, "placeholder") ? T : s;
          return o.placeholder;
        }
        function nt() {
          var s = T.iteratee || Nh;
          return (
            (s = s === Nh ? s0 : s),
            arguments.length ? s(arguments[0], arguments[1]) : s
          );
        }
        function of(s, o) {
          var l = s.__data__;
          return Cy(o) ? l[typeof o == "string" ? "string" : "hash"] : l.map;
        }
        function bh(s) {
          for (var o = wr(s), l = o.length; l--; ) {
            var E = o[l],
              R = s[E];
            o[l] = [E, R, $0(R)];
          }
          return o;
        }
        function zs(s, o) {
          var l = Tm(s, o);
          return n0(l) ? l : t;
        }
        function Sy(s) {
          var o = Lt.call(s, qs),
            l = s[qs];
          try {
            s[qs] = t;
            var E = !0;
          } catch {}
          var R = qc.call(s);
          return E && (o ? (s[qs] = l) : delete s[qs]), R;
        }
        var mh = Ku
            ? function (s) {
                return s == null
                  ? []
                  : ((s = Ht(s)),
                    hs(Ku(s), function (o) {
                      return kd.call(s, o);
                    }));
              }
            : Bh,
          q0 = Ku
            ? function (s) {
                for (var o = []; s; ) ls(o, mh(s)), (s = $c(s));
                return o;
              }
            : Bh,
          Ur = Hr;
        ((Vu && Ur(new Vu(new ArrayBuffer(1))) != be) ||
          (fo && Ur(new fo()) != ue) ||
          (Gu && Ur(Gu.resolve()) != Qe) ||
          (Aa && Ur(new Aa()) != Ie) ||
          (uo && Ur(new uo()) != ve)) &&
          (Ur = function (s) {
            var o = Hr(s),
              l = o == Re ? s.constructor : t,
              E = l ? ks(l) : "";
            if (E)
              switch (E) {
                case a2:
                  return be;
                case o2:
                  return ue;
                case c2:
                  return Qe;
                case f2:
                  return Ie;
                case u2:
                  return ve;
              }
            return o;
          });
        function My(s, o, l) {
          for (var E = -1, R = l.length; ++E < R; ) {
            var L = l[E],
              J = L.size;
            switch (L.type) {
              case "drop":
                s += J;
                break;
              case "dropRight":
                o -= J;
                break;
              case "take":
                o = Lr(o, s + J);
                break;
              case "takeRight":
                s = pr(s, o - J);
                break;
            }
          }
          return { start: s, end: o };
        }
        function Iy(s) {
          var o = s.match(Ye);
          return o ? o[1].split(ut) : [];
        }
        function L0(s, o, l) {
          o = bs(o, s);
          for (var E = -1, R = o.length, L = !1; ++E < R; ) {
            var J = En(o[E]);
            if (!(L = s != null && l(s, J))) break;
            s = s[J];
          }
          return L || ++E != R
            ? L
            : ((R = s == null ? 0 : s.length),
              !!R && pf(R) && Wn(J, R) && (vt(s) || Hs(s)));
        }
        function xy(s) {
          var o = s.length,
            l = new s.constructor(o);
          return (
            o &&
              typeof s[0] == "string" &&
              Lt.call(s, "index") &&
              ((l.index = s.index), (l.input = s.input)),
            l
          );
        }
        function U0(s) {
          return typeof s.constructor == "function" && !wo(s) ? Sa($c(s)) : {};
        }
        function Dy(s, o, l) {
          var E = s.constructor;
          switch (o) {
            case Me:
              return hh(s);
            case k:
            case K:
              return new E(+s);
            case be:
              return hy(s, l);
            case Le:
            case xe:
            case _e:
            case He:
            case Ve:
            case Ee:
            case Ke:
            case ht:
            case Ge:
              return _0(s, l);
            case ue:
              return new E();
            case ye:
            case me:
              return new E(s);
            case Ne:
              return ly(s);
            case Ie:
              return new E();
            case Oe:
              return dy(s);
          }
        }
        function Py(s, o) {
          var l = o.length;
          if (!l) return s;
          var E = l - 1;
          return (
            (o[E] = (l > 1 ? "& " : "") + o[E]),
            (o = o.join(l > 2 ? ", " : " ")),
            s.replace(
              qe,
              `{
/* [wrapped with ` +
                o +
                `] */
`
            )
          );
        }
        function Oy(s) {
          return vt(s) || Hs(s) || !!(Hd && s && s[Hd]);
        }
        function Wn(s, o) {
          var l = typeof s;
          return (
            (o = o ?? x),
            !!o &&
              (l == "number" || (l != "symbol" && qr.test(s))) &&
              s > -1 &&
              s % 1 == 0 &&
              s < o
          );
        }
        function Kr(s, o, l) {
          if (!Zt(l)) return !1;
          var E = typeof o;
          return (
            E == "number" ? ii(l) && Wn(o, l.length) : E == "string" && o in l
          )
            ? on(l[o], s)
            : !1;
        }
        function yh(s, o) {
          if (vt(s)) return !1;
          var l = typeof s;
          return l == "number" ||
            l == "symbol" ||
            l == "boolean" ||
            s == null ||
            mi(s)
            ? !0
            : $e.test(s) || !Ze.test(s) || (o != null && s in Ht(o));
        }
        function Cy(s) {
          var o = typeof s;
          return o == "string" ||
            o == "number" ||
            o == "symbol" ||
            o == "boolean"
            ? s !== "__proto__"
            : s === null;
        }
        function wh(s) {
          var o = af(s),
            l = T[o];
          if (typeof l != "function" || !(o in Dt.prototype)) return !1;
          if (s === l) return !0;
          var E = vh(l);
          return !!E && s === E[0];
        }
        function Ry(s) {
          return !!$d && $d in s;
        }
        var Ny = Fc ? Jn : qh;
        function wo(s) {
          var o = s && s.constructor,
            l = (typeof o == "function" && o.prototype) || _a;
          return s === l;
        }
        function $0(s) {
          return s === s && !Zt(s);
        }
        function j0(s, o) {
          return function (l) {
            return l == null ? !1 : l[s] === o && (o !== t || s in Ht(l));
          };
        }
        function Ty(s) {
          var o = lf(s, function (E) {
              return l.size === v && l.clear(), E;
            }),
            l = o.cache;
          return o;
        }
        function Fy(s, o) {
          var l = s[1],
            E = o[1],
            R = l | E,
            L = R < (V | Q | A),
            J =
              (E == A && l == Y) ||
              (E == A && l == F && s[7].length <= o[8]) ||
              (E == (A | F) && o[7].length <= o[8] && l == Y);
          if (!(L || J)) return s;
          E & V && ((s[2] = o[2]), (R |= l & V ? 0 : j));
          var X = o[3];
          if (X) {
            var ie = s[3];
            (s[3] = ie ? E0(ie, X, o[4]) : X), (s[4] = ie ? ds(s[3], y) : o[4]);
          }
          return (
            (X = o[5]),
            X &&
              ((ie = s[5]),
              (s[5] = ie ? S0(ie, X, o[6]) : X),
              (s[6] = ie ? ds(s[5], y) : o[6])),
            (X = o[7]),
            X && (s[7] = X),
            E & A && (s[8] = s[8] == null ? o[8] : Lr(s[8], o[8])),
            s[9] == null && (s[9] = o[9]),
            (s[0] = o[0]),
            (s[1] = R),
            s
          );
        }
        function By(s) {
          var o = [];
          if (s != null) for (var l in Ht(s)) o.push(l);
          return o;
        }
        function qy(s) {
          return qc.call(s);
        }
        function z0(s, o, l) {
          return (
            (o = pr(o === t ? s.length - 1 : o, 0)),
            function () {
              for (
                var E = arguments, R = -1, L = pr(E.length - o, 0), J = oe(L);
                ++R < L;

              )
                J[R] = E[o + R];
              R = -1;
              for (var X = oe(o + 1); ++R < o; ) X[R] = E[R];
              return (X[o] = l(J)), yr(s, this, X);
            }
          );
        }
        function k0(s, o) {
          return o.length < 2 ? s : js(s, Ti(o, 0, -1));
        }
        function Ly(s, o) {
          for (var l = s.length, E = Lr(o.length, l), R = ri(s); E--; ) {
            var L = o[E];
            s[E] = Wn(L, l) ? R[L] : t;
          }
          return s;
        }
        function _h(s, o) {
          if (
            !(o === "constructor" && typeof s[o] == "function") &&
            o != "__proto__"
          )
            return s[o];
        }
        var H0 = V0(d0),
          _o =
            Zm ||
            function (s, o) {
              return Ct.setTimeout(s, o);
            },
          Ah = V0(oy);
        function K0(s, o, l) {
          var E = o + "";
          return Ah(s, Py(E, Uy(Iy(E), l)));
        }
        function V0(s) {
          var o = 0,
            l = 0;
          return function () {
            var E = i2(),
              R = c - (E - l);
            if (((l = E), R > 0)) {
              if (++o >= m) return arguments[0];
            } else o = 0;
            return s.apply(t, arguments);
          };
        }
        function cf(s, o) {
          var l = -1,
            E = s.length,
            R = E - 1;
          for (o = o === t ? E : o; ++l < o; ) {
            var L = nh(l, R),
              J = s[L];
            (s[L] = s[l]), (s[l] = J);
          }
          return (s.length = o), s;
        }
        var G0 = Ty(function (s) {
          var o = [];
          return (
            s.charCodeAt(0) === 46 && o.push(""),
            s.replace(ft, function (l, E, R, L) {
              o.push(R ? L.replace(Tt, "$1") : E || l);
            }),
            o
          );
        });
        function En(s) {
          if (typeof s == "string" || mi(s)) return s;
          var o = s + "";
          return o == "0" && 1 / s == -I ? "-0" : o;
        }
        function ks(s) {
          if (s != null) {
            try {
              return Bc.call(s);
            } catch {}
            try {
              return s + "";
            } catch {}
          }
          return "";
        }
        function Uy(s, o) {
          return (
            Oi(se, function (l) {
              var E = "_." + l[0];
              o & l[1] && !Cc(s, E) && s.push(E);
            }),
            s.sort()
          );
        }
        function W0(s) {
          if (s instanceof Dt) return s.clone();
          var o = new Ri(s.__wrapped__, s.__chain__);
          return (
            (o.__actions__ = ri(s.__actions__)),
            (o.__index__ = s.__index__),
            (o.__values__ = s.__values__),
            o
          );
        }
        function $y(s, o, l) {
          (l ? Kr(s, o, l) : o === t) ? (o = 1) : (o = pr(wt(o), 0));
          var E = s == null ? 0 : s.length;
          if (!E || o < 1) return [];
          for (var R = 0, L = 0, J = oe(kc(E / o)); R < E; )
            J[L++] = Ti(s, R, (R += o));
          return J;
        }
        function jy(s) {
          for (
            var o = -1, l = s == null ? 0 : s.length, E = 0, R = [];
            ++o < l;

          ) {
            var L = s[o];
            L && (R[E++] = L);
          }
          return R;
        }
        function zy() {
          var s = arguments.length;
          if (!s) return [];
          for (var o = oe(s - 1), l = arguments[0], E = s; E--; )
            o[E - 1] = arguments[E];
          return ls(vt(l) ? ri(l) : [l], xr(o, 1));
        }
        var ky = Et(function (s, o) {
            return ar(s) ? go(s, xr(o, 1, ar, !0)) : [];
          }),
          Hy = Et(function (s, o) {
            var l = Fi(o);
            return (
              ar(l) && (l = t), ar(s) ? go(s, xr(o, 1, ar, !0), nt(l, 2)) : []
            );
          }),
          Ky = Et(function (s, o) {
            var l = Fi(o);
            return ar(l) && (l = t), ar(s) ? go(s, xr(o, 1, ar, !0), t, l) : [];
          });
        function Vy(s, o, l) {
          var E = s == null ? 0 : s.length;
          return E
            ? ((o = l || o === t ? 1 : wt(o)), Ti(s, o < 0 ? 0 : o, E))
            : [];
        }
        function Gy(s, o, l) {
          var E = s == null ? 0 : s.length;
          return E
            ? ((o = l || o === t ? 1 : wt(o)),
              (o = E - o),
              Ti(s, 0, o < 0 ? 0 : o))
            : [];
        }
        function Wy(s, o) {
          return s && s.length ? Zc(s, nt(o, 3), !0, !0) : [];
        }
        function Jy(s, o) {
          return s && s.length ? Zc(s, nt(o, 3), !0) : [];
        }
        function Yy(s, o, l, E) {
          var R = s == null ? 0 : s.length;
          return R
            ? (l && typeof l != "number" && Kr(s, o, l) && ((l = 0), (E = R)),
              z2(s, o, l, E))
            : [];
        }
        function J0(s, o, l) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var R = l == null ? 0 : wt(l);
          return R < 0 && (R = pr(E + R, 0)), Rc(s, nt(o, 3), R);
        }
        function Y0(s, o, l) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var R = E - 1;
          return (
            l !== t && ((R = wt(l)), (R = l < 0 ? pr(E + R, 0) : Lr(R, E - 1))),
            Rc(s, nt(o, 3), R, !0)
          );
        }
        function Q0(s) {
          var o = s == null ? 0 : s.length;
          return o ? xr(s, 1) : [];
        }
        function Qy(s) {
          var o = s == null ? 0 : s.length;
          return o ? xr(s, I) : [];
        }
        function Xy(s, o) {
          var l = s == null ? 0 : s.length;
          return l ? ((o = o === t ? 1 : wt(o)), xr(s, o)) : [];
        }
        function Zy(s) {
          for (var o = -1, l = s == null ? 0 : s.length, E = {}; ++o < l; ) {
            var R = s[o];
            E[R[0]] = R[1];
          }
          return E;
        }
        function X0(s) {
          return s && s.length ? s[0] : t;
        }
        function e3(s, o, l) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var R = l == null ? 0 : wt(l);
          return R < 0 && (R = pr(E + R, 0)), ba(s, o, R);
        }
        function t3(s) {
          var o = s == null ? 0 : s.length;
          return o ? Ti(s, 0, -1) : [];
        }
        var r3 = Et(function (s) {
            var o = Xt(s, fh);
            return o.length && o[0] === s[0] ? Zu(o) : [];
          }),
          i3 = Et(function (s) {
            var o = Fi(s),
              l = Xt(s, fh);
            return (
              o === Fi(l) ? (o = t) : l.pop(),
              l.length && l[0] === s[0] ? Zu(l, nt(o, 2)) : []
            );
          }),
          n3 = Et(function (s) {
            var o = Fi(s),
              l = Xt(s, fh);
            return (
              (o = typeof o == "function" ? o : t),
              o && l.pop(),
              l.length && l[0] === s[0] ? Zu(l, t, o) : []
            );
          });
        function s3(s, o) {
          return s == null ? "" : t2.call(s, o);
        }
        function Fi(s) {
          var o = s == null ? 0 : s.length;
          return o ? s[o - 1] : t;
        }
        function a3(s, o, l) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var R = E;
          return (
            l !== t && ((R = wt(l)), (R = R < 0 ? pr(E + R, 0) : Lr(R, E - 1))),
            o === o ? Um(s, o, R) : Rc(s, Rd, R, !0)
          );
        }
        function o3(s, o) {
          return s && s.length ? f0(s, wt(o)) : t;
        }
        var c3 = Et(Z0);
        function Z0(s, o) {
          return s && s.length && o && o.length ? ih(s, o) : s;
        }
        function f3(s, o, l) {
          return s && s.length && o && o.length ? ih(s, o, nt(l, 2)) : s;
        }
        function u3(s, o, l) {
          return s && s.length && o && o.length ? ih(s, o, t, l) : s;
        }
        var h3 = Gn(function (s, o) {
          var l = s == null ? 0 : s.length,
            E = Ju(s, o);
          return (
            l0(
              s,
              Xt(o, function (R) {
                return Wn(R, l) ? +R : R;
              }).sort(A0)
            ),
            E
          );
        });
        function l3(s, o) {
          var l = [];
          if (!(s && s.length)) return l;
          var E = -1,
            R = [],
            L = s.length;
          for (o = nt(o, 3); ++E < L; ) {
            var J = s[E];
            o(J, E, s) && (l.push(J), R.push(E));
          }
          return l0(s, R), l;
        }
        function Eh(s) {
          return s == null ? s : s2.call(s);
        }
        function d3(s, o, l) {
          var E = s == null ? 0 : s.length;
          return E
            ? (l && typeof l != "number" && Kr(s, o, l)
                ? ((o = 0), (l = E))
                : ((o = o == null ? 0 : wt(o)), (l = l === t ? E : wt(l))),
              Ti(s, o, l))
            : [];
        }
        function p3(s, o) {
          return Xc(s, o);
        }
        function g3(s, o, l) {
          return ah(s, o, nt(l, 2));
        }
        function v3(s, o) {
          var l = s == null ? 0 : s.length;
          if (l) {
            var E = Xc(s, o);
            if (E < l && on(s[E], o)) return E;
          }
          return -1;
        }
        function b3(s, o) {
          return Xc(s, o, !0);
        }
        function m3(s, o, l) {
          return ah(s, o, nt(l, 2), !0);
        }
        function y3(s, o) {
          var l = s == null ? 0 : s.length;
          if (l) {
            var E = Xc(s, o, !0) - 1;
            if (on(s[E], o)) return E;
          }
          return -1;
        }
        function w3(s) {
          return s && s.length ? p0(s) : [];
        }
        function _3(s, o) {
          return s && s.length ? p0(s, nt(o, 2)) : [];
        }
        function A3(s) {
          var o = s == null ? 0 : s.length;
          return o ? Ti(s, 1, o) : [];
        }
        function E3(s, o, l) {
          return s && s.length
            ? ((o = l || o === t ? 1 : wt(o)), Ti(s, 0, o < 0 ? 0 : o))
            : [];
        }
        function S3(s, o, l) {
          var E = s == null ? 0 : s.length;
          return E
            ? ((o = l || o === t ? 1 : wt(o)),
              (o = E - o),
              Ti(s, o < 0 ? 0 : o, E))
            : [];
        }
        function M3(s, o) {
          return s && s.length ? Zc(s, nt(o, 3), !1, !0) : [];
        }
        function I3(s, o) {
          return s && s.length ? Zc(s, nt(o, 3)) : [];
        }
        var x3 = Et(function (s) {
            return vs(xr(s, 1, ar, !0));
          }),
          D3 = Et(function (s) {
            var o = Fi(s);
            return ar(o) && (o = t), vs(xr(s, 1, ar, !0), nt(o, 2));
          }),
          P3 = Et(function (s) {
            var o = Fi(s);
            return (
              (o = typeof o == "function" ? o : t), vs(xr(s, 1, ar, !0), t, o)
            );
          });
        function O3(s) {
          return s && s.length ? vs(s) : [];
        }
        function C3(s, o) {
          return s && s.length ? vs(s, nt(o, 2)) : [];
        }
        function R3(s, o) {
          return (
            (o = typeof o == "function" ? o : t),
            s && s.length ? vs(s, t, o) : []
          );
        }
        function Sh(s) {
          if (!(s && s.length)) return [];
          var o = 0;
          return (
            (s = hs(s, function (l) {
              if (ar(l)) return (o = pr(l.length, o)), !0;
            })),
            ju(o, function (l) {
              return Xt(s, Lu(l));
            })
          );
        }
        function ep(s, o) {
          if (!(s && s.length)) return [];
          var l = Sh(s);
          return o == null
            ? l
            : Xt(l, function (E) {
                return yr(o, t, E);
              });
        }
        var N3 = Et(function (s, o) {
            return ar(s) ? go(s, o) : [];
          }),
          T3 = Et(function (s) {
            return ch(hs(s, ar));
          }),
          F3 = Et(function (s) {
            var o = Fi(s);
            return ar(o) && (o = t), ch(hs(s, ar), nt(o, 2));
          }),
          B3 = Et(function (s) {
            var o = Fi(s);
            return (o = typeof o == "function" ? o : t), ch(hs(s, ar), t, o);
          }),
          q3 = Et(Sh);
        function L3(s, o) {
          return m0(s || [], o || [], po);
        }
        function U3(s, o) {
          return m0(s || [], o || [], mo);
        }
        var $3 = Et(function (s) {
          var o = s.length,
            l = o > 1 ? s[o - 1] : t;
          return (l = typeof l == "function" ? (s.pop(), l) : t), ep(s, l);
        });
        function tp(s) {
          var o = T(s);
          return (o.__chain__ = !0), o;
        }
        function j3(s, o) {
          return o(s), s;
        }
        function ff(s, o) {
          return o(s);
        }
        var z3 = Gn(function (s) {
          var o = s.length,
            l = o ? s[0] : 0,
            E = this.__wrapped__,
            R = function (L) {
              return Ju(L, s);
            };
          return o > 1 ||
            this.__actions__.length ||
            !(E instanceof Dt) ||
            !Wn(l)
            ? this.thru(R)
            : ((E = E.slice(l, +l + (o ? 1 : 0))),
              E.__actions__.push({ func: ff, args: [R], thisArg: t }),
              new Ri(E, this.__chain__).thru(function (L) {
                return o && !L.length && L.push(t), L;
              }));
        });
        function k3() {
          return tp(this);
        }
        function H3() {
          return new Ri(this.value(), this.__chain__);
        }
        function K3() {
          this.__values__ === t && (this.__values__ = gp(this.value()));
          var s = this.__index__ >= this.__values__.length,
            o = s ? t : this.__values__[this.__index__++];
          return { done: s, value: o };
        }
        function V3() {
          return this;
        }
        function G3(s) {
          for (var o, l = this; l instanceof Gc; ) {
            var E = W0(l);
            (E.__index__ = 0),
              (E.__values__ = t),
              o ? (R.__wrapped__ = E) : (o = E);
            var R = E;
            l = l.__wrapped__;
          }
          return (R.__wrapped__ = s), o;
        }
        function W3() {
          var s = this.__wrapped__;
          if (s instanceof Dt) {
            var o = s;
            return (
              this.__actions__.length && (o = new Dt(this)),
              (o = o.reverse()),
              o.__actions__.push({ func: ff, args: [Eh], thisArg: t }),
              new Ri(o, this.__chain__)
            );
          }
          return this.thru(Eh);
        }
        function J3() {
          return b0(this.__wrapped__, this.__actions__);
        }
        var Y3 = ef(function (s, o, l) {
          Lt.call(s, l) ? ++s[l] : Kn(s, l, 1);
        });
        function Q3(s, o, l) {
          var E = vt(s) ? Od : j2;
          return l && Kr(s, o, l) && (o = t), E(s, nt(o, 3));
        }
        function X3(s, o) {
          var l = vt(s) ? hs : e0;
          return l(s, nt(o, 3));
        }
        var Z3 = D0(J0),
          e6 = D0(Y0);
        function t6(s, o) {
          return xr(uf(s, o), 1);
        }
        function r6(s, o) {
          return xr(uf(s, o), I);
        }
        function i6(s, o, l) {
          return (l = l === t ? 1 : wt(l)), xr(uf(s, o), l);
        }
        function rp(s, o) {
          var l = vt(s) ? Oi : gs;
          return l(s, nt(o, 3));
        }
        function ip(s, o) {
          var l = vt(s) ? Am : Zd;
          return l(s, nt(o, 3));
        }
        var n6 = ef(function (s, o, l) {
          Lt.call(s, l) ? s[l].push(o) : Kn(s, l, [o]);
        });
        function s6(s, o, l, E) {
          (s = ii(s) ? s : Pa(s)), (l = l && !E ? wt(l) : 0);
          var R = s.length;
          return (
            l < 0 && (l = pr(R + l, 0)),
            gf(s) ? l <= R && s.indexOf(o, l) > -1 : !!R && ba(s, o, l) > -1
          );
        }
        var a6 = Et(function (s, o, l) {
            var E = -1,
              R = typeof o == "function",
              L = ii(s) ? oe(s.length) : [];
            return (
              gs(s, function (J) {
                L[++E] = R ? yr(o, J, l) : vo(J, o, l);
              }),
              L
            );
          }),
          o6 = ef(function (s, o, l) {
            Kn(s, l, o);
          });
        function uf(s, o) {
          var l = vt(s) ? Xt : a0;
          return l(s, nt(o, 3));
        }
        function c6(s, o, l, E) {
          return s == null
            ? []
            : (vt(o) || (o = o == null ? [] : [o]),
              (l = E ? t : l),
              vt(l) || (l = l == null ? [] : [l]),
              u0(s, o, l));
        }
        var f6 = ef(
          function (s, o, l) {
            s[l ? 0 : 1].push(o);
          },
          function () {
            return [[], []];
          }
        );
        function u6(s, o, l) {
          var E = vt(s) ? Bu : Td,
            R = arguments.length < 3;
          return E(s, nt(o, 4), l, R, gs);
        }
        function h6(s, o, l) {
          var E = vt(s) ? Em : Td,
            R = arguments.length < 3;
          return E(s, nt(o, 4), l, R, Zd);
        }
        function l6(s, o) {
          var l = vt(s) ? hs : e0;
          return l(s, df(nt(o, 3)));
        }
        function d6(s) {
          var o = vt(s) ? Jd : sy;
          return o(s);
        }
        function p6(s, o, l) {
          (l ? Kr(s, o, l) : o === t) ? (o = 1) : (o = wt(o));
          var E = vt(s) ? B2 : ay;
          return E(s, o);
        }
        function g6(s) {
          var o = vt(s) ? q2 : cy;
          return o(s);
        }
        function v6(s) {
          if (s == null) return 0;
          if (ii(s)) return gf(s) ? ya(s) : s.length;
          var o = Ur(s);
          return o == ue || o == Ie ? s.size : th(s).length;
        }
        function b6(s, o, l) {
          var E = vt(s) ? qu : fy;
          return l && Kr(s, o, l) && (o = t), E(s, nt(o, 3));
        }
        var m6 = Et(function (s, o) {
            if (s == null) return [];
            var l = o.length;
            return (
              l > 1 && Kr(s, o[0], o[1])
                ? (o = [])
                : l > 2 && Kr(o[0], o[1], o[2]) && (o = [o[0]]),
              u0(s, xr(o, 1), [])
            );
          }),
          hf =
            Xm ||
            function () {
              return Ct.Date.now();
            };
        function y6(s, o) {
          if (typeof o != "function") throw new Ci(f);
          return (
            (s = wt(s)),
            function () {
              if (--s < 1) return o.apply(this, arguments);
            }
          );
        }
        function np(s, o, l) {
          return (
            (o = l ? t : o),
            (o = s && o == null ? s.length : o),
            Vn(s, A, t, t, t, t, o)
          );
        }
        function sp(s, o) {
          var l;
          if (typeof o != "function") throw new Ci(f);
          return (
            (s = wt(s)),
            function () {
              return (
                --s > 0 && (l = o.apply(this, arguments)), s <= 1 && (o = t), l
              );
            }
          );
        }
        var Mh = Et(function (s, o, l) {
            var E = V;
            if (l.length) {
              var R = ds(l, xa(Mh));
              E |= z;
            }
            return Vn(s, E, o, l, R);
          }),
          ap = Et(function (s, o, l) {
            var E = V | Q;
            if (l.length) {
              var R = ds(l, xa(ap));
              E |= z;
            }
            return Vn(o, E, s, l, R);
          });
        function op(s, o, l) {
          o = l ? t : o;
          var E = Vn(s, Y, t, t, t, t, t, o);
          return (E.placeholder = op.placeholder), E;
        }
        function cp(s, o, l) {
          o = l ? t : o;
          var E = Vn(s, U, t, t, t, t, t, o);
          return (E.placeholder = cp.placeholder), E;
        }
        function fp(s, o, l) {
          var E,
            R,
            L,
            J,
            X,
            ie,
            he = 0,
            le = !1,
            ge = !1,
            De = !0;
          if (typeof s != "function") throw new Ci(f);
          (o = Bi(o) || 0),
            Zt(l) &&
              ((le = !!l.leading),
              (ge = "maxWait" in l),
              (L = ge ? pr(Bi(l.maxWait) || 0, o) : L),
              (De = "trailing" in l ? !!l.trailing : De));
          function We(or) {
            var cn = E,
              Qn = R;
            return (E = R = t), (he = or), (J = s.apply(Qn, cn)), J;
          }
          function ot(or) {
            return (he = or), (X = _o(Mt, o)), le ? We(or) : J;
          }
          function _t(or) {
            var cn = or - ie,
              Qn = or - he,
              Dp = o - cn;
            return ge ? Lr(Dp, L - Qn) : Dp;
          }
          function ct(or) {
            var cn = or - ie,
              Qn = or - he;
            return ie === t || cn >= o || cn < 0 || (ge && Qn >= L);
          }
          function Mt() {
            var or = hf();
            if (ct(or)) return Rt(or);
            X = _o(Mt, _t(or));
          }
          function Rt(or) {
            return (X = t), De && E ? We(or) : ((E = R = t), J);
          }
          function yi() {
            X !== t && y0(X), (he = 0), (E = ie = R = X = t);
          }
          function Vr() {
            return X === t ? J : Rt(hf());
          }
          function wi() {
            var or = hf(),
              cn = ct(or);
            if (((E = arguments), (R = this), (ie = or), cn)) {
              if (X === t) return ot(ie);
              if (ge) return y0(X), (X = _o(Mt, o)), We(ie);
            }
            return X === t && (X = _o(Mt, o)), J;
          }
          return (wi.cancel = yi), (wi.flush = Vr), wi;
        }
        var w6 = Et(function (s, o) {
            return Xd(s, 1, o);
          }),
          _6 = Et(function (s, o, l) {
            return Xd(s, Bi(o) || 0, l);
          });
        function A6(s) {
          return Vn(s, ae);
        }
        function lf(s, o) {
          if (typeof s != "function" || (o != null && typeof o != "function"))
            throw new Ci(f);
          var l = function () {
            var E = arguments,
              R = o ? o.apply(this, E) : E[0],
              L = l.cache;
            if (L.has(R)) return L.get(R);
            var J = s.apply(this, E);
            return (l.cache = L.set(R, J) || L), J;
          };
          return (l.cache = new (lf.Cache || Hn)()), l;
        }
        lf.Cache = Hn;
        function df(s) {
          if (typeof s != "function") throw new Ci(f);
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return !s.call(this);
              case 1:
                return !s.call(this, o[0]);
              case 2:
                return !s.call(this, o[0], o[1]);
              case 3:
                return !s.call(this, o[0], o[1], o[2]);
            }
            return !s.apply(this, o);
          };
        }
        function E6(s) {
          return sp(2, s);
        }
        var S6 = uy(function (s, o) {
            o =
              o.length == 1 && vt(o[0])
                ? Xt(o[0], vi(nt()))
                : Xt(xr(o, 1), vi(nt()));
            var l = o.length;
            return Et(function (E) {
              for (var R = -1, L = Lr(E.length, l); ++R < L; )
                E[R] = o[R].call(this, E[R]);
              return yr(s, this, E);
            });
          }),
          Ih = Et(function (s, o) {
            var l = ds(o, xa(Ih));
            return Vn(s, z, t, o, l);
          }),
          up = Et(function (s, o) {
            var l = ds(o, xa(up));
            return Vn(s, G, t, o, l);
          }),
          M6 = Gn(function (s, o) {
            return Vn(s, F, t, t, t, o);
          });
        function I6(s, o) {
          if (typeof s != "function") throw new Ci(f);
          return (o = o === t ? o : wt(o)), Et(s, o);
        }
        function x6(s, o) {
          if (typeof s != "function") throw new Ci(f);
          return (
            (o = o == null ? 0 : pr(wt(o), 0)),
            Et(function (l) {
              var E = l[o],
                R = ms(l, 0, o);
              return E && ls(R, E), yr(s, this, R);
            })
          );
        }
        function D6(s, o, l) {
          var E = !0,
            R = !0;
          if (typeof s != "function") throw new Ci(f);
          return (
            Zt(l) &&
              ((E = "leading" in l ? !!l.leading : E),
              (R = "trailing" in l ? !!l.trailing : R)),
            fp(s, o, { leading: E, maxWait: o, trailing: R })
          );
        }
        function P6(s) {
          return np(s, 1);
        }
        function O6(s, o) {
          return Ih(uh(o), s);
        }
        function C6() {
          if (!arguments.length) return [];
          var s = arguments[0];
          return vt(s) ? s : [s];
        }
        function R6(s) {
          return Ni(s, P);
        }
        function N6(s, o) {
          return (o = typeof o == "function" ? o : t), Ni(s, P, o);
        }
        function T6(s) {
          return Ni(s, S | P);
        }
        function F6(s, o) {
          return (o = typeof o == "function" ? o : t), Ni(s, S | P, o);
        }
        function B6(s, o) {
          return o == null || Qd(s, o, wr(o));
        }
        function on(s, o) {
          return s === o || (s !== s && o !== o);
        }
        var q6 = sf(Xu),
          L6 = sf(function (s, o) {
            return s >= o;
          }),
          Hs = i0(
            (function () {
              return arguments;
            })()
          )
            ? i0
            : function (s) {
                return tr(s) && Lt.call(s, "callee") && !kd.call(s, "callee");
              },
          vt = oe.isArray,
          U6 = kr ? vi(kr) : G2;
        function ii(s) {
          return s != null && pf(s.length) && !Jn(s);
        }
        function ar(s) {
          return tr(s) && ii(s);
        }
        function $6(s) {
          return s === !0 || s === !1 || (tr(s) && Hr(s) == k);
        }
        var ys = e2 || qh,
          j6 = nn ? vi(nn) : W2;
        function z6(s) {
          return tr(s) && s.nodeType === 1 && !Ao(s);
        }
        function k6(s) {
          if (s == null) return !0;
          if (
            ii(s) &&
            (vt(s) ||
              typeof s == "string" ||
              typeof s.splice == "function" ||
              ys(s) ||
              Da(s) ||
              Hs(s))
          )
            return !s.length;
          var o = Ur(s);
          if (o == ue || o == Ie) return !s.size;
          if (wo(s)) return !th(s).length;
          for (var l in s) if (Lt.call(s, l)) return !1;
          return !0;
        }
        function H6(s, o) {
          return bo(s, o);
        }
        function K6(s, o, l) {
          l = typeof l == "function" ? l : t;
          var E = l ? l(s, o) : t;
          return E === t ? bo(s, o, t, l) : !!E;
        }
        function xh(s) {
          if (!tr(s)) return !1;
          var o = Hr(s);
          return (
            o == $ ||
            o == w ||
            (typeof s.message == "string" &&
              typeof s.name == "string" &&
              !Ao(s))
          );
        }
        function V6(s) {
          return typeof s == "number" && Kd(s);
        }
        function Jn(s) {
          if (!Zt(s)) return !1;
          var o = Hr(s);
          return o == ne || o == ce || o == q || o == Pe;
        }
        function hp(s) {
          return typeof s == "number" && s == wt(s);
        }
        function pf(s) {
          return typeof s == "number" && s > -1 && s % 1 == 0 && s <= x;
        }
        function Zt(s) {
          var o = typeof s;
          return s != null && (o == "object" || o == "function");
        }
        function tr(s) {
          return s != null && typeof s == "object";
        }
        var lp = Pi ? vi(Pi) : Y2;
        function G6(s, o) {
          return s === o || eh(s, o, bh(o));
        }
        function W6(s, o, l) {
          return (l = typeof l == "function" ? l : t), eh(s, o, bh(o), l);
        }
        function J6(s) {
          return dp(s) && s != +s;
        }
        function Y6(s) {
          if (Ny(s)) throw new dt(a);
          return n0(s);
        }
        function Q6(s) {
          return s === null;
        }
        function X6(s) {
          return s == null;
        }
        function dp(s) {
          return typeof s == "number" || (tr(s) && Hr(s) == ye);
        }
        function Ao(s) {
          if (!tr(s) || Hr(s) != Re) return !1;
          var o = $c(s);
          if (o === null) return !0;
          var l = Lt.call(o, "constructor") && o.constructor;
          return typeof l == "function" && l instanceof l && Bc.call(l) == Wm;
        }
        var Dh = wn ? vi(wn) : Q2;
        function Z6(s) {
          return hp(s) && s >= -x && s <= x;
        }
        var pp = ao ? vi(ao) : X2;
        function gf(s) {
          return typeof s == "string" || (!vt(s) && tr(s) && Hr(s) == me);
        }
        function mi(s) {
          return typeof s == "symbol" || (tr(s) && Hr(s) == Oe);
        }
        var Da = Bs ? vi(Bs) : Z2;
        function ew(s) {
          return s === t;
        }
        function tw(s) {
          return tr(s) && Ur(s) == ve;
        }
        function rw(s) {
          return tr(s) && Hr(s) == Ce;
        }
        var iw = sf(rh),
          nw = sf(function (s, o) {
            return s <= o;
          });
        function gp(s) {
          if (!s) return [];
          if (ii(s)) return gf(s) ? sn(s) : ri(s);
          if (co && s[co]) return Bm(s[co]());
          var o = Ur(s),
            l = o == ue ? ku : o == Ie ? Nc : Pa;
          return l(s);
        }
        function Yn(s) {
          if (!s) return s === 0 ? s : 0;
          if (((s = Bi(s)), s === I || s === -I)) {
            var o = s < 0 ? -1 : 1;
            return o * M;
          }
          return s === s ? s : 0;
        }
        function wt(s) {
          var o = Yn(s),
            l = o % 1;
          return o === o ? (l ? o - l : o) : 0;
        }
        function vp(s) {
          return s ? $s(wt(s), 0, p) : 0;
        }
        function Bi(s) {
          if (typeof s == "number") return s;
          if (mi(s)) return d;
          if (Zt(s)) {
            var o = typeof s.valueOf == "function" ? s.valueOf() : s;
            s = Zt(o) ? o + "" : o;
          }
          if (typeof s != "string") return s === 0 ? s : +s;
          s = Fd(s);
          var l = Tr.test(s);
          return l || Br.test(s)
            ? gt(s.slice(2), l ? 2 : 8)
            : Nr.test(s)
            ? d
            : +s;
        }
        function bp(s) {
          return An(s, ni(s));
        }
        function sw(s) {
          return s ? $s(wt(s), -x, x) : s === 0 ? s : 0;
        }
        function Bt(s) {
          return s == null ? "" : bi(s);
        }
        var aw = Ma(function (s, o) {
            if (wo(o) || ii(o)) {
              An(o, wr(o), s);
              return;
            }
            for (var l in o) Lt.call(o, l) && po(s, l, o[l]);
          }),
          mp = Ma(function (s, o) {
            An(o, ni(o), s);
          }),
          vf = Ma(function (s, o, l, E) {
            An(o, ni(o), s, E);
          }),
          ow = Ma(function (s, o, l, E) {
            An(o, wr(o), s, E);
          }),
          cw = Gn(Ju);
        function fw(s, o) {
          var l = Sa(s);
          return o == null ? l : Yd(l, o);
        }
        var uw = Et(function (s, o) {
            s = Ht(s);
            var l = -1,
              E = o.length,
              R = E > 2 ? o[2] : t;
            for (R && Kr(o[0], o[1], R) && (E = 1); ++l < E; )
              for (var L = o[l], J = ni(L), X = -1, ie = J.length; ++X < ie; ) {
                var he = J[X],
                  le = s[he];
                (le === t || (on(le, _a[he]) && !Lt.call(s, he))) &&
                  (s[he] = L[he]);
              }
            return s;
          }),
          hw = Et(function (s) {
            return s.push(t, F0), yr(yp, t, s);
          });
        function lw(s, o) {
          return Cd(s, nt(o, 3), _n);
        }
        function dw(s, o) {
          return Cd(s, nt(o, 3), Qu);
        }
        function pw(s, o) {
          return s == null ? s : Yu(s, nt(o, 3), ni);
        }
        function gw(s, o) {
          return s == null ? s : t0(s, nt(o, 3), ni);
        }
        function vw(s, o) {
          return s && _n(s, nt(o, 3));
        }
        function bw(s, o) {
          return s && Qu(s, nt(o, 3));
        }
        function mw(s) {
          return s == null ? [] : Yc(s, wr(s));
        }
        function yw(s) {
          return s == null ? [] : Yc(s, ni(s));
        }
        function Ph(s, o, l) {
          var E = s == null ? t : js(s, o);
          return E === t ? l : E;
        }
        function ww(s, o) {
          return s != null && L0(s, o, k2);
        }
        function Oh(s, o) {
          return s != null && L0(s, o, H2);
        }
        var _w = O0(function (s, o, l) {
            o != null && typeof o.toString != "function" && (o = qc.call(o)),
              (s[o] = l);
          }, Rh(si)),
          Aw = O0(function (s, o, l) {
            o != null && typeof o.toString != "function" && (o = qc.call(o)),
              Lt.call(s, o) ? s[o].push(l) : (s[o] = [l]);
          }, nt),
          Ew = Et(vo);
        function wr(s) {
          return ii(s) ? Wd(s) : th(s);
        }
        function ni(s) {
          return ii(s) ? Wd(s, !0) : ey(s);
        }
        function Sw(s, o) {
          var l = {};
          return (
            (o = nt(o, 3)),
            _n(s, function (E, R, L) {
              Kn(l, o(E, R, L), E);
            }),
            l
          );
        }
        function Mw(s, o) {
          var l = {};
          return (
            (o = nt(o, 3)),
            _n(s, function (E, R, L) {
              Kn(l, R, o(E, R, L));
            }),
            l
          );
        }
        var Iw = Ma(function (s, o, l) {
            Qc(s, o, l);
          }),
          yp = Ma(function (s, o, l, E) {
            Qc(s, o, l, E);
          }),
          xw = Gn(function (s, o) {
            var l = {};
            if (s == null) return l;
            var E = !1;
            (o = Xt(o, function (L) {
              return (L = bs(L, s)), E || (E = L.length > 1), L;
            })),
              An(s, gh(s), l),
              E && (l = Ni(l, S | O | P, _y));
            for (var R = o.length; R--; ) oh(l, o[R]);
            return l;
          });
        function Dw(s, o) {
          return wp(s, df(nt(o)));
        }
        var Pw = Gn(function (s, o) {
          return s == null ? {} : ry(s, o);
        });
        function wp(s, o) {
          if (s == null) return {};
          var l = Xt(gh(s), function (E) {
            return [E];
          });
          return (
            (o = nt(o)),
            h0(s, l, function (E, R) {
              return o(E, R[0]);
            })
          );
        }
        function Ow(s, o, l) {
          o = bs(o, s);
          var E = -1,
            R = o.length;
          for (R || ((R = 1), (s = t)); ++E < R; ) {
            var L = s == null ? t : s[En(o[E])];
            L === t && ((E = R), (L = l)), (s = Jn(L) ? L.call(s) : L);
          }
          return s;
        }
        function Cw(s, o, l) {
          return s == null ? s : mo(s, o, l);
        }
        function Rw(s, o, l, E) {
          return (
            (E = typeof E == "function" ? E : t), s == null ? s : mo(s, o, l, E)
          );
        }
        var _p = N0(wr),
          Ap = N0(ni);
        function Nw(s, o, l) {
          var E = vt(s),
            R = E || ys(s) || Da(s);
          if (((o = nt(o, 4)), l == null)) {
            var L = s && s.constructor;
            R
              ? (l = E ? new L() : [])
              : Zt(s)
              ? (l = Jn(L) ? Sa($c(s)) : {})
              : (l = {});
          }
          return (
            (R ? Oi : _n)(s, function (J, X, ie) {
              return o(l, J, X, ie);
            }),
            l
          );
        }
        function Tw(s, o) {
          return s == null ? !0 : oh(s, o);
        }
        function Fw(s, o, l) {
          return s == null ? s : v0(s, o, uh(l));
        }
        function Bw(s, o, l, E) {
          return (
            (E = typeof E == "function" ? E : t),
            s == null ? s : v0(s, o, uh(l), E)
          );
        }
        function Pa(s) {
          return s == null ? [] : zu(s, wr(s));
        }
        function qw(s) {
          return s == null ? [] : zu(s, ni(s));
        }
        function Lw(s, o, l) {
          return (
            l === t && ((l = o), (o = t)),
            l !== t && ((l = Bi(l)), (l = l === l ? l : 0)),
            o !== t && ((o = Bi(o)), (o = o === o ? o : 0)),
            $s(Bi(s), o, l)
          );
        }
        function Uw(s, o, l) {
          return (
            (o = Yn(o)),
            l === t ? ((l = o), (o = 0)) : (l = Yn(l)),
            (s = Bi(s)),
            K2(s, o, l)
          );
        }
        function $w(s, o, l) {
          if (
            (l && typeof l != "boolean" && Kr(s, o, l) && (o = l = t),
            l === t &&
              (typeof o == "boolean"
                ? ((l = o), (o = t))
                : typeof s == "boolean" && ((l = s), (s = t))),
            s === t && o === t
              ? ((s = 0), (o = 1))
              : ((s = Yn(s)), o === t ? ((o = s), (s = 0)) : (o = Yn(o))),
            s > o)
          ) {
            var E = s;
            (s = o), (o = E);
          }
          if (l || s % 1 || o % 1) {
            var R = Vd();
            return Lr(s + R * (o - s + zt("1e-" + ((R + "").length - 1))), o);
          }
          return nh(s, o);
        }
        var jw = Ia(function (s, o, l) {
          return (o = o.toLowerCase()), s + (l ? Ep(o) : o);
        });
        function Ep(s) {
          return Ch(Bt(s).toLowerCase());
        }
        function Sp(s) {
          return (s = Bt(s)), s && s.replace(er, Cm).replace(Nu, "");
        }
        function zw(s, o, l) {
          (s = Bt(s)), (o = bi(o));
          var E = s.length;
          l = l === t ? E : $s(wt(l), 0, E);
          var R = l;
          return (l -= o.length), l >= 0 && s.slice(l, R) == o;
        }
        function kw(s) {
          return (s = Bt(s)), s && Xe.test(s) ? s.replace(xt, Rm) : s;
        }
        function Hw(s) {
          return (s = Bt(s)), s && je.test(s) ? s.replace(rt, "\\$&") : s;
        }
        var Kw = Ia(function (s, o, l) {
            return s + (l ? "-" : "") + o.toLowerCase();
          }),
          Vw = Ia(function (s, o, l) {
            return s + (l ? " " : "") + o.toLowerCase();
          }),
          Gw = x0("toLowerCase");
        function Ww(s, o, l) {
          (s = Bt(s)), (o = wt(o));
          var E = o ? ya(s) : 0;
          if (!o || E >= o) return s;
          var R = (o - E) / 2;
          return nf(Hc(R), l) + s + nf(kc(R), l);
        }
        function Jw(s, o, l) {
          (s = Bt(s)), (o = wt(o));
          var E = o ? ya(s) : 0;
          return o && E < o ? s + nf(o - E, l) : s;
        }
        function Yw(s, o, l) {
          (s = Bt(s)), (o = wt(o));
          var E = o ? ya(s) : 0;
          return o && E < o ? nf(o - E, l) + s : s;
        }
        function Qw(s, o, l) {
          return (
            l || o == null ? (o = 0) : o && (o = +o),
            n2(Bt(s).replace(it, ""), o || 0)
          );
        }
        function Xw(s, o, l) {
          return (
            (l ? Kr(s, o, l) : o === t) ? (o = 1) : (o = wt(o)), sh(Bt(s), o)
          );
        }
        function Zw() {
          var s = arguments,
            o = Bt(s[0]);
          return s.length < 3 ? o : o.replace(s[1], s[2]);
        }
        var e5 = Ia(function (s, o, l) {
          return s + (l ? "_" : "") + o.toLowerCase();
        });
        function t5(s, o, l) {
          return (
            l && typeof l != "number" && Kr(s, o, l) && (o = l = t),
            (l = l === t ? p : l >>> 0),
            l
              ? ((s = Bt(s)),
                s &&
                (typeof o == "string" || (o != null && !Dh(o))) &&
                ((o = bi(o)), !o && ma(s))
                  ? ms(sn(s), 0, l)
                  : s.split(o, l))
              : []
          );
        }
        var r5 = Ia(function (s, o, l) {
          return s + (l ? " " : "") + Ch(o);
        });
        function i5(s, o, l) {
          return (
            (s = Bt(s)),
            (l = l == null ? 0 : $s(wt(l), 0, s.length)),
            (o = bi(o)),
            s.slice(l, l + o.length) == o
          );
        }
        function n5(s, o, l) {
          var E = T.templateSettings;
          l && Kr(s, o, l) && (o = t), (s = Bt(s)), (o = vf({}, o, E, T0));
          var R = vf({}, o.imports, E.imports, T0),
            L = wr(R),
            J = zu(R, L),
            X,
            ie,
            he = 0,
            le = o.interpolate || Xr,
            ge = "__p += '",
            De = Hu(
              (o.escape || Xr).source +
                "|" +
                le.source +
                "|" +
                (le === et ? at : Xr).source +
                "|" +
                (o.evaluate || Xr).source +
                "|$",
              "g"
            ),
            We =
              "//# sourceURL=" +
              (Lt.call(o, "sourceURL")
                ? (o.sourceURL + "").replace(/\s/g, " ")
                : "lodash.templateSources[" + ++Tu + "]") +
              `
`;
          s.replace(De, function (ct, Mt, Rt, yi, Vr, wi) {
            return (
              Rt || (Rt = yi),
              (ge += s.slice(he, wi).replace(Qi, Nm)),
              Mt &&
                ((X = !0),
                (ge +=
                  `' +
__e(` +
                  Mt +
                  `) +
'`)),
              Vr &&
                ((ie = !0),
                (ge +=
                  `';
` +
                  Vr +
                  `;
__p += '`)),
              Rt &&
                (ge +=
                  `' +
((__t = (` +
                  Rt +
                  `)) == null ? '' : __t) +
'`),
              (he = wi + ct.length),
              ct
            );
          }),
            (ge += `';
`);
          var ot = Lt.call(o, "variable") && o.variable;
          if (!ot)
            ge =
              `with (obj) {
` +
              ge +
              `
}
`;
          else if (Nt.test(ot)) throw new dt(h);
          (ge = (ie ? ge.replace(At, "") : ge)
            .replace(lt, "$1")
            .replace(Je, "$1;")),
            (ge =
              "function(" +
              (ot || "obj") +
              `) {
` +
              (ot
                ? ""
                : `obj || (obj = {});
`) +
              "var __t, __p = ''" +
              (X ? ", __e = _.escape" : "") +
              (ie
                ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`
                : `;
`) +
              ge +
              `return __p
}`);
          var _t = Ip(function () {
            return Ft(L, We + "return " + ge).apply(t, J);
          });
          if (((_t.source = ge), xh(_t))) throw _t;
          return _t;
        }
        function s5(s) {
          return Bt(s).toLowerCase();
        }
        function a5(s) {
          return Bt(s).toUpperCase();
        }
        function o5(s, o, l) {
          if (((s = Bt(s)), s && (l || o === t))) return Fd(s);
          if (!s || !(o = bi(o))) return s;
          var E = sn(s),
            R = sn(o),
            L = Bd(E, R),
            J = qd(E, R) + 1;
          return ms(E, L, J).join("");
        }
        function c5(s, o, l) {
          if (((s = Bt(s)), s && (l || o === t))) return s.slice(0, Ud(s) + 1);
          if (!s || !(o = bi(o))) return s;
          var E = sn(s),
            R = qd(E, sn(o)) + 1;
          return ms(E, 0, R).join("");
        }
        function f5(s, o, l) {
          if (((s = Bt(s)), s && (l || o === t))) return s.replace(it, "");
          if (!s || !(o = bi(o))) return s;
          var E = sn(s),
            R = Bd(E, sn(o));
          return ms(E, R).join("");
        }
        function u5(s, o) {
          var l = de,
            E = B;
          if (Zt(o)) {
            var R = "separator" in o ? o.separator : R;
            (l = "length" in o ? wt(o.length) : l),
              (E = "omission" in o ? bi(o.omission) : E);
          }
          s = Bt(s);
          var L = s.length;
          if (ma(s)) {
            var J = sn(s);
            L = J.length;
          }
          if (l >= L) return s;
          var X = l - ya(E);
          if (X < 1) return E;
          var ie = J ? ms(J, 0, X).join("") : s.slice(0, X);
          if (R === t) return ie + E;
          if ((J && (X += ie.length - X), Dh(R))) {
            if (s.slice(X).search(R)) {
              var he,
                le = ie;
              for (
                R.global || (R = Hu(R.source, Bt(mt.exec(R)) + "g")),
                  R.lastIndex = 0;
                (he = R.exec(le));

              )
                var ge = he.index;
              ie = ie.slice(0, ge === t ? X : ge);
            }
          } else if (s.indexOf(bi(R), X) != X) {
            var De = ie.lastIndexOf(R);
            De > -1 && (ie = ie.slice(0, De));
          }
          return ie + E;
        }
        function h5(s) {
          return (s = Bt(s)), s && Fe.test(s) ? s.replace(St, $m) : s;
        }
        var l5 = Ia(function (s, o, l) {
            return s + (l ? " " : "") + o.toUpperCase();
          }),
          Ch = x0("toUpperCase");
        function Mp(s, o, l) {
          return (
            (s = Bt(s)),
            (o = l ? t : o),
            o === t ? (Fm(s) ? km(s) : Im(s)) : s.match(o) || []
          );
        }
        var Ip = Et(function (s, o) {
            try {
              return yr(s, t, o);
            } catch (l) {
              return xh(l) ? l : new dt(l);
            }
          }),
          d5 = Gn(function (s, o) {
            return (
              Oi(o, function (l) {
                (l = En(l)), Kn(s, l, Mh(s[l], s));
              }),
              s
            );
          });
        function p5(s) {
          var o = s == null ? 0 : s.length,
            l = nt();
          return (
            (s = o
              ? Xt(s, function (E) {
                  if (typeof E[1] != "function") throw new Ci(f);
                  return [l(E[0]), E[1]];
                })
              : []),
            Et(function (E) {
              for (var R = -1; ++R < o; ) {
                var L = s[R];
                if (yr(L[0], this, E)) return yr(L[1], this, E);
              }
            })
          );
        }
        function g5(s) {
          return $2(Ni(s, S));
        }
        function Rh(s) {
          return function () {
            return s;
          };
        }
        function v5(s, o) {
          return s == null || s !== s ? o : s;
        }
        var b5 = P0(),
          m5 = P0(!0);
        function si(s) {
          return s;
        }
        function Nh(s) {
          return s0(typeof s == "function" ? s : Ni(s, S));
        }
        function y5(s) {
          return o0(Ni(s, S));
        }
        function w5(s, o) {
          return c0(s, Ni(o, S));
        }
        var _5 = Et(function (s, o) {
            return function (l) {
              return vo(l, s, o);
            };
          }),
          A5 = Et(function (s, o) {
            return function (l) {
              return vo(s, l, o);
            };
          });
        function Th(s, o, l) {
          var E = wr(o),
            R = Yc(o, E);
          l == null &&
            !(Zt(o) && (R.length || !E.length)) &&
            ((l = o), (o = s), (s = this), (R = Yc(o, wr(o))));
          var L = !(Zt(l) && "chain" in l) || !!l.chain,
            J = Jn(s);
          return (
            Oi(R, function (X) {
              var ie = o[X];
              (s[X] = ie),
                J &&
                  (s.prototype[X] = function () {
                    var he = this.__chain__;
                    if (L || he) {
                      var le = s(this.__wrapped__),
                        ge = (le.__actions__ = ri(this.__actions__));
                      return (
                        ge.push({ func: ie, args: arguments, thisArg: s }),
                        (le.__chain__ = he),
                        le
                      );
                    }
                    return ie.apply(s, ls([this.value()], arguments));
                  });
            }),
            s
          );
        }
        function E5() {
          return Ct._ === this && (Ct._ = Jm), this;
        }
        function Fh() {}
        function S5(s) {
          return (
            (s = wt(s)),
            Et(function (o) {
              return f0(o, s);
            })
          );
        }
        var M5 = lh(Xt),
          I5 = lh(Od),
          x5 = lh(qu);
        function xp(s) {
          return yh(s) ? Lu(En(s)) : iy(s);
        }
        function D5(s) {
          return function (o) {
            return s == null ? t : js(s, o);
          };
        }
        var P5 = C0(),
          O5 = C0(!0);
        function Bh() {
          return [];
        }
        function qh() {
          return !1;
        }
        function C5() {
          return {};
        }
        function R5() {
          return "";
        }
        function N5() {
          return !0;
        }
        function T5(s, o) {
          if (((s = wt(s)), s < 1 || s > x)) return [];
          var l = p,
            E = Lr(s, p);
          (o = nt(o)), (s -= p);
          for (var R = ju(E, o); ++l < s; ) o(l);
          return R;
        }
        function F5(s) {
          return vt(s) ? Xt(s, En) : mi(s) ? [s] : ri(G0(Bt(s)));
        }
        function B5(s) {
          var o = ++Gm;
          return Bt(s) + o;
        }
        var q5 = rf(function (s, o) {
            return s + o;
          }, 0),
          L5 = dh("ceil"),
          U5 = rf(function (s, o) {
            return s / o;
          }, 1),
          $5 = dh("floor");
        function j5(s) {
          return s && s.length ? Jc(s, si, Xu) : t;
        }
        function z5(s, o) {
          return s && s.length ? Jc(s, nt(o, 2), Xu) : t;
        }
        function k5(s) {
          return Nd(s, si);
        }
        function H5(s, o) {
          return Nd(s, nt(o, 2));
        }
        function K5(s) {
          return s && s.length ? Jc(s, si, rh) : t;
        }
        function V5(s, o) {
          return s && s.length ? Jc(s, nt(o, 2), rh) : t;
        }
        var G5 = rf(function (s, o) {
            return s * o;
          }, 1),
          W5 = dh("round"),
          J5 = rf(function (s, o) {
            return s - o;
          }, 0);
        function Y5(s) {
          return s && s.length ? $u(s, si) : 0;
        }
        function Q5(s, o) {
          return s && s.length ? $u(s, nt(o, 2)) : 0;
        }
        return (
          (T.after = y6),
          (T.ary = np),
          (T.assign = aw),
          (T.assignIn = mp),
          (T.assignInWith = vf),
          (T.assignWith = ow),
          (T.at = cw),
          (T.before = sp),
          (T.bind = Mh),
          (T.bindAll = d5),
          (T.bindKey = ap),
          (T.castArray = C6),
          (T.chain = tp),
          (T.chunk = $y),
          (T.compact = jy),
          (T.concat = zy),
          (T.cond = p5),
          (T.conforms = g5),
          (T.constant = Rh),
          (T.countBy = Y3),
          (T.create = fw),
          (T.curry = op),
          (T.curryRight = cp),
          (T.debounce = fp),
          (T.defaults = uw),
          (T.defaultsDeep = hw),
          (T.defer = w6),
          (T.delay = _6),
          (T.difference = ky),
          (T.differenceBy = Hy),
          (T.differenceWith = Ky),
          (T.drop = Vy),
          (T.dropRight = Gy),
          (T.dropRightWhile = Wy),
          (T.dropWhile = Jy),
          (T.fill = Yy),
          (T.filter = X3),
          (T.flatMap = t6),
          (T.flatMapDeep = r6),
          (T.flatMapDepth = i6),
          (T.flatten = Q0),
          (T.flattenDeep = Qy),
          (T.flattenDepth = Xy),
          (T.flip = A6),
          (T.flow = b5),
          (T.flowRight = m5),
          (T.fromPairs = Zy),
          (T.functions = mw),
          (T.functionsIn = yw),
          (T.groupBy = n6),
          (T.initial = t3),
          (T.intersection = r3),
          (T.intersectionBy = i3),
          (T.intersectionWith = n3),
          (T.invert = _w),
          (T.invertBy = Aw),
          (T.invokeMap = a6),
          (T.iteratee = Nh),
          (T.keyBy = o6),
          (T.keys = wr),
          (T.keysIn = ni),
          (T.map = uf),
          (T.mapKeys = Sw),
          (T.mapValues = Mw),
          (T.matches = y5),
          (T.matchesProperty = w5),
          (T.memoize = lf),
          (T.merge = Iw),
          (T.mergeWith = yp),
          (T.method = _5),
          (T.methodOf = A5),
          (T.mixin = Th),
          (T.negate = df),
          (T.nthArg = S5),
          (T.omit = xw),
          (T.omitBy = Dw),
          (T.once = E6),
          (T.orderBy = c6),
          (T.over = M5),
          (T.overArgs = S6),
          (T.overEvery = I5),
          (T.overSome = x5),
          (T.partial = Ih),
          (T.partialRight = up),
          (T.partition = f6),
          (T.pick = Pw),
          (T.pickBy = wp),
          (T.property = xp),
          (T.propertyOf = D5),
          (T.pull = c3),
          (T.pullAll = Z0),
          (T.pullAllBy = f3),
          (T.pullAllWith = u3),
          (T.pullAt = h3),
          (T.range = P5),
          (T.rangeRight = O5),
          (T.rearg = M6),
          (T.reject = l6),
          (T.remove = l3),
          (T.rest = I6),
          (T.reverse = Eh),
          (T.sampleSize = p6),
          (T.set = Cw),
          (T.setWith = Rw),
          (T.shuffle = g6),
          (T.slice = d3),
          (T.sortBy = m6),
          (T.sortedUniq = w3),
          (T.sortedUniqBy = _3),
          (T.split = t5),
          (T.spread = x6),
          (T.tail = A3),
          (T.take = E3),
          (T.takeRight = S3),
          (T.takeRightWhile = M3),
          (T.takeWhile = I3),
          (T.tap = j3),
          (T.throttle = D6),
          (T.thru = ff),
          (T.toArray = gp),
          (T.toPairs = _p),
          (T.toPairsIn = Ap),
          (T.toPath = F5),
          (T.toPlainObject = bp),
          (T.transform = Nw),
          (T.unary = P6),
          (T.union = x3),
          (T.unionBy = D3),
          (T.unionWith = P3),
          (T.uniq = O3),
          (T.uniqBy = C3),
          (T.uniqWith = R3),
          (T.unset = Tw),
          (T.unzip = Sh),
          (T.unzipWith = ep),
          (T.update = Fw),
          (T.updateWith = Bw),
          (T.values = Pa),
          (T.valuesIn = qw),
          (T.without = N3),
          (T.words = Mp),
          (T.wrap = O6),
          (T.xor = T3),
          (T.xorBy = F3),
          (T.xorWith = B3),
          (T.zip = q3),
          (T.zipObject = L3),
          (T.zipObjectDeep = U3),
          (T.zipWith = $3),
          (T.entries = _p),
          (T.entriesIn = Ap),
          (T.extend = mp),
          (T.extendWith = vf),
          Th(T, T),
          (T.add = q5),
          (T.attempt = Ip),
          (T.camelCase = jw),
          (T.capitalize = Ep),
          (T.ceil = L5),
          (T.clamp = Lw),
          (T.clone = R6),
          (T.cloneDeep = T6),
          (T.cloneDeepWith = F6),
          (T.cloneWith = N6),
          (T.conformsTo = B6),
          (T.deburr = Sp),
          (T.defaultTo = v5),
          (T.divide = U5),
          (T.endsWith = zw),
          (T.eq = on),
          (T.escape = kw),
          (T.escapeRegExp = Hw),
          (T.every = Q3),
          (T.find = Z3),
          (T.findIndex = J0),
          (T.findKey = lw),
          (T.findLast = e6),
          (T.findLastIndex = Y0),
          (T.findLastKey = dw),
          (T.floor = $5),
          (T.forEach = rp),
          (T.forEachRight = ip),
          (T.forIn = pw),
          (T.forInRight = gw),
          (T.forOwn = vw),
          (T.forOwnRight = bw),
          (T.get = Ph),
          (T.gt = q6),
          (T.gte = L6),
          (T.has = ww),
          (T.hasIn = Oh),
          (T.head = X0),
          (T.identity = si),
          (T.includes = s6),
          (T.indexOf = e3),
          (T.inRange = Uw),
          (T.invoke = Ew),
          (T.isArguments = Hs),
          (T.isArray = vt),
          (T.isArrayBuffer = U6),
          (T.isArrayLike = ii),
          (T.isArrayLikeObject = ar),
          (T.isBoolean = $6),
          (T.isBuffer = ys),
          (T.isDate = j6),
          (T.isElement = z6),
          (T.isEmpty = k6),
          (T.isEqual = H6),
          (T.isEqualWith = K6),
          (T.isError = xh),
          (T.isFinite = V6),
          (T.isFunction = Jn),
          (T.isInteger = hp),
          (T.isLength = pf),
          (T.isMap = lp),
          (T.isMatch = G6),
          (T.isMatchWith = W6),
          (T.isNaN = J6),
          (T.isNative = Y6),
          (T.isNil = X6),
          (T.isNull = Q6),
          (T.isNumber = dp),
          (T.isObject = Zt),
          (T.isObjectLike = tr),
          (T.isPlainObject = Ao),
          (T.isRegExp = Dh),
          (T.isSafeInteger = Z6),
          (T.isSet = pp),
          (T.isString = gf),
          (T.isSymbol = mi),
          (T.isTypedArray = Da),
          (T.isUndefined = ew),
          (T.isWeakMap = tw),
          (T.isWeakSet = rw),
          (T.join = s3),
          (T.kebabCase = Kw),
          (T.last = Fi),
          (T.lastIndexOf = a3),
          (T.lowerCase = Vw),
          (T.lowerFirst = Gw),
          (T.lt = iw),
          (T.lte = nw),
          (T.max = j5),
          (T.maxBy = z5),
          (T.mean = k5),
          (T.meanBy = H5),
          (T.min = K5),
          (T.minBy = V5),
          (T.stubArray = Bh),
          (T.stubFalse = qh),
          (T.stubObject = C5),
          (T.stubString = R5),
          (T.stubTrue = N5),
          (T.multiply = G5),
          (T.nth = o3),
          (T.noConflict = E5),
          (T.noop = Fh),
          (T.now = hf),
          (T.pad = Ww),
          (T.padEnd = Jw),
          (T.padStart = Yw),
          (T.parseInt = Qw),
          (T.random = $w),
          (T.reduce = u6),
          (T.reduceRight = h6),
          (T.repeat = Xw),
          (T.replace = Zw),
          (T.result = Ow),
          (T.round = W5),
          (T.runInContext = re),
          (T.sample = d6),
          (T.size = v6),
          (T.snakeCase = e5),
          (T.some = b6),
          (T.sortedIndex = p3),
          (T.sortedIndexBy = g3),
          (T.sortedIndexOf = v3),
          (T.sortedLastIndex = b3),
          (T.sortedLastIndexBy = m3),
          (T.sortedLastIndexOf = y3),
          (T.startCase = r5),
          (T.startsWith = i5),
          (T.subtract = J5),
          (T.sum = Y5),
          (T.sumBy = Q5),
          (T.template = n5),
          (T.times = T5),
          (T.toFinite = Yn),
          (T.toInteger = wt),
          (T.toLength = vp),
          (T.toLower = s5),
          (T.toNumber = Bi),
          (T.toSafeInteger = sw),
          (T.toString = Bt),
          (T.toUpper = a5),
          (T.trim = o5),
          (T.trimEnd = c5),
          (T.trimStart = f5),
          (T.truncate = u5),
          (T.unescape = h5),
          (T.uniqueId = B5),
          (T.upperCase = l5),
          (T.upperFirst = Ch),
          (T.each = rp),
          (T.eachRight = ip),
          (T.first = X0),
          Th(
            T,
            (function () {
              var s = {};
              return (
                _n(T, function (o, l) {
                  Lt.call(T.prototype, l) || (s[l] = o);
                }),
                s
              );
            })(),
            { chain: !1 }
          ),
          (T.VERSION = i),
          Oi(
            [
              "bind",
              "bindKey",
              "curry",
              "curryRight",
              "partial",
              "partialRight",
            ],
            function (s) {
              T[s].placeholder = T;
            }
          ),
          Oi(["drop", "take"], function (s, o) {
            (Dt.prototype[s] = function (l) {
              l = l === t ? 1 : pr(wt(l), 0);
              var E = this.__filtered__ && !o ? new Dt(this) : this.clone();
              return (
                E.__filtered__
                  ? (E.__takeCount__ = Lr(l, E.__takeCount__))
                  : E.__views__.push({
                      size: Lr(l, p),
                      type: s + (E.__dir__ < 0 ? "Right" : ""),
                    }),
                E
              );
            }),
              (Dt.prototype[s + "Right"] = function (l) {
                return this.reverse()[s](l).reverse();
              });
          }),
          Oi(["filter", "map", "takeWhile"], function (s, o) {
            var l = o + 1,
              E = l == u || l == _;
            Dt.prototype[s] = function (R) {
              var L = this.clone();
              return (
                L.__iteratees__.push({ iteratee: nt(R, 3), type: l }),
                (L.__filtered__ = L.__filtered__ || E),
                L
              );
            };
          }),
          Oi(["head", "last"], function (s, o) {
            var l = "take" + (o ? "Right" : "");
            Dt.prototype[s] = function () {
              return this[l](1).value()[0];
            };
          }),
          Oi(["initial", "tail"], function (s, o) {
            var l = "drop" + (o ? "" : "Right");
            Dt.prototype[s] = function () {
              return this.__filtered__ ? new Dt(this) : this[l](1);
            };
          }),
          (Dt.prototype.compact = function () {
            return this.filter(si);
          }),
          (Dt.prototype.find = function (s) {
            return this.filter(s).head();
          }),
          (Dt.prototype.findLast = function (s) {
            return this.reverse().find(s);
          }),
          (Dt.prototype.invokeMap = Et(function (s, o) {
            return typeof s == "function"
              ? new Dt(this)
              : this.map(function (l) {
                  return vo(l, s, o);
                });
          })),
          (Dt.prototype.reject = function (s) {
            return this.filter(df(nt(s)));
          }),
          (Dt.prototype.slice = function (s, o) {
            s = wt(s);
            var l = this;
            return l.__filtered__ && (s > 0 || o < 0)
              ? new Dt(l)
              : (s < 0 ? (l = l.takeRight(-s)) : s && (l = l.drop(s)),
                o !== t &&
                  ((o = wt(o)), (l = o < 0 ? l.dropRight(-o) : l.take(o - s))),
                l);
          }),
          (Dt.prototype.takeRightWhile = function (s) {
            return this.reverse().takeWhile(s).reverse();
          }),
          (Dt.prototype.toArray = function () {
            return this.take(p);
          }),
          _n(Dt.prototype, function (s, o) {
            var l = /^(?:filter|find|map|reject)|While$/.test(o),
              E = /^(?:head|last)$/.test(o),
              R = T[E ? "take" + (o == "last" ? "Right" : "") : o],
              L = E || /^find/.test(o);
            R &&
              (T.prototype[o] = function () {
                var J = this.__wrapped__,
                  X = E ? [1] : arguments,
                  ie = J instanceof Dt,
                  he = X[0],
                  le = ie || vt(J),
                  ge = function (Mt) {
                    var Rt = R.apply(T, ls([Mt], X));
                    return E && De ? Rt[0] : Rt;
                  };
                le &&
                  l &&
                  typeof he == "function" &&
                  he.length != 1 &&
                  (ie = le = !1);
                var De = this.__chain__,
                  We = !!this.__actions__.length,
                  ot = L && !De,
                  _t = ie && !We;
                if (!L && le) {
                  J = _t ? J : new Dt(this);
                  var ct = s.apply(J, X);
                  return (
                    ct.__actions__.push({ func: ff, args: [ge], thisArg: t }),
                    new Ri(ct, De)
                  );
                }
                return ot && _t
                  ? s.apply(this, X)
                  : ((ct = this.thru(ge)),
                    ot ? (E ? ct.value()[0] : ct.value()) : ct);
              });
          }),
          Oi(
            ["pop", "push", "shift", "sort", "splice", "unshift"],
            function (s) {
              var o = Tc[s],
                l = /^(?:push|sort|unshift)$/.test(s) ? "tap" : "thru",
                E = /^(?:pop|shift)$/.test(s);
              T.prototype[s] = function () {
                var R = arguments;
                if (E && !this.__chain__) {
                  var L = this.value();
                  return o.apply(vt(L) ? L : [], R);
                }
                return this[l](function (J) {
                  return o.apply(vt(J) ? J : [], R);
                });
              };
            }
          ),
          _n(Dt.prototype, function (s, o) {
            var l = T[o];
            if (l) {
              var E = l.name + "";
              Lt.call(Ea, E) || (Ea[E] = []), Ea[E].push({ name: o, func: l });
            }
          }),
          (Ea[tf(t, Q).name] = [{ name: "wrapper", func: t }]),
          (Dt.prototype.clone = h2),
          (Dt.prototype.reverse = l2),
          (Dt.prototype.value = d2),
          (T.prototype.at = z3),
          (T.prototype.chain = k3),
          (T.prototype.commit = H3),
          (T.prototype.next = K3),
          (T.prototype.plant = G3),
          (T.prototype.reverse = W3),
          (T.prototype.toJSON = T.prototype.valueOf = T.prototype.value = J3),
          (T.prototype.first = T.prototype.head),
          co && (T.prototype[co] = V3),
          T
        );
      },
      wa = Hm();
    sr ? (((sr.exports = wa)._ = wa), (kt._ = wa)) : (Ct._ = wa);
  }).call(To);
})(Ql, Ql.exports);
var XO = Object.defineProperty,
  ZO = Object.defineProperties,
  eC = Object.getOwnPropertyDescriptors,
  Vg = Object.getOwnPropertySymbols,
  tC = Object.prototype.hasOwnProperty,
  rC = Object.prototype.propertyIsEnumerable,
  Gg = (r, e, t) =>
    e in r
      ? XO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  If = (r, e) => {
    for (var t in e || (e = {})) tC.call(e, t) && Gg(r, t, e[t]);
    if (Vg) for (var t of Vg(e)) rC.call(e, t) && Gg(r, t, e[t]);
    return r;
  },
  iC = (r, e) => ZO(r, eC(e));
function bn(r, e, t) {
  var i;
  const n = Uo(r);
  return (
    ((i = e.rpcMap) == null ? void 0 : i[n.reference]) ||
    `${vm}?chainId=${n.namespace}:${n.reference}&projectId=${t}`
  );
}
function la(r) {
  return r.includes(":") ? r.split(":")[1] : r;
}
function bm(r) {
  return r.map((e) => `${e.split(":")[0]}:${e.split(":")[1]}`);
}
function nC(r, e) {
  const t = Object.keys(e.namespaces).filter((n) => n.includes(r));
  if (!t.length) return [];
  const i = [];
  return (
    t.forEach((n) => {
      const a = e.namespaces[n].accounts;
      i.push(...a);
    }),
    i
  );
}
function ml(r = {}, e = {}) {
  const t = Wg(r),
    i = Wg(e);
  return Ql.exports.merge(t, i);
}
function Wg(r) {
  var e, t, i, n;
  const a = {};
  if (!Yo(r)) return a;
  for (const [f, h] of Object.entries(r)) {
    const b = wd(f) ? [f] : h.chains,
      v = h.methods || [],
      y = h.events || [],
      S = h.rpcMap || {},
      O = qo(f);
    a[O] = iC(If(If({}, a[O]), h), {
      chains: Pf(b, (e = a[O]) == null ? void 0 : e.chains),
      methods: Pf(v, (t = a[O]) == null ? void 0 : t.methods),
      events: Pf(y, (i = a[O]) == null ? void 0 : i.events),
      rpcMap: If(If({}, S), (n = a[O]) == null ? void 0 : n.rpcMap),
    });
  }
  return a;
}
function sC(r) {
  return r.includes(":") ? r.split(":")[2] : r;
}
function Jg(r) {
  const e = {};
  for (const [t, i] of Object.entries(r)) {
    const n = i.methods || [],
      a = i.events || [],
      f = i.accounts || [],
      h = wd(t) ? [t] : i.chains ? i.chains : bm(i.accounts);
    e[t] = { chains: h, methods: n, events: a, accounts: f };
  }
  return e;
}
function yl(r) {
  return typeof r == "number"
    ? r
    : r.includes("0x")
    ? parseInt(r, 16)
    : ((r = r.includes(":") ? r.split(":")[1] : r),
      isNaN(Number(r)) ? r : Number(r));
}
const mm = {},
  qt = (r) => mm[r],
  wl = (r, e) => {
    mm[r] = e;
  };
class aC {
  constructor(e) {
    (this.name = "polkadot"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = la(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
var oC = Object.defineProperty,
  cC = Object.defineProperties,
  fC = Object.getOwnPropertyDescriptors,
  Yg = Object.getOwnPropertySymbols,
  uC = Object.prototype.hasOwnProperty,
  hC = Object.prototype.propertyIsEnumerable,
  Qg = (r, e, t) =>
    e in r
      ? oC(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Xg = (r, e) => {
    for (var t in e || (e = {})) uC.call(e, t) && Qg(r, t, e[t]);
    if (Yg) for (var t of Yg(e)) hC.call(e, t) && Qg(r, t, e[t]);
    return r;
  },
  Zg = (r, e) => cC(r, fC(e));
class lC {
  constructor(e) {
    (this.name = "eip155"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.httpProviders = this.createHttpProviders()),
      (this.chainId = parseInt(this.getDefaultChain()));
  }
  async request(e) {
    switch (e.request.method) {
      case "eth_requestAccounts":
        return this.getAccounts();
      case "eth_accounts":
        return this.getAccounts();
      case "wallet_switchEthereumChain":
        return await this.handleSwitchChain(e);
      case "eth_chainId":
        return parseInt(this.getDefaultChain());
      case "wallet_getCapabilities":
        return await this.getCapabilities(e);
      case "wallet_getCallsStatus":
        return await this.getCallStatus(e);
    }
    return this.namespace.methods.includes(e.request.method)
      ? await this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(parseInt(e), t),
      (this.chainId = parseInt(e)),
      this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId.toString();
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  createHttpProvider(e, t) {
    const i =
      t || bn(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = parseInt(la(t));
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  getHttpProvider() {
    const e = this.chainId,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  async handleSwitchChain(e) {
    var t, i;
    let n = e.request.params
      ? (t = e.request.params[0]) == null
        ? void 0
        : t.chainId
      : "0x0";
    n = n.startsWith("0x") ? n : `0x${n}`;
    const a = parseInt(n, 16);
    if (this.isChainApproved(a)) this.setDefaultChain(`${a}`);
    else if (this.namespace.methods.includes("wallet_switchEthereumChain"))
      await this.client.request({
        topic: e.topic,
        request: { method: e.request.method, params: [{ chainId: n }] },
        chainId: (i = this.namespace.chains) == null ? void 0 : i[0],
      }),
        this.setDefaultChain(`${a}`);
    else
      throw new Error(
        `Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`
      );
    return null;
  }
  isChainApproved(e) {
    return this.namespace.chains.includes(`${this.name}:${e}`);
  }
  async getCapabilities(e) {
    var t, i, n;
    const a =
      (i = (t = e.request) == null ? void 0 : t.params) == null ? void 0 : i[0];
    if (!a)
      throw new Error(
        "Missing address parameter in `wallet_getCapabilities` request"
      );
    const f = this.client.session.get(e.topic),
      h =
        ((n = f == null ? void 0 : f.sessionProperties) == null
          ? void 0
          : n.capabilities) || {};
    if (h != null && h[a]) return h == null ? void 0 : h[a];
    const b = await this.client.request(e);
    try {
      await this.client.session.update(e.topic, {
        sessionProperties: Zg(Xg({}, f.sessionProperties || {}), {
          capabilities: Zg(Xg({}, h || {}), { [a]: b }),
        }),
      });
    } catch {}
    return b;
  }
  async getCallStatus(e) {
    var t, i;
    const n = this.client.session.get(e.topic),
      a = (t = n.sessionProperties) == null ? void 0 : t.bundler_name;
    if (a) {
      const h = this.getBundlerUrl(e.chainId, a);
      try {
        return await this.getUserOperationReceipt(h, e);
      } catch {}
    }
    const f = (i = n.sessionProperties) == null ? void 0 : i.bundler_url;
    if (f)
      try {
        return await this.getUserOperationReceipt(f, e);
      } catch {}
    if (this.namespace.methods.includes(e.request.method))
      return await this.client.request(e);
    throw new Error("Fetching call status not approved by the wallet.");
  }
  async getUserOperationReceipt(e, t) {
    var i;
    const n = new URL(e),
      a = await fetch(n, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(
          xs("eth_getUserOperationReceipt", [
            (i = t.request.params) == null ? void 0 : i[0],
          ])
        ),
      });
    if (!a.ok)
      throw new Error(`Failed to fetch user operation receipt - ${a.status}`);
    return await a.json();
  }
  getBundlerUrl(e, t) {
    return `${QO}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`;
  }
}
class dC {
  constructor(e) {
    (this.name = "solana"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = la(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class pC {
  constructor(e) {
    (this.name = "cosmos"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        mn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = la(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class gC {
  constructor(e) {
    (this.name = "algorand"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (!this.httpProviders[e]) {
      const i =
        t ||
        bn(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    (this.chainId = e),
      this.events.emit(
        mn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    return typeof i > "u"
      ? void 0
      : new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class vC {
  constructor(e) {
    (this.name = "cip34"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        mn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        const i = this.getCardanoRPCUrl(t),
          n = la(t);
        e[n] = this.createHttpProvider(n, i);
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  getCardanoRPCUrl(e) {
    const t = this.namespace.rpcMap;
    if (t) return t[e];
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || this.getCardanoRPCUrl(e);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class bC {
  constructor(e) {
    (this.name = "elrond"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = la(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class mC {
  constructor(e) {
    (this.name = "multiversx"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = la(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class yC {
  constructor(e) {
    (this.name = "near"),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (((this.chainId = e), !this.httpProviders[e])) {
      const i = t || bn(`${this.name}:${e}`, this.namespace);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace);
    return typeof i > "u"
      ? void 0
      : new Si(new Gi(i, qt("disableProviderPing")));
  }
}
class wC {
  constructor(e) {
    (this.name = Ba),
      (this.namespace = e.namespace),
      (this.events = qt("events")),
      (this.client = qt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    (this.namespace.chains = [
      ...new Set((this.namespace.chains || []).concat(e.chains || [])),
    ]),
      (this.namespace.accounts = [
        ...new Set((this.namespace.accounts || []).concat(e.accounts || [])),
      ]),
      (this.namespace.methods = [
        ...new Set((this.namespace.methods || []).concat(e.methods || [])),
      ]),
      (this.namespace.events = [
        ...new Set((this.namespace.events || []).concat(e.events || [])),
      ]),
      (this.httpProviders = this.createHttpProviders());
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider(e.chainId).request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(mn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    var e, t;
    const i = {};
    return (
      (t = (e = this.namespace) == null ? void 0 : e.accounts) == null ||
        t.forEach((n) => {
          const a = Uo(n);
          i[`${a.namespace}:${a.reference}`] = this.createHttpProvider(n);
        }),
      i
    );
  }
  getHttpProvider(e) {
    const t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || bn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Si(new Gi(i, qt("disableProviderPing")));
  }
}
var _C = Object.defineProperty,
  AC = Object.defineProperties,
  EC = Object.getOwnPropertyDescriptors,
  ev = Object.getOwnPropertySymbols,
  SC = Object.prototype.hasOwnProperty,
  MC = Object.prototype.propertyIsEnumerable,
  tv = (r, e, t) =>
    e in r
      ? _C(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  xf = (r, e) => {
    for (var t in e || (e = {})) SC.call(e, t) && tv(r, t, e[t]);
    if (ev) for (var t of ev(e)) MC.call(e, t) && tv(r, t, e[t]);
    return r;
  },
  _l = (r, e) => AC(r, EC(e));
class Pd {
  constructor(e) {
    (this.events = new ed()),
      (this.rpcProviders = {}),
      (this.shouldAbortPairingAttempt = !1),
      (this.maxPairingAttempts = 10),
      (this.disableProviderPing = !1),
      (this.providerOpts = e),
      (this.logger =
        typeof (e == null ? void 0 : e.logger) < "u" &&
        typeof (e == null ? void 0 : e.logger) != "string"
          ? e.logger
          : hc(Au({ level: (e == null ? void 0 : e.logger) || Hg }))),
      (this.disableProviderPing =
        (e == null ? void 0 : e.disableProviderPing) || !1);
  }
  static async init(e) {
    const t = new Pd(e);
    return await t.initialize(), t;
  }
  async request(e, t, i) {
    const [n, a] = this.validateChain(t);
    if (!this.session)
      throw new Error("Please call connect() before request()");
    return await this.getProvider(n).request({
      request: xf({}, e),
      chainId: `${n}:${a}`,
      topic: this.session.topic,
      expiry: i,
    });
  }
  sendAsync(e, t, i, n) {
    const a = new Date().getTime();
    this.request(e, i, n)
      .then((f) => t(null, Eu(a, f)))
      .catch((f) => t(f, void 0));
  }
  async enable() {
    if (!this.client) throw new Error("Sign Client not initialized");
    return (
      this.session ||
        (await this.connect({
          namespaces: this.namespaces,
          optionalNamespaces: this.optionalNamespaces,
          sessionProperties: this.sessionProperties,
        })),
      await this.requestAccounts()
    );
  }
  async disconnect() {
    var e;
    if (!this.session) throw new Error("Please call connect() before enable()");
    await this.client.disconnect({
      topic: (e = this.session) == null ? void 0 : e.topic,
      reason: Ut("USER_DISCONNECTED"),
    }),
      await this.cleanup();
  }
  async connect(e) {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (
      (this.setNamespaces(e),
      await this.cleanupPendingPairings(),
      !e.skipPairing)
    )
      return await this.pair(e.pairingTopic);
  }
  async authenticate(e, t) {
    if (!this.client) throw new Error("Sign Client not initialized");
    this.setNamespaces(e), await this.cleanupPendingPairings();
    const { uri: i, response: n } = await this.client.authenticate(e, t);
    i && ((this.uri = i), this.events.emit("display_uri", i));
    const a = await n();
    if (((this.session = a.session), this.session)) {
      const f = Jg(this.session.namespaces);
      (this.namespaces = ml(this.namespaces, f)),
        this.persist("namespaces", this.namespaces),
        this.onConnect();
    }
    return a;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  get isWalletConnect() {
    return !0;
  }
  async pair(e) {
    this.shouldAbortPairingAttempt = !1;
    let t = 0;
    do {
      if (this.shouldAbortPairingAttempt) throw new Error("Pairing aborted");
      if (t >= this.maxPairingAttempts)
        throw new Error("Max auto pairing attempts reached");
      const { uri: i, approval: n } = await this.client.connect({
        pairingTopic: e,
        requiredNamespaces: this.namespaces,
        optionalNamespaces: this.optionalNamespaces,
        sessionProperties: this.sessionProperties,
      });
      i && ((this.uri = i), this.events.emit("display_uri", i)),
        await n()
          .then((a) => {
            this.session = a;
            const f = Jg(a.namespaces);
            (this.namespaces = ml(this.namespaces, f)),
              this.persist("namespaces", this.namespaces);
          })
          .catch((a) => {
            if (a.message !== gm) throw a;
            t++;
          });
    } while (!this.session);
    return this.onConnect(), this.session;
  }
  setDefaultChain(e, t) {
    try {
      if (!this.session) return;
      const [i, n] = this.validateChain(e),
        a = this.getProvider(i);
      a.name === Ba
        ? a.setDefaultChain(`${i}:${n}`, t)
        : a.setDefaultChain(n, t);
    } catch (i) {
      if (!/Please call connect/.test(i.message)) throw i;
    }
  }
  async cleanupPendingPairings(e = {}) {
    this.logger.info("Cleaning up inactive pairings...");
    const t = this.client.pairing.getAll();
    if (Ln(t)) {
      for (const i of t)
        e.deletePairings
          ? this.client.core.expirer.set(i.topic, 0)
          : await this.client.core.relayer.subscriber.unsubscribe(i.topic);
      this.logger.info(`Inactive pairings cleared: ${t.length}`);
    }
  }
  abortPairingAttempt() {
    this.shouldAbortPairingAttempt = !0;
  }
  async checkStorage() {
    if (
      ((this.namespaces = await this.getFromStore("namespaces")),
      (this.optionalNamespaces =
        (await this.getFromStore("optionalNamespaces")) || {}),
      this.client.session.length)
    ) {
      const e = this.client.session.keys.length - 1;
      (this.session = this.client.session.get(this.client.session.keys[e])),
        this.createProviders();
    }
  }
  async initialize() {
    this.logger.trace("Initialized"),
      await this.createClient(),
      await this.checkStorage(),
      this.registerEventListeners();
  }
  async createClient() {
    (this.client =
      this.providerOpts.client ||
      (await Dd.init({
        core: this.providerOpts.core,
        logger: this.providerOpts.logger || Hg,
        relayUrl: this.providerOpts.relayUrl || WO,
        projectId: this.providerOpts.projectId,
        metadata: this.providerOpts.metadata,
        storageOptions: this.providerOpts.storageOptions,
        storage: this.providerOpts.storage,
        name: this.providerOpts.name,
        customStoragePrefix: this.providerOpts.customStoragePrefix,
        telemetryEnabled: this.providerOpts.telemetryEnabled,
      }))),
      this.logger.trace("SignClient Initialized");
  }
  createProviders() {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (!this.session)
      throw new Error(
        "Session not initialized. Please call connect() before enable()"
      );
    const e = [
      ...new Set(Object.keys(this.session.namespaces).map((t) => qo(t))),
    ];
    wl("client", this.client),
      wl("events", this.events),
      wl("disableProviderPing", this.disableProviderPing),
      e.forEach((t) => {
        if (!this.session) return;
        const i = nC(t, this.session),
          n = bm(i),
          a = ml(this.namespaces, this.optionalNamespaces),
          f = _l(xf({}, a[t]), { accounts: i, chains: n });
        switch (t) {
          case "eip155":
            this.rpcProviders[t] = new lC({ namespace: f });
            break;
          case "algorand":
            this.rpcProviders[t] = new gC({ namespace: f });
            break;
          case "solana":
            this.rpcProviders[t] = new dC({ namespace: f });
            break;
          case "cosmos":
            this.rpcProviders[t] = new pC({ namespace: f });
            break;
          case "polkadot":
            this.rpcProviders[t] = new aC({ namespace: f });
            break;
          case "cip34":
            this.rpcProviders[t] = new vC({ namespace: f });
            break;
          case "elrond":
            this.rpcProviders[t] = new bC({ namespace: f });
            break;
          case "multiversx":
            this.rpcProviders[t] = new mC({ namespace: f });
            break;
          case "near":
            this.rpcProviders[t] = new yC({ namespace: f });
            break;
          default:
            this.rpcProviders[Ba]
              ? this.rpcProviders[Ba].updateNamespace(f)
              : (this.rpcProviders[Ba] = new wC({ namespace: f }));
        }
      });
  }
  registerEventListeners() {
    if (typeof this.client > "u")
      throw new Error("Sign Client is not initialized");
    this.client.on("session_ping", (e) => {
      this.events.emit("session_ping", e);
    }),
      this.client.on("session_event", (e) => {
        const { params: t } = e,
          { event: i } = t;
        if (i.name === "accountsChanged") {
          const n = i.data;
          n && Ln(n) && this.events.emit("accountsChanged", n.map(sC));
        } else if (i.name === "chainChanged") {
          const n = t.chainId,
            a = t.event.data,
            f = qo(n),
            h = yl(n) !== yl(a) ? `${f}:${yl(a)}` : n;
          this.onChainChanged(h);
        } else this.events.emit(i.name, i.data);
        this.events.emit("session_event", e);
      }),
      this.client.on("session_update", ({ topic: e, params: t }) => {
        var i;
        const { namespaces: n } = t,
          a = (i = this.client) == null ? void 0 : i.session.get(e);
        (this.session = _l(xf({}, a), { namespaces: n })),
          this.onSessionUpdate(),
          this.events.emit("session_update", { topic: e, params: t });
      }),
      this.client.on("session_delete", async (e) => {
        await this.cleanup(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            _l(xf({}, Ut("USER_DISCONNECTED")), { data: e.topic })
          );
      }),
      this.on(mn.DEFAULT_CHAIN_CHANGED, (e) => {
        this.onChainChanged(e, !0);
      });
  }
  getProvider(e) {
    return this.rpcProviders[e] || this.rpcProviders[Ba];
  }
  onSessionUpdate() {
    Object.keys(this.rpcProviders).forEach((e) => {
      var t;
      this.getProvider(e).updateNamespace(
        (t = this.session) == null ? void 0 : t.namespaces[e]
      );
    });
  }
  setNamespaces(e) {
    const { namespaces: t, optionalNamespaces: i, sessionProperties: n } = e;
    t && Object.keys(t).length && (this.namespaces = t),
      i && Object.keys(i).length && (this.optionalNamespaces = i),
      (this.sessionProperties = n),
      this.persist("namespaces", t),
      this.persist("optionalNamespaces", i);
  }
  validateChain(e) {
    const [t, i] = (e == null ? void 0 : e.split(":")) || ["", ""];
    if (!this.namespaces || !Object.keys(this.namespaces).length) return [t, i];
    if (
      t &&
      !Object.keys(this.namespaces || {})
        .map((f) => qo(f))
        .includes(t)
    )
      throw new Error(
        `Namespace '${t}' is not configured. Please call connect() first with namespace config.`
      );
    if (t && i) return [t, i];
    const n = qo(Object.keys(this.namespaces)[0]),
      a = this.rpcProviders[n].getDefaultChain();
    return [n, a];
  }
  async requestAccounts() {
    const [e] = this.validateChain();
    return await this.getProvider(e).requestAccounts();
  }
  onChainChanged(e, t = !1) {
    if (!this.namespaces) return;
    const [i, n] = this.validateChain(e);
    n &&
      (t || this.getProvider(i).setDefaultChain(n),
      this.namespaces[i]
        ? (this.namespaces[i].defaultChain = n)
        : this.namespaces[`${i}:${n}`]
        ? (this.namespaces[`${i}:${n}`].defaultChain = n)
        : (this.namespaces[`${i}:${n}`] = { defaultChain: n }),
      this.persist("namespaces", this.namespaces),
      this.events.emit("chainChanged", n));
  }
  onConnect() {
    this.createProviders(),
      this.events.emit("connect", { session: this.session });
  }
  async cleanup() {
    (this.session = void 0),
      (this.namespaces = void 0),
      (this.optionalNamespaces = void 0),
      (this.sessionProperties = void 0),
      this.persist("namespaces", void 0),
      this.persist("optionalNamespaces", void 0),
      this.persist("sessionProperties", void 0),
      await this.cleanupPendingPairings({ deletePairings: !0 });
  }
  persist(e, t) {
    this.client.core.storage.setItem(`${Kg}/${e}`, t);
  }
  async getFromStore(e) {
    return await this.client.core.storage.getItem(`${Kg}/${e}`);
  }
}
const IC = Pd,
  xC = "wc",
  DC = "ethereum_provider",
  PC = `${xC}@2:${DC}:`,
  OC = "https://rpc.walletconnect.org/v1/",
  tu = ["eth_sendTransaction", "personal_sign"],
  ym = [
    "eth_accounts",
    "eth_requestAccounts",
    "eth_sendRawTransaction",
    "eth_sign",
    "eth_signTransaction",
    "eth_signTypedData",
    "eth_signTypedData_v3",
    "eth_signTypedData_v4",
    "eth_sendTransaction",
    "personal_sign",
    "wallet_switchEthereumChain",
    "wallet_addEthereumChain",
    "wallet_getPermissions",
    "wallet_requestPermissions",
    "wallet_registerOnboarding",
    "wallet_watchAsset",
    "wallet_scanQRCode",
    "wallet_sendCalls",
    "wallet_getCapabilities",
    "wallet_getCallsStatus",
    "wallet_showCallsStatus",
  ],
  ru = ["chainChanged", "accountsChanged"],
  wm = ["chainChanged", "accountsChanged", "message", "disconnect", "connect"];
var CC = Object.defineProperty,
  RC = Object.defineProperties,
  NC = Object.getOwnPropertyDescriptors,
  rv = Object.getOwnPropertySymbols,
  TC = Object.prototype.hasOwnProperty,
  FC = Object.prototype.propertyIsEnumerable,
  iv = (r, e, t) =>
    e in r
      ? CC(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  qa = (r, e) => {
    for (var t in e || (e = {})) TC.call(e, t) && iv(r, t, e[t]);
    if (rv) for (var t of rv(e)) FC.call(e, t) && iv(r, t, e[t]);
    return r;
  },
  Al = (r, e) => RC(r, NC(e));
function iu(r) {
  return Number(r[0].split(":")[1]);
}
function Df(r) {
  return `0x${r.toString(16)}`;
}
function BC(r) {
  const {
    chains: e,
    optionalChains: t,
    methods: i,
    optionalMethods: n,
    events: a,
    optionalEvents: f,
    rpcMap: h,
  } = r;
  if (!Ln(e)) throw new Error("Invalid chains");
  const b = {
      chains: e,
      methods: i || tu,
      events: a || ru,
      rpcMap: qa({}, e.length ? { [iu(e)]: h[iu(e)] } : {}),
    },
    v = a == null ? void 0 : a.filter((P) => !ru.includes(P)),
    y = i == null ? void 0 : i.filter((P) => !tu.includes(P));
  if (!t && !f && !n && !(v != null && v.length) && !(y != null && y.length))
    return { required: e.length ? b : void 0 };
  const S =
      ((v == null ? void 0 : v.length) && (y == null ? void 0 : y.length)) ||
      !t,
    O = {
      chains: [...new Set(S ? b.chains.concat(t || []) : t)],
      methods: [...new Set(b.methods.concat(n != null && n.length ? n : ym))],
      events: [...new Set(b.events.concat(f != null && f.length ? f : wm))],
      rpcMap: h,
    };
  return { required: e.length ? b : void 0, optional: t.length ? O : void 0 };
}
class Du {
  constructor() {
    (this.events = new Wi.EventEmitter()),
      (this.namespace = "eip155"),
      (this.accounts = []),
      (this.chainId = 1),
      (this.STORAGE_KEY = PC),
      (this.on = (e, t) => (this.events.on(e, t), this)),
      (this.once = (e, t) => (this.events.once(e, t), this)),
      (this.removeListener = (e, t) => (
        this.events.removeListener(e, t), this
      )),
      (this.off = (e, t) => (this.events.off(e, t), this)),
      (this.parseAccount = (e) =>
        this.isCompatibleChainId(e) ? this.parseAccountId(e).address : e),
      (this.signer = {}),
      (this.rpc = {});
  }
  static async init(e) {
    const t = new Du();
    return await t.initialize(e), t;
  }
  async request(e, t) {
    return await this.signer.request(e, this.formatChainId(this.chainId), t);
  }
  sendAsync(e, t, i) {
    this.signer.sendAsync(e, t, this.formatChainId(this.chainId), i);
  }
  get connected() {
    return this.signer.client ? this.signer.client.core.relayer.connected : !1;
  }
  get connecting() {
    return this.signer.client ? this.signer.client.core.relayer.connecting : !1;
  }
  async enable() {
    return (
      this.session || (await this.connect()),
      await this.request({ method: "eth_requestAccounts" })
    );
  }
  async connect(e) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts(e);
    const { required: t, optional: i } = BC(this.rpc);
    try {
      const n = await new Promise(async (f, h) => {
        var b;
        this.rpc.showQrModal &&
          ((b = this.modal) == null ||
            b.subscribeModal((v) => {
              !v.open &&
                !this.signer.session &&
                (this.signer.abortPairingAttempt(),
                h(new Error("Connection request reset. Please try again.")));
            })),
          await this.signer
            .connect(
              Al(
                qa(
                  { namespaces: qa({}, t && { [this.namespace]: t }) },
                  i && { optionalNamespaces: { [this.namespace]: i } }
                ),
                { pairingTopic: e == null ? void 0 : e.pairingTopic }
              )
            )
            .then((v) => {
              f(v);
            })
            .catch((v) => {
              h(new Error(v.message));
            });
      });
      if (!n) return;
      const a = i1(n.namespaces, [this.namespace]);
      this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
        this.setAccounts(a),
        this.events.emit("connect", { chainId: Df(this.chainId) });
    } catch (n) {
      throw (this.signer.logger.error(n), n);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async authenticate(e, t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts({ chains: e == null ? void 0 : e.chains });
    try {
      const i = await new Promise(async (a, f) => {
          var h;
          this.rpc.showQrModal &&
            ((h = this.modal) == null ||
              h.subscribeModal((b) => {
                !b.open &&
                  !this.signer.session &&
                  (this.signer.abortPairingAttempt(),
                  f(new Error("Connection request reset. Please try again.")));
              })),
            await this.signer
              .authenticate(Al(qa({}, e), { chains: this.rpc.chains }), t)
              .then((b) => {
                a(b);
              })
              .catch((b) => {
                f(new Error(b.message));
              });
        }),
        n = i.session;
      if (n) {
        const a = i1(n.namespaces, [this.namespace]);
        this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
          this.setAccounts(a),
          this.events.emit("connect", { chainId: Df(this.chainId) });
      }
      return i;
    } catch (i) {
      throw (this.signer.logger.error(i), i);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async disconnect() {
    this.session && (await this.signer.disconnect()), this.reset();
  }
  get isWalletConnect() {
    return !0;
  }
  get session() {
    return this.signer.session;
  }
  registerEventListeners() {
    this.signer.on("session_event", (e) => {
      const { params: t } = e,
        { event: i } = t;
      i.name === "accountsChanged"
        ? ((this.accounts = this.parseAccounts(i.data)),
          this.events.emit("accountsChanged", this.accounts))
        : i.name === "chainChanged"
        ? this.setChainId(this.formatChainId(i.data))
        : this.events.emit(i.name, i.data),
        this.events.emit("session_event", e);
    }),
      this.signer.on("chainChanged", (e) => {
        const t = parseInt(e);
        (this.chainId = t),
          this.events.emit("chainChanged", Df(this.chainId)),
          this.persist();
      }),
      this.signer.on("session_update", (e) => {
        this.events.emit("session_update", e);
      }),
      this.signer.on("session_delete", (e) => {
        this.reset(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            Al(qa({}, Ut("USER_DISCONNECTED")), {
              data: e.topic,
              name: "USER_DISCONNECTED",
            })
          );
      }),
      this.signer.on("display_uri", (e) => {
        var t, i;
        this.rpc.showQrModal &&
          ((t = this.modal) == null || t.closeModal(),
          (i = this.modal) == null || i.openModal({ uri: e })),
          this.events.emit("display_uri", e);
      });
  }
  switchEthereumChain(e) {
    this.request({
      method: "wallet_switchEthereumChain",
      params: [{ chainId: e.toString(16) }],
    });
  }
  isCompatibleChainId(e) {
    return typeof e == "string" ? e.startsWith(`${this.namespace}:`) : !1;
  }
  formatChainId(e) {
    return `${this.namespace}:${e}`;
  }
  parseChainId(e) {
    return Number(e.split(":")[1]);
  }
  setChainIds(e) {
    const t = e
      .filter((i) => this.isCompatibleChainId(i))
      .map((i) => this.parseChainId(i));
    t.length &&
      ((this.chainId = t[0]),
      this.events.emit("chainChanged", Df(this.chainId)),
      this.persist());
  }
  setChainId(e) {
    if (this.isCompatibleChainId(e)) {
      const t = this.parseChainId(e);
      (this.chainId = t), this.switchEthereumChain(t);
    }
  }
  parseAccountId(e) {
    const [t, i, n] = e.split(":");
    return { chainId: `${t}:${i}`, address: n };
  }
  setAccounts(e) {
    (this.accounts = e
      .filter(
        (t) =>
          this.parseChainId(this.parseAccountId(t).chainId) === this.chainId
      )
      .map((t) => this.parseAccountId(t).address)),
      this.events.emit("accountsChanged", this.accounts);
  }
  getRpcConfig(e) {
    var t, i;
    const n = (t = e == null ? void 0 : e.chains) != null ? t : [],
      a = (i = e == null ? void 0 : e.optionalChains) != null ? i : [],
      f = n.concat(a);
    if (!f.length)
      throw new Error(
        "No chains specified in either `chains` or `optionalChains`"
      );
    const h = n.length ? (e == null ? void 0 : e.methods) || tu : [],
      b = n.length ? (e == null ? void 0 : e.events) || ru : [],
      v = (e == null ? void 0 : e.optionalMethods) || [],
      y = (e == null ? void 0 : e.optionalEvents) || [],
      S = (e == null ? void 0 : e.rpcMap) || this.buildRpcMap(f, e.projectId),
      O = (e == null ? void 0 : e.qrModalOptions) || void 0;
    return {
      chains: n == null ? void 0 : n.map((P) => this.formatChainId(P)),
      optionalChains: a.map((P) => this.formatChainId(P)),
      methods: h,
      events: b,
      optionalMethods: v,
      optionalEvents: y,
      rpcMap: S,
      showQrModal: !!(e != null && e.showQrModal),
      qrModalOptions: O,
      projectId: e.projectId,
      metadata: e.metadata,
    };
  }
  buildRpcMap(e, t) {
    const i = {};
    return (
      e.forEach((n) => {
        i[n] = this.getRpcUrl(n, t);
      }),
      i
    );
  }
  async initialize(e) {
    if (
      ((this.rpc = this.getRpcConfig(e)),
      (this.chainId = this.rpc.chains.length
        ? iu(this.rpc.chains)
        : iu(this.rpc.optionalChains)),
      (this.signer = await IC.init({
        projectId: this.rpc.projectId,
        metadata: this.rpc.metadata,
        disableProviderPing: e.disableProviderPing,
        relayUrl: e.relayUrl,
        storageOptions: e.storageOptions,
        customStoragePrefix: e.customStoragePrefix,
        telemetryEnabled: e.telemetryEnabled,
      })),
      this.registerEventListeners(),
      await this.loadPersistedSession(),
      this.rpc.showQrModal)
    ) {
      let t;
      try {
        const { WalletConnectModal: i } = await n8(
          () => import("./index-gbInfnxq.js").then((n) => n.i),
          __vite__mapDeps([0, 1, 2])
        );
        t = i;
      } catch {
        throw new Error(
          "To use QR modal, please install @walletconnect/modal package"
        );
      }
      if (t)
        try {
          this.modal = new t(
            qa({ projectId: this.rpc.projectId }, this.rpc.qrModalOptions)
          );
        } catch (i) {
          throw (
            (this.signer.logger.error(i),
            new Error("Could not generate WalletConnectModal Instance"))
          );
        }
    }
  }
  loadConnectOpts(e) {
    if (!e) return;
    const { chains: t, optionalChains: i, rpcMap: n } = e;
    t &&
      Ln(t) &&
      ((this.rpc.chains = t.map((a) => this.formatChainId(a))),
      t.forEach((a) => {
        this.rpc.rpcMap[a] = (n == null ? void 0 : n[a]) || this.getRpcUrl(a);
      })),
      i &&
        Ln(i) &&
        ((this.rpc.optionalChains = []),
        (this.rpc.optionalChains =
          i == null ? void 0 : i.map((a) => this.formatChainId(a))),
        i.forEach((a) => {
          this.rpc.rpcMap[a] = (n == null ? void 0 : n[a]) || this.getRpcUrl(a);
        }));
  }
  getRpcUrl(e, t) {
    var i;
    return (
      ((i = this.rpc.rpcMap) == null ? void 0 : i[e]) ||
      `${OC}?chainId=eip155:${e}&projectId=${t || this.rpc.projectId}`
    );
  }
  async loadPersistedSession() {
    if (this.session)
      try {
        const e = await this.signer.client.core.storage.getItem(
            `${this.STORAGE_KEY}/chainId`
          ),
          t = this.session.namespaces[`${this.namespace}:${e}`]
            ? this.session.namespaces[`${this.namespace}:${e}`]
            : this.session.namespaces[this.namespace];
        this.setChainIds(
          e ? [this.formatChainId(e)] : t == null ? void 0 : t.accounts
        ),
          this.setAccounts(t == null ? void 0 : t.accounts);
      } catch (e) {
        this.signer.logger.error(
          "Failed to load persisted session, clearing state..."
        ),
          this.signer.logger.error(e),
          await this.disconnect().catch((t) => this.signer.logger.warn(t));
      }
  }
  reset() {
    (this.chainId = 1), (this.accounts = []);
  }
  persist() {
    this.session &&
      this.signer.client.core.storage.setItem(
        `${this.STORAGE_KEY}/chainId`,
        this.chainId
      );
  }
  parseAccounts(e) {
    return typeof e == "string" || e instanceof String
      ? [this.parseAccount(e)]
      : e.map((t) => this.parseAccount(t));
  }
}
const qC = Du,
  lR = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        EthereumProvider: qC,
        OPTIONAL_EVENTS: wm,
        OPTIONAL_METHODS: ym,
        REQUIRED_EVENTS: ru,
        REQUIRED_METHODS: tu,
        default: Du,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  );
export { fR as a, lR as b, UC as c, $C as f, hR as i, jC as t };
